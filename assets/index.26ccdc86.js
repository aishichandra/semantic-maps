(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Re(){}function gn(e){return e()}function Ft(){return Object.create(null)}function Ie(e){e.forEach(gn)}function mn(e){return typeof e=="function"}function Rt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function On(e){return Object.keys(e).length===0}function S(e,t){e.appendChild(t)}function ce(e,t,n){e.insertBefore(t,n||null)}function oe(e){e.parentNode.removeChild(e)}function _n(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function L(e){return document.createElement(e)}function Me(e){return document.createTextNode(e)}function J(){return Me(" ")}function fe(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function M(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ht(e){return e===""?null:+e}function In(e){return Array.from(e.childNodes)}function Oe(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Pe(e,t){e.value=t==null?"":t}function je(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Ht(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t){r.selected=!0;return}}e.selectedIndex=-1}function Dn(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let We;function Be(e){We=e}function Ln(){if(!We)throw new Error("Function called outside component initialization");return We}function Nt(e){Ln().$$.on_mount.push(e)}const Ue=[],_t=[],tt=[],qt=[],Tn=Promise.resolve();let yt=!1;function Pn(){yt||(yt=!0,Tn.then(yn))}function it(e){tt.push(e)}const dt=new Set;let Ye=0;function yn(){const e=We;do{for(;Ye<Ue.length;){const t=Ue[Ye];Ye++,Be(t),jn(t.$$)}for(Be(null),Ue.length=0,Ye=0;_t.length;)_t.pop()();for(let t=0;t<tt.length;t+=1){const n=tt[t];dt.has(n)||(dt.add(n),n())}tt.length=0}while(Ue.length);for(;qt.length;)qt.pop()();yt=!1,dt.clear(),Be(e)}function jn(e){if(e.fragment!==null){e.update(),Ie(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(it)}}const nt=new Set;let De;function zn(){De={r:0,c:[],p:De}}function Fn(){De.r||Ie(De.c),De=De.p}function Ke(e,t){e&&e.i&&(nt.delete(e),e.i(t))}function st(e,t,n,r){if(e&&e.o){if(nt.has(e))return;nt.add(e),De.c.push(()=>{nt.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function bn(e){e&&e.c()}function At(e,t,n,r){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),r||it(()=>{const u=e.$$.on_mount.map(gn).filter(mn);e.$$.on_destroy?e.$$.on_destroy.push(...u):Ie(u),e.$$.on_mount=[]}),s.forEach(it)}function Ot(e,t){const n=e.$$;n.fragment!==null&&(Ie(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Hn(e,t){e.$$.dirty[0]===-1&&(Ue.push(e),Pn(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function It(e,t,n,r,i,s,u,f=[-1]){const c=We;Be(e);const l=e.$$={fragment:null,ctx:[],props:s,update:Re,not_equal:i,bound:Ft(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Ft(),dirty:f,skip_bound:!1,root:t.target||c.$$.root};u&&u(l.root);let g=!1;if(l.ctx=n?n(e,t.props||{},(p,x,...C)=>{const v=C.length?C[0]:x;return l.ctx&&i(l.ctx[p],l.ctx[p]=v)&&(!l.skip_bound&&l.bound[p]&&l.bound[p](v),g&&Hn(e,p)),x}):[],l.update(),g=!0,Ie(l.before_update),l.fragment=r?r(l.ctx):!1,t.target){if(t.hydrate){const p=In(t.target);l.fragment&&l.fragment.l(p),p.forEach(oe)}else l.fragment&&l.fragment.c();t.intro&&Ke(e.$$.fragment),At(e,t.target,t.anchor,t.customElement),yn()}Be(c)}class Dt{$destroy(){Ot(this,1),this.$destroy=Re}$on(t,n){if(!mn(n))return Re;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!On(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var qn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xn={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(qn,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,u=r.IS_PAPA_WORKER||!1,f={},c=0,l={};function g(o){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(a){var h=ie(a);h.chunkSize=parseInt(h.chunkSize),a.step||a.chunk||(h.chunkSize=null),this._handle=new z(h),(this._handle.streamer=this)._config=h}.call(this,o),this.parseChunk=function(a,h){var d=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<d){let w=this._config.newline;w||(m=this._config.quoteChar||'"',w=this._handle.guessLineEndings(a,m)),a=[...a.split(w).slice(d)].join(w)}this.isFirstChunk&&_(this._config.beforeFirstChunk)&&(m=this._config.beforeFirstChunk(a))!==void 0&&(a=m),this.isFirstChunk=!1,this._halted=!1;var d=this._partialLine+a,m=(this._partialLine="",this._handle.parse(d,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(a=m.meta.cursor,d=(this._finished||(this._partialLine=d.substring(a-this._baseIndex),this._baseIndex=a),m&&m.data&&(this._rowCount+=m.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),u)r.postMessage({results:m,workerId:l.WORKER_ID,finished:d});else if(_(this._config.chunk)&&!h){if(this._config.chunk(m,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=m=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(m.data),this._completeResults.errors=this._completeResults.errors.concat(m.errors),this._completeResults.meta=m.meta),this._completed||!d||!_(this._config.complete)||m&&m.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),d||m&&m.meta.paused||this._nextChunk(),m}this._halted=!0},this._sendError=function(a){_(this._config.error)?this._config.error(a):u&&this._config.error&&r.postMessage({workerId:l.WORKER_ID,error:a,finished:!1})}}function p(o){var a;(o=o||{}).chunkSize||(o.chunkSize=l.RemoteChunkSize),g.call(this,o),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(h){this._input=h,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(a=new XMLHttpRequest,this._config.withCredentials&&(a.withCredentials=this._config.withCredentials),s||(a.onload=X(this._chunkLoaded,this),a.onerror=X(this._chunkError,this)),a.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var h,d=this._config.downloadRequestHeaders;for(h in d)a.setRequestHeader(h,d[h])}var m;this._config.chunkSize&&(m=this._start+this._config.chunkSize-1,a.setRequestHeader("Range","bytes="+this._start+"-"+m));try{a.send(this._config.downloadRequestBody)}catch(w){this._chunkError(w.message)}s&&a.status===0&&this._chunkError()}},this._chunkLoaded=function(){a.readyState===4&&(a.status<200||400<=a.status?this._chunkError():(this._start+=this._config.chunkSize||a.responseText.length,this._finished=!this._config.chunkSize||this._start>=(h=>(h=h.getResponseHeader("Content-Range"))!==null?parseInt(h.substring(h.lastIndexOf("/")+1)):-1)(a),this.parseChunk(a.responseText)))},this._chunkError=function(h){h=a.statusText||h,this._sendError(new Error(h))}}function x(o){(o=o||{}).chunkSize||(o.chunkSize=l.LocalChunkSize),g.call(this,o);var a,h,d=typeof FileReader<"u";this.stream=function(m){this._input=m,h=m.slice||m.webkitSlice||m.mozSlice,d?((a=new FileReader).onload=X(this._chunkLoaded,this),a.onerror=X(this._chunkError,this)):a=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var m=this._input,w=(this._config.chunkSize&&(w=Math.min(this._start+this._config.chunkSize,this._input.size),m=h.call(m,this._start,w)),a.readAsText(m,this._config.encoding));d||this._chunkLoaded({target:{result:w}})},this._chunkLoaded=function(m){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(m.target.result)},this._chunkError=function(){this._sendError(a.error)}}function C(o){var a;g.call(this,o=o||{}),this.stream=function(h){return a=h,this._nextChunk()},this._nextChunk=function(){var h,d;if(!this._finished)return h=this._config.chunkSize,a=h?(d=a.substring(0,h),a.substring(h)):(d=a,""),this._finished=!a,this.parseChunk(d)}}function v(o){g.call(this,o=o||{});var a=[],h=!0,d=!1;this.pause=function(){g.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){g.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(m){this._input=m,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){d&&a.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),a.length?this.parseChunk(a.shift()):h=!0},this._streamData=X(function(m){try{a.push(typeof m=="string"?m:m.toString(this._config.encoding)),h&&(h=!1,this._checkIsFinished(),this.parseChunk(a.shift()))}catch(w){this._streamError(w)}},this),this._streamError=X(function(m){this._streamCleanUp(),this._sendError(m)},this),this._streamEnd=X(function(){this._streamCleanUp(),d=!0,this._streamData("")},this),this._streamCleanUp=X(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function z(o){var a,h,d,m,w=Math.pow(2,53),U=-w,K=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,H=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,N=this,W=0,y=0,se=!1,O=!1,I=[],k={data:[],errors:[],meta:{}};function E(j){return o.skipEmptyLines==="greedy"?j.join("").trim()==="":j.length===1&&j[0].length===0}function P(){if(k&&d&&($("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),d=!1),o.skipEmptyLines&&(k.data=k.data.filter(function(V){return!E(V)})),A()){let V=function(he,G){_(o.transformHeader)&&(he=o.transformHeader(he,G)),I.push(he)};var R=V;if(k)if(Array.isArray(k.data[0])){for(var j=0;A()&&j<k.data.length;j++)k.data[j].forEach(V);k.data.splice(0,1)}else k.data.forEach(V)}function q(V,he){for(var G=o.header?{}:[],Q=0;Q<V.length;Q++){var D=Q,pe=V[Q],pe=((F,Z)=>(te=>(o.dynamicTypingFunction&&o.dynamicTyping[te]===void 0&&(o.dynamicTyping[te]=o.dynamicTypingFunction(te)),(o.dynamicTyping[te]||o.dynamicTyping)===!0))(F)?Z==="true"||Z==="TRUE"||Z!=="false"&&Z!=="FALSE"&&((te=>{if(K.test(te)&&(te=parseFloat(te),U<te&&te<w))return 1})(Z)?parseFloat(Z):H.test(Z)?new Date(Z):Z===""?null:Z):Z)(D=o.header?Q>=I.length?"__parsed_extra":I[Q]:D,pe=o.transform?o.transform(pe,D):pe);D==="__parsed_extra"?(G[D]=G[D]||[],G[D].push(pe)):G[D]=pe}return o.header&&(Q>I.length?$("FieldMismatch","TooManyFields","Too many fields: expected "+I.length+" fields but parsed "+Q,y+he):Q<I.length&&$("FieldMismatch","TooFewFields","Too few fields: expected "+I.length+" fields but parsed "+Q,y+he)),G}var ee;k&&(o.header||o.dynamicTyping||o.transform)&&(ee=1,!k.data.length||Array.isArray(k.data[0])?(k.data=k.data.map(q),ee=k.data.length):k.data=q(k.data,0),o.header&&k.meta&&(k.meta.fields=I),y+=ee)}function A(){return o.header&&I.length===0}function $(j,q,ee,R){j={type:j,code:q,message:ee},R!==void 0&&(j.row=R),k.errors.push(j)}_(o.step)&&(m=o.step,o.step=function(j){k=j,A()?P():(P(),k.data.length!==0&&(W+=j.data.length,o.preview&&W>o.preview?h.abort():(k.data=k.data[0],m(k,N))))}),this.parse=function(j,q,ee){var R=o.quoteChar||'"',R=(o.newline||(o.newline=this.guessLineEndings(j,R)),d=!1,o.delimiter?_(o.delimiter)&&(o.delimiter=o.delimiter(j),k.meta.delimiter=o.delimiter):((R=((V,he,G,Q,D)=>{var pe,F,Z,te;D=D||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var Ee=0;Ee<D.length;Ee++){for(var xe,_e=D[Ee],Y=0,ae=0,ue=0,be=(Z=void 0,new T({comments:Q,delimiter:_e,newline:he,preview:10}).parse(V)),ne=0;ne<be.data.length;ne++)G&&E(be.data[ne])?ue++:(xe=be.data[ne].length,ae+=xe,Z===void 0?Z=xe:0<xe&&(Y+=Math.abs(xe-Z),Z=xe));0<be.data.length&&(ae/=be.data.length-ue),(F===void 0||Y<=F)&&(te===void 0||te<ae)&&1.99<ae&&(F=Y,pe=_e,te=ae)}return{successful:!!(o.delimiter=pe),bestDelimiter:pe}})(j,o.newline,o.skipEmptyLines,o.comments,o.delimitersToGuess)).successful?o.delimiter=R.bestDelimiter:(d=!0,o.delimiter=l.DefaultDelimiter),k.meta.delimiter=o.delimiter),ie(o));return o.preview&&o.header&&R.preview++,a=j,h=new T(R),k=h.parse(a,q,ee),P(),se?{meta:{paused:!0}}:k||{meta:{paused:!1}}},this.paused=function(){return se},this.pause=function(){se=!0,h.abort(),a=_(o.chunk)?"":a.substring(h.getCharIndex())},this.resume=function(){N.streamer._halted?(se=!1,N.streamer.parseChunk(a,!0)):setTimeout(N.resume,3)},this.aborted=function(){return O},this.abort=function(){O=!0,h.abort(),k.meta.aborted=!0,_(o.complete)&&o.complete(k),a=""},this.guessLineEndings=function(V,R){V=V.substring(0,1048576);var R=new RegExp(b(R)+"([^]*?)"+b(R),"gm"),ee=(V=V.replace(R,"")).split("\r"),R=V.split(`
`),V=1<R.length&&R[0].length<ee[0].length;if(ee.length===1||V)return`
`;for(var he=0,G=0;G<ee.length;G++)ee[G][0]===`
`&&he++;return he>=ee.length/2?`\r
`:"\r"}}function b(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(o){var a=(o=o||{}).delimiter,h=o.newline,d=o.comments,m=o.step,w=o.preview,U=o.fastMode,K=null,H=!1,N=o.quoteChar==null?'"':o.quoteChar,W=N;if(o.escapeChar!==void 0&&(W=o.escapeChar),(typeof a!="string"||-1<l.BAD_DELIMITERS.indexOf(a))&&(a=","),d===a)throw new Error("Comment character same as delimiter");d===!0?d="#":(typeof d!="string"||-1<l.BAD_DELIMITERS.indexOf(d))&&(d=!1),h!==`
`&&h!=="\r"&&h!==`\r
`&&(h=`
`);var y=0,se=!1;this.parse=function(O,I,k){if(typeof O!="string")throw new Error("Input must be a string");var E=O.length,P=a.length,A=h.length,$=d.length,j=_(m),q=[],ee=[],R=[],V=y=0;if(!O)return Y();if(U||U!==!1&&O.indexOf(N)===-1){for(var he=O.split(h),G=0;G<he.length;G++){if(R=he[G],y+=R.length,G!==he.length-1)y+=h.length;else if(k)return Y();if(!d||R.substring(0,$)!==d){if(j){if(q=[],te(R.split(a)),ae(),se)return Y()}else te(R.split(a));if(w&&w<=G)return q=q.slice(0,w),Y(!0)}}return Y()}for(var Q=O.indexOf(a,y),D=O.indexOf(h,y),pe=new RegExp(b(W)+b(N),"g"),F=O.indexOf(N,y);;)if(O[y]===N)for(F=y,y++;;){if((F=O.indexOf(N,F+1))===-1)return k||ee.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:q.length,index:y}),xe();if(F===E-1)return xe(O.substring(y,F).replace(pe,N));if(N===W&&O[F+1]===W)F++;else if(N===W||F===0||O[F-1]!==W){Q!==-1&&Q<F+1&&(Q=O.indexOf(a,F+1));var Z=Ee((D=D!==-1&&D<F+1?O.indexOf(h,F+1):D)===-1?Q:Math.min(Q,D));if(O.substr(F+1+Z,P)===a){R.push(O.substring(y,F).replace(pe,N)),O[y=F+1+Z+P]!==N&&(F=O.indexOf(N,y)),Q=O.indexOf(a,y),D=O.indexOf(h,y);break}if(Z=Ee(D),O.substring(F+1+Z,F+1+Z+A)===h){if(R.push(O.substring(y,F).replace(pe,N)),_e(F+1+Z+A),Q=O.indexOf(a,y),F=O.indexOf(N,y),j&&(ae(),se))return Y();if(w&&q.length>=w)return Y(!0);break}ee.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:q.length,index:y}),F++}}else if(d&&R.length===0&&O.substring(y,y+$)===d){if(D===-1)return Y();y=D+A,D=O.indexOf(h,y),Q=O.indexOf(a,y)}else if(Q!==-1&&(Q<D||D===-1))R.push(O.substring(y,Q)),y=Q+P,Q=O.indexOf(a,y);else{if(D===-1)break;if(R.push(O.substring(y,D)),_e(D+A),j&&(ae(),se))return Y();if(w&&q.length>=w)return Y(!0)}return xe();function te(ue){q.push(ue),V=y}function Ee(ue){var be=0;return be=ue!==-1&&(ue=O.substring(F+1,ue))&&ue.trim()===""?ue.length:be}function xe(ue){return k||(ue===void 0&&(ue=O.substring(y)),R.push(ue),y=E,te(R),j&&ae()),Y()}function _e(ue){y=ue,te(R),R=[],D=O.indexOf(h,y)}function Y(ue){if(o.header&&!I&&q.length&&!H){var be=q[0],ne={},ye=new Set(be);let qe=!1;for(let ve=0;ve<be.length;ve++){let ge=be[ve];if(ne[ge=_(o.transformHeader)?o.transformHeader(ge,ve):ge]){let Ne,ke=ne[ge];for(;Ne=ge+"_"+ke,ke++,ye.has(Ne););ye.add(Ne),be[ve]=Ne,ne[ge]++,qe=!0,(K=K===null?{}:K)[Ne]=ge}else ne[ge]=1,be[ve]=ge;ye.add(ge)}qe&&console.warn("Duplicate headers found and renamed."),H=!0}return{data:q,errors:ee,meta:{delimiter:a,linebreak:h,aborted:se,truncated:!!ue,cursor:V+(I||0),renamedHeaders:K}}}function ae(){m(Y()),q=[],ee=[]}},this.abort=function(){se=!0},this.getCharIndex=function(){return y}}function de(o){var a=o.data,h=f[a.workerId],d=!1;if(a.error)h.userError(a.error,a.file);else if(a.results&&a.results.data){var m={abort:function(){d=!0,re(a.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:le,resume:le};if(_(h.userStep)){for(var w=0;w<a.results.data.length&&(h.userStep({data:a.results.data[w],errors:a.results.errors,meta:a.results.meta},m),!d);w++);delete a.results}else _(h.userChunk)&&(h.userChunk(a.results,m,a.file),delete a.results)}a.finished&&!d&&re(a.workerId,a.results)}function re(o,a){var h=f[o];_(h.userComplete)&&h.userComplete(a),h.terminate(),delete f[o]}function le(){throw new Error("Not implemented.")}function ie(o){if(typeof o!="object"||o===null)return o;var a,h=Array.isArray(o)?[]:{};for(a in o)h[a]=ie(o[a]);return h}function X(o,a){return function(){o.apply(a,arguments)}}function _(o){return typeof o=="function"}return l.parse=function(o,a){var h=(a=a||{}).dynamicTyping||!1;if(_(h)&&(a.dynamicTypingFunction=h,h={}),a.dynamicTyping=h,a.transform=!!_(a.transform)&&a.transform,!a.worker||!l.WORKERS_SUPPORTED)return h=null,l.NODE_STREAM_INPUT,typeof o=="string"?(o=(d=>d.charCodeAt(0)!==65279?d:d.slice(1))(o),h=new(a.download?p:C)(a)):o.readable===!0&&_(o.read)&&_(o.on)?h=new v(a):(r.File&&o instanceof File||o instanceof Object)&&(h=new x(a)),h.stream(o);(h=(()=>{var d;return!!l.WORKERS_SUPPORTED&&(d=(()=>{var m=r.URL||r.webkitURL||null,w=n.toString();return l.BLOB_URL||(l.BLOB_URL=m.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",w,")();"],{type:"text/javascript"})))})(),(d=new r.Worker(d)).onmessage=de,d.id=c++,f[d.id]=d)})()).userStep=a.step,h.userChunk=a.chunk,h.userComplete=a.complete,h.userError=a.error,a.step=_(a.step),a.chunk=_(a.chunk),a.complete=_(a.complete),a.error=_(a.error),delete a.worker,h.postMessage({input:o,config:a,workerId:h.id})},l.unparse=function(o,a){var h=!1,d=!0,m=",",w=`\r
`,U='"',K=U+U,H=!1,N=null,W=!1,y=((()=>{if(typeof a=="object"){if(typeof a.delimiter!="string"||l.BAD_DELIMITERS.filter(function(I){return a.delimiter.indexOf(I)!==-1}).length||(m=a.delimiter),typeof a.quotes!="boolean"&&typeof a.quotes!="function"&&!Array.isArray(a.quotes)||(h=a.quotes),typeof a.skipEmptyLines!="boolean"&&typeof a.skipEmptyLines!="string"||(H=a.skipEmptyLines),typeof a.newline=="string"&&(w=a.newline),typeof a.quoteChar=="string"&&(U=a.quoteChar),typeof a.header=="boolean"&&(d=a.header),Array.isArray(a.columns)){if(a.columns.length===0)throw new Error("Option columns is empty");N=a.columns}a.escapeChar!==void 0&&(K=a.escapeChar+U),a.escapeFormulae instanceof RegExp?W=a.escapeFormulae:typeof a.escapeFormulae=="boolean"&&a.escapeFormulae&&(W=/^[=+\-@\t\r].*$/)}})(),new RegExp(b(U),"g"));if(typeof o=="string"&&(o=JSON.parse(o)),Array.isArray(o)){if(!o.length||Array.isArray(o[0]))return se(null,o,H);if(typeof o[0]=="object")return se(N||Object.keys(o[0]),o,H)}else if(typeof o=="object")return typeof o.data=="string"&&(o.data=JSON.parse(o.data)),Array.isArray(o.data)&&(o.fields||(o.fields=o.meta&&o.meta.fields||N),o.fields||(o.fields=Array.isArray(o.data[0])?o.fields:typeof o.data[0]=="object"?Object.keys(o.data[0]):[]),Array.isArray(o.data[0])||typeof o.data[0]=="object"||(o.data=[o.data])),se(o.fields||[],o.data||[],H);throw new Error("Unable to serialize unrecognized input");function se(I,k,E){var P="",A=(typeof I=="string"&&(I=JSON.parse(I)),typeof k=="string"&&(k=JSON.parse(k)),Array.isArray(I)&&0<I.length),$=!Array.isArray(k[0]);if(A&&d){for(var j=0;j<I.length;j++)0<j&&(P+=m),P+=O(I[j],j);0<k.length&&(P+=w)}for(var q=0;q<k.length;q++){var ee=(A?I:k[q]).length,R=!1,V=A?Object.keys(k[q]).length===0:k[q].length===0;if(E&&!A&&(R=E==="greedy"?k[q].join("").trim()==="":k[q].length===1&&k[q][0].length===0),E==="greedy"&&A){for(var he=[],G=0;G<ee;G++){var Q=$?I[G]:G;he.push(k[q][Q])}R=he.join("").trim()===""}if(!R){for(var D=0;D<ee;D++){0<D&&!V&&(P+=m);var pe=A&&$?I[D]:D;P+=O(k[q][pe],D)}q<k.length-1&&(!E||0<ee&&!V)&&(P+=w)}}return P}function O(I,k){var E,P;return I==null?"":I.constructor===Date?JSON.stringify(I).slice(1,25):(P=!1,W&&typeof I=="string"&&W.test(I)&&(I="'"+I,P=!0),E=I.toString().replace(y,K),(P=P||h===!0||typeof h=="function"&&h(I,k)||Array.isArray(h)&&h[k]||((A,$)=>{for(var j=0;j<$.length;j++)if(-1<A.indexOf($[j]))return!0;return!1})(E,l.BAD_DELIMITERS)||-1<E.indexOf(m)||E.charAt(0)===" "||E.charAt(E.length-1)===" ")?U+E+U:E)}},l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!s&&!!r.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=T,l.ParserHandle=z,l.NetworkStreamer=p,l.FileStreamer=x,l.StringStreamer=C,l.ReadableStreamStreamer=v,r.jQuery&&((i=r.jQuery).fn.parse=function(o){var a=o.config||{},h=[];return this.each(function(w){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var U=0;U<this.files.length;U++)h.push({file:this.files[U],inputElem:this,instanceConfig:i.extend({},a)})}),d(),this;function d(){if(h.length===0)_(o.complete)&&o.complete();else{var w,U,K,H,N=h[0];if(_(o.before)){var W=o.before(N.file,N.inputElem);if(typeof W=="object"){if(W.action==="abort")return w="AbortError",U=N.file,K=N.inputElem,H=W.reason,void(_(o.error)&&o.error({name:w},U,K,H));if(W.action==="skip")return void m();typeof W.config=="object"&&(N.instanceConfig=i.extend(N.instanceConfig,W.config))}else if(W==="skip")return void m()}var y=N.instanceConfig.complete;N.instanceConfig.complete=function(se){_(y)&&y(se,N.file,N.inputElem),m()},l.parse(N.file,N.instanceConfig)}}function m(){h.splice(0,1),d()}}),u&&(r.onmessage=function(o){o=o.data,l.WORKER_ID===void 0&&o&&(l.WORKER_ID=o.workerId),typeof o.input=="string"?r.postMessage({workerId:l.WORKER_ID,results:l.parse(o.input,o.config),finished:!0}):(r.File&&o.input instanceof File||o.input instanceof Object)&&(o=l.parse(o.input,o.config))&&r.postMessage({workerId:l.WORKER_ID,results:o,finished:!0})}),(p.prototype=Object.create(g.prototype)).constructor=p,(x.prototype=Object.create(g.prototype)).constructor=x,(C.prototype=Object.create(C.prototype)).constructor=C,(v.prototype=Object.create(g.prototype)).constructor=v,l})})(xn);const Un=xn.exports;function rt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Bn(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wn(e){let t,n,r;e.length!==2?(t=rt,n=(f,c)=>rt(e(f),c),r=(f,c)=>e(f)-c):(t=e===rt||e===Bn?e:Wn,n=e,r=e);function i(f,c,l=0,g=f.length){if(l<g){if(t(c,c)!==0)return g;do{const p=l+g>>>1;n(f[p],c)<0?l=p+1:g=p}while(l<g)}return l}function s(f,c,l=0,g=f.length){if(l<g){if(t(c,c)!==0)return g;do{const p=l+g>>>1;n(f[p],c)<=0?l=p+1:g=p}while(l<g)}return l}function u(f,c,l=0,g=f.length){const p=i(f,c,l,g-1);return p>l&&r(f[p-1],c)>-r(f[p],c)?p-1:p}return{left:i,center:u,right:s}}function Wn(){return 0}function Kn(e){return e===null?NaN:+e}const Qn=wn(rt),Vn=Qn.right;wn(Kn).center;const Gn=Vn;class Ut extends Map{constructor(t,n=Jn){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Bt(this,t))}has(t){return super.has(Bt(this,t))}set(t,n){return super.set(Xn(this,t),n)}delete(t){return super.delete(Yn(this,t))}}function Bt({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Xn({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Yn({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Jn(e){return e!==null&&typeof e=="object"?e.valueOf():e}var bt=Math.sqrt(50),xt=Math.sqrt(10),wt=Math.sqrt(2);function Zn(e,t,n){var r,i=-1,s,u,f;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(s=e,e=t,t=s),(f=vn(e,t,n))===0||!isFinite(f))return[];if(f>0){let c=Math.round(e/f),l=Math.round(t/f);for(c*f<e&&++c,l*f>t&&--l,u=new Array(s=l-c+1);++i<s;)u[i]=(c+i)*f}else{f=-f;let c=Math.round(e*f),l=Math.round(t*f);for(c/f<e&&++c,l/f>t&&--l,u=new Array(s=l-c+1);++i<s;)u[i]=(c+i)/f}return r&&u.reverse(),u}function vn(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=bt?10:s>=xt?5:s>=wt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=bt?10:s>=xt?5:s>=wt?2:1)}function $n(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=bt?i*=10:s>=xt?i*=5:s>=wt&&(i*=2),t<e?-i:i}function Wt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Kt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function kn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Qt=Symbol("implicit");function Sn(){var e=new Ut,t=[],n=[],r=Qt;function i(s){let u=e.get(s);if(u===void 0){if(r!==Qt)return r;e.set(s,u=t.push(s)-1)}return n[u%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Ut;for(const u of s)e.has(u)||e.set(u,t.push(u)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Sn(t,n).unknown(r)},kn.apply(i,arguments),i}function Lt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Mn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Xe(){}var Qe=.7,at=1/Qe,Fe="\\s*([+-]?\\d+)\\s*",Ve="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ce="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",er=/^#([0-9a-f]{3,8})$/,tr=new RegExp(`^rgb\\(${Fe},${Fe},${Fe}\\)$`),nr=new RegExp(`^rgb\\(${Ce},${Ce},${Ce}\\)$`),rr=new RegExp(`^rgba\\(${Fe},${Fe},${Fe},${Ve}\\)$`),ir=new RegExp(`^rgba\\(${Ce},${Ce},${Ce},${Ve}\\)$`),sr=new RegExp(`^hsl\\(${Ve},${Ce},${Ce}\\)$`),ar=new RegExp(`^hsla\\(${Ve},${Ce},${Ce},${Ve}\\)$`),Vt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Lt(Xe,Ge,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Gt,formatHex:Gt,formatHex8:or,formatHsl:lr,formatRgb:Xt,toString:Xt});function Gt(){return this.rgb().formatHex()}function or(){return this.rgb().formatHex8()}function lr(){return Cn(this).formatHsl()}function Xt(){return this.rgb().formatRgb()}function Ge(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=er.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Yt(t):n===3?new we(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Je(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Je(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tr.exec(e))?new we(t[1],t[2],t[3],1):(t=nr.exec(e))?new we(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=rr.exec(e))?Je(t[1],t[2],t[3],t[4]):(t=ir.exec(e))?Je(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sr.exec(e))?$t(t[1],t[2]/100,t[3]/100,1):(t=ar.exec(e))?$t(t[1],t[2]/100,t[3]/100,t[4]):Vt.hasOwnProperty(e)?Yt(Vt[e]):e==="transparent"?new we(NaN,NaN,NaN,0):null}function Yt(e){return new we(e>>16&255,e>>8&255,e&255,1)}function Je(e,t,n,r){return r<=0&&(e=t=n=NaN),new we(e,t,n,r)}function ur(e){return e instanceof Xe||(e=Ge(e)),e?(e=e.rgb(),new we(e.r,e.g,e.b,e.opacity)):new we}function vt(e,t,n,r){return arguments.length===1?ur(e):new we(e,t,n,r==null?1:r)}function we(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Lt(we,vt,Mn(Xe,{brighter(e){return e=e==null?at:Math.pow(at,e),new we(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qe:Math.pow(Qe,e),new we(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new we(Te(this.r),Te(this.g),Te(this.b),ot(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jt,formatHex:Jt,formatHex8:fr,formatRgb:Zt,toString:Zt}));function Jt(){return`#${Le(this.r)}${Le(this.g)}${Le(this.b)}`}function fr(){return`#${Le(this.r)}${Le(this.g)}${Le(this.b)}${Le((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zt(){const e=ot(this.opacity);return`${e===1?"rgb(":"rgba("}${Te(this.r)}, ${Te(this.g)}, ${Te(this.b)}${e===1?")":`, ${e})`}`}function ot(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Te(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Le(e){return e=Te(e),(e<16?"0":"")+e.toString(16)}function $t(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Se(e,t,n,r)}function Cn(e){if(e instanceof Se)return new Se(e.h,e.s,e.l,e.opacity);if(e instanceof Xe||(e=Ge(e)),!e)return new Se;if(e instanceof Se)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),u=NaN,f=s-i,c=(s+i)/2;return f?(t===s?u=(n-r)/f+(n<r)*6:n===s?u=(r-t)/f+2:u=(t-n)/f+4,f/=c<.5?s+i:2-s-i,u*=60):f=c>0&&c<1?0:u,new Se(u,f,c,e.opacity)}function cr(e,t,n,r){return arguments.length===1?Cn(e):new Se(e,t,n,r==null?1:r)}function Se(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Lt(Se,cr,Mn(Xe,{brighter(e){return e=e==null?at:Math.pow(at,e),new Se(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qe:Math.pow(Qe,e),new Se(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new we(pt(e>=240?e-240:e+120,i,r),pt(e,i,r),pt(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Se(en(this.h),Ze(this.s),Ze(this.l),ot(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ot(this.opacity);return`${e===1?"hsl(":"hsla("}${en(this.h)}, ${Ze(this.s)*100}%, ${Ze(this.l)*100}%${e===1?")":`, ${e})`}`}}));function en(e){return e=(e||0)%360,e<0?e+360:e}function Ze(e){return Math.max(0,Math.min(1,e||0))}function pt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Tt=e=>()=>e;function hr(e,t){return function(n){return e+n*t}}function dr(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function pr(e){return(e=+e)==1?En:function(t,n){return n-t?dr(t,n,e):Tt(isNaN(t)?n:t)}}function En(e,t){var n=t-e;return n?hr(e,n):Tt(isNaN(e)?t:e)}const tn=function e(t){var n=pr(t);function r(i,s){var u=n((i=vt(i)).r,(s=vt(s)).r),f=n(i.g,s.g),c=n(i.b,s.b),l=En(i.opacity,s.opacity);return function(g){return i.r=u(g),i.g=f(g),i.b=c(g),i.opacity=l(g),i+""}}return r.gamma=e,r}(1);function gr(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function mr(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _r(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),u;for(u=0;u<r;++u)i[u]=Pt(e[u],t[u]);for(;u<n;++u)s[u]=t[u];return function(f){for(u=0;u<r;++u)s[u]=i[u](f);return s}}function yr(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function lt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function br(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Pt(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var kt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gt=new RegExp(kt.source,"g");function xr(e){return function(){return e}}function wr(e){return function(t){return e(t)+""}}function vr(e,t){var n=kt.lastIndex=gt.lastIndex=0,r,i,s,u=-1,f=[],c=[];for(e=e+"",t=t+"";(r=kt.exec(e))&&(i=gt.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),f[u]?f[u]+=s:f[++u]=s),(r=r[0])===(i=i[0])?f[u]?f[u]+=i:f[++u]=i:(f[++u]=null,c.push({i:u,x:lt(r,i)})),n=gt.lastIndex;return n<t.length&&(s=t.slice(n),f[u]?f[u]+=s:f[++u]=s),f.length<2?c[0]?wr(c[0].x):xr(t):(t=c.length,function(l){for(var g=0,p;g<t;++g)f[(p=c[g]).i]=p.x(l);return f.join("")})}function Pt(e,t){var n=typeof t,r;return t==null||n==="boolean"?Tt(t):(n==="number"?lt:n==="string"?(r=Ge(t))?(t=r,tn):vr:t instanceof Ge?tn:t instanceof Date?yr:mr(t)?gr:Array.isArray(t)?_r:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?br:lt)(e,t)}function kr(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Sr(e){return function(){return e}}function Mr(e){return+e}var nn=[0,1];function ze(e){return e}function St(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Sr(isNaN(t)?NaN:.5)}function Cr(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Er(e,t,n){var r=e[0],i=e[1],s=t[0],u=t[1];return i<r?(r=St(i,r),s=n(u,s)):(r=St(r,i),s=n(s,u)),function(f){return s(r(f))}}function Rr(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)i[u]=St(e[u],e[u+1]),s[u]=n(t[u],t[u+1]);return function(f){var c=Gn(e,f,1,r)-1;return s[c](i[c](f))}}function Nr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ar(){var e=nn,t=nn,n=Pt,r,i,s,u=ze,f,c,l;function g(){var x=Math.min(e.length,t.length);return u!==ze&&(u=Cr(e[0],e[x-1])),f=x>2?Rr:Er,c=l=null,p}function p(x){return x==null||isNaN(x=+x)?s:(c||(c=f(e.map(r),t,n)))(r(u(x)))}return p.invert=function(x){return u(i((l||(l=f(t,e.map(r),lt)))(x)))},p.domain=function(x){return arguments.length?(e=Array.from(x,Mr),g()):e.slice()},p.range=function(x){return arguments.length?(t=Array.from(x),g()):t.slice()},p.rangeRound=function(x){return t=Array.from(x),n=kr,g()},p.clamp=function(x){return arguments.length?(u=x?!0:ze,g()):u!==ze},p.interpolate=function(x){return arguments.length?(n=x,g()):n},p.unknown=function(x){return arguments.length?(s=x,p):s},function(x,C){return r=x,i=C,g()}}function Or(){return Ar()(ze,ze)}function Ir(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ut(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function He(e){return e=ut(Math.abs(e)),e?e[1]:NaN}function Dr(e,t){return function(n,r){for(var i=n.length,s=[],u=0,f=e[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),s.push(n.substring(i-=f,i+f)),!((c+=f+1)>r));)f=e[u=(u+1)%e.length];return s.reverse().join(t)}}function Lr(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Tr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ft(e){if(!(t=Tr.exec(e)))throw new Error("invalid format: "+e);var t;return new jt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ft.prototype=jt.prototype;function jt(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}jt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pr(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Rn;function jr(e,t){var n=ut(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(Rn=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return s===u?r:s>u?r+new Array(s-u+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+ut(e,Math.max(0,t+s-1))[0]}function rn(e,t){var n=ut(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const sn={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ir,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>rn(e*100,t),r:rn,s:jr,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function an(e){return e}var on=Array.prototype.map,ln=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function zr(e){var t=e.grouping===void 0||e.thousands===void 0?an:Dr(on.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?an:Lr(on.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(p){p=ft(p);var x=p.fill,C=p.align,v=p.sign,z=p.symbol,b=p.zero,T=p.width,de=p.comma,re=p.precision,le=p.trim,ie=p.type;ie==="n"?(de=!0,ie="g"):sn[ie]||(re===void 0&&(re=12),le=!0,ie="g"),(b||x==="0"&&C==="=")&&(b=!0,x="0",C="=");var X=z==="$"?n:z==="#"&&/[boxX]/.test(ie)?"0"+ie.toLowerCase():"",_=z==="$"?r:/[%p]/.test(ie)?u:"",o=sn[ie],a=/[defgprs%]/.test(ie);re=re===void 0?6:/[gprs]/.test(ie)?Math.max(1,Math.min(21,re)):Math.max(0,Math.min(20,re));function h(d){var m=X,w=_,U,K,H;if(ie==="c")w=o(d)+w,d="";else{d=+d;var N=d<0||1/d<0;if(d=isNaN(d)?c:o(Math.abs(d),re),le&&(d=Pr(d)),N&&+d==0&&v!=="+"&&(N=!1),m=(N?v==="("?v:f:v==="-"||v==="("?"":v)+m,w=(ie==="s"?ln[8+Rn/3]:"")+w+(N&&v==="("?")":""),a){for(U=-1,K=d.length;++U<K;)if(H=d.charCodeAt(U),48>H||H>57){w=(H===46?i+d.slice(U+1):d.slice(U))+w,d=d.slice(0,U);break}}}de&&!b&&(d=t(d,1/0));var W=m.length+d.length+w.length,y=W<T?new Array(T-W+1).join(x):"";switch(de&&b&&(d=t(y+d,y.length?T-w.length:1/0),y=""),C){case"<":d=m+d+w+y;break;case"=":d=m+y+d+w;break;case"^":d=y.slice(0,W=y.length>>1)+m+d+w+y.slice(W);break;default:d=y+m+d+w;break}return s(d)}return h.toString=function(){return p+""},h}function g(p,x){var C=l((p=ft(p),p.type="f",p)),v=Math.max(-8,Math.min(8,Math.floor(He(x)/3)))*3,z=Math.pow(10,-v),b=ln[8+v/3];return function(T){return C(z*T)+b}}return{format:l,formatPrefix:g}}var $e,Nn,An;Fr({thousands:",",grouping:[3],currency:["$",""]});function Fr(e){return $e=zr(e),Nn=$e.format,An=$e.formatPrefix,$e}function Hr(e){return Math.max(0,-He(Math.abs(e)))}function qr(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(He(t)/3)))*3-He(Math.abs(e)))}function Ur(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,He(t)-He(e))+1}function Br(e,t,n,r){var i=$n(e,t,n),s;switch(r=ft(r==null?",f":r),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=qr(i,u))&&(r.precision=s),An(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Ur(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Hr(i))&&(r.precision=s-(r.type==="%")*2);break}}return Nn(r)}function Wr(e){var t=e.domain;return e.ticks=function(n){var r=t();return Zn(r[0],r[r.length-1],n==null?10:n)},e.tickFormat=function(n,r){var i=t();return Br(i[0],i[i.length-1],n==null?10:n,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,u=r[i],f=r[s],c,l,g=10;for(f<u&&(l=u,u=f,f=l,l=i,i=s,s=l);g-- >0;){if(l=vn(u,f,n),l===c)return r[i]=u,r[s]=f,t(r);if(l>0)u=Math.floor(u/l)*l,f=Math.ceil(f/l)*l;else if(l<0)u=Math.ceil(u*l)/l,f=Math.floor(f*l)/l;else break;c=l}return e},e}function Mt(){var e=Or();return e.copy=function(){return Nr(e,Mt())},kn.apply(e,arguments),Wr(e)}function Kr(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Qr=Kr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Vr(e){let t;return{c(){t=L("p"),t.textContent="Hover over a circle to see details here.",M(t,"class","svelte-7dps2z")},m(n,r){ce(n,t,r)},p:Re,d(n){n&&oe(t)}}}function Gr(e){let t,n=e[0].title+"",r,i,s,u=e[0][e[1]]+"",f,c,l,g=e[0].date.toISOString().split("T")[0]+"",p,x,C,v=e[0].text+"",z;return{c(){t=L("h1"),r=Me(n),i=J(),s=L("span"),f=Me(u),c=J(),l=L("h2"),p=Me(g),x=J(),C=L("p"),z=Me(v),M(t,"class","svelte-7dps2z"),je(s,"background",e[2](e[0][e[1]])),M(s,"class","svelte-7dps2z"),M(l,"class","svelte-7dps2z"),M(C,"class","svelte-7dps2z")},m(b,T){ce(b,t,T),S(t,r),ce(b,i,T),ce(b,s,T),S(s,f),ce(b,c,T),ce(b,l,T),S(l,p),ce(b,x,T),ce(b,C,T),S(C,z)},p(b,T){T&1&&n!==(n=b[0].title+"")&&Oe(r,n),T&3&&u!==(u=b[0][b[1]]+"")&&Oe(f,u),T&7&&je(s,"background",b[2](b[0][b[1]])),T&1&&g!==(g=b[0].date.toISOString().split("T")[0]+"")&&Oe(p,g),T&1&&v!==(v=b[0].text+"")&&Oe(z,v)},d(b){b&&oe(t),b&&oe(i),b&&oe(s),b&&oe(c),b&&oe(l),b&&oe(x),b&&oe(C)}}}function Xr(e){let t;function n(s,u){return s[0]?Gr:Vr}let r=n(e),i=r(e);return{c(){t=L("div"),i.c(),M(t,"class","detail-card svelte-7dps2z")},m(s,u){ce(s,t,u),i.m(t,null)},p(s,[u]){r===(r=n(s))&&i?i.p(s,u):(i.d(1),i=r(s),i&&(i.c(),i.m(t,null)))},i:Re,o:Re,d(s){s&&oe(t),i.d()}}}function Yr(e,t,n){let{hoveredData:r}=t,{domainColumn:i}=t,{data:s}=t,{colorScale:u}=t;return Nt(()=>{u.domain(s.map(f=>f[i]))}),e.$$set=f=>{"hoveredData"in f&&n(0,r=f.hoveredData),"domainColumn"in f&&n(1,i=f.domainColumn),"data"in f&&n(3,s=f.data),"colorScale"in f&&n(2,u=f.colorScale)},[r,i,u,s]}class Jr extends Dt{constructor(t){super(),It(this,t,Yr,Xr,Rt,{hoveredData:0,domainColumn:1,data:3,colorScale:2})}}function Zr(e){let t,n,r,i,s,u,f;return i=new Jr({props:{hoveredData:e[3],data:e[0],domainColumn:e[1],colorScale:e[4]}}),{c(){t=L("div"),n=L("canvas"),r=J(),bn(i.$$.fragment),M(n,"width",Ct),M(n,"height",Et),M(n,"class","svelte-1y9g060"),M(t,"class","chart-container svelte-1y9g060")},m(c,l){ce(c,t,l),S(t,n),e[13](n),S(t,r),At(i,t,null),s=!0,u||(f=[fe(n,"mousemove",e[5]),fe(n,"mouseleave",e[6])],u=!0)},p(c,[l]){const g={};l&8&&(g.hoveredData=c[3]),l&1&&(g.data=c[0]),l&2&&(g.domainColumn=c[1]),i.$set(g)},i(c){s||(Ke(i.$$.fragment,c),s=!0)},o(c){st(i.$$.fragment,c),s=!1},d(c){c&&oe(t),e[13](null),Ot(i),u=!1,Ie(f)}}}let Ct=800,Et=600;const mt=6;let et=1;function $r(e,t,n){let r,i,s,u,{data:f=[]}=t,{domainColumn:c}=t,{opacity:l}=t,{selectedValues:g=new Set}=t,{searchQuery:p=""}=t,x,C;const v={top:20,right:20,bottom:20,left:20};let z=null,b=null,T={x:0,y:0};const de=Sn().domain([...new Set(f.map(_=>_[c]))]).range(Qr);function re(){C.clearRect(0,0,Ct,Et),C.save(),C.translate(T.x,T.y),C.scale(et,et),C.translate(-T.x,-T.y),f.forEach(_=>{const o=p&&_.title&&_.title.toLowerCase().includes(p.toLowerCase()),a=g.has(_[c]);C.beginPath(),C.arc(v.left+s(_.x),v.top+u(_.y),mt,0,Math.PI*2),n(10,C.fillStyle=de(_[c]),C),n(10,C.globalAlpha=o||a?1:l*.2,C),C.fill()}),z&&(C.beginPath(),C.arc(v.left+s(z.x),v.top+u(z.y),mt,0,Math.PI*2),n(10,C.fillStyle=de(z[c]),C),n(10,C.globalAlpha=1,C),C.fill(),n(10,C.strokeStyle="black",C),n(10,C.lineWidth=2,C),C.stroke()),C.restore()}function le(_){const o=x.getBoundingClientRect(),a=_.clientX-o.left-v.left,h=_.clientY-o.top-v.top,d=(a-T.x)/et+T.x,m=(h-T.y)/et+T.y,w=f.find(U=>{const K=s(U.x)-d,H=u(U.y)-m;return Math.sqrt(K*K+H*H)<mt+3});w?(n(3,z=w),b=w):n(3,z=b),re()}function ie(){n(3,z=b),re()}Nt(()=>{n(10,C=x.getContext("2d")),re()});function X(_){_t[_?"unshift":"push"](()=>{x=_,n(2,x)})}return e.$$set=_=>{"data"in _&&n(0,f=_.data),"domainColumn"in _&&n(1,c=_.domainColumn),"opacity"in _&&n(7,l=_.opacity),"selectedValues"in _&&n(8,g=_.selectedValues),"searchQuery"in _&&n(9,p=_.searchQuery)},e.$$.update=()=>{e.$$.dirty&4097&&(s=Mt().domain([Kt(f,_=>_.x),Wt(f,_=>_.x)]).range([0,r])),e.$$.dirty&2049&&(u=Mt().domain([Kt(f,_=>_.y),Wt(f,_=>_.y)]).range([i,0])),e.$$.dirty&1025&&C&&f.length&&re()},n(12,r=Ct-v.left-v.right),n(11,i=Et-v.top-v.bottom),[f,c,x,z,de,le,ie,l,g,p,C,i,r,X]}class ei extends Dt{constructor(t){super(),It(this,t,$r,Zr,Rt,{data:0,domainColumn:1,opacity:7,selectedValues:8,searchQuery:9})}}function un(e,t,n){const r=e.slice();return r[37]=t[n],r}function fn(e,t,n){const r=e.slice();return r[40]=t[n],r}function cn(e){let t,n,r,i,s,u,f=e[6],c=[];for(let l=0;l<f.length;l+=1)c[l]=hn(fn(e,f,l));return{c(){t=L("label"),t.textContent="\u{1F3A8} Color by Column:",n=J(),r=L("select"),i=L("option"),i.textContent="Select column";for(let l=0;l<c.length;l+=1)c[l].c();M(t,"class","svelte-1219lyu"),i.__value="",i.value=i.__value,i.disabled=!0,M(r,"class","svelte-1219lyu"),e[7]===void 0&&it(()=>e[23].call(r))},m(l,g){ce(l,t,g),ce(l,n,g),ce(l,r,g),S(r,i);for(let p=0;p<c.length;p+=1)c[p].m(r,null);Ht(r,e[7]),s||(u=[fe(r,"change",e[15]),fe(r,"change",e[23])],s=!0)},p(l,g){if(g[0]&64){f=l[6];let p;for(p=0;p<f.length;p+=1){const x=fn(l,f,p);c[p]?c[p].p(x,g):(c[p]=hn(x),c[p].c(),c[p].m(r,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}g[0]&192&&Ht(r,l[7])},d(l){l&&oe(t),l&&oe(n),l&&oe(r),_n(c,l),s=!1,Ie(u)}}}function hn(e){let t,n=e[40]+"",r,i;return{c(){t=L("option"),r=Me(n),t.__value=i=e[40],t.value=t.__value},m(s,u){ce(s,t,u),S(t,r)},p(s,u){u[0]&64&&n!==(n=s[40]+"")&&Oe(r,n),u[0]&64&&i!==(i=s[40])&&(t.__value=i,t.value=t.__value)},d(s){s&&oe(t)}}}function dn(e){let t,n,r,i,s,u=e[8],f=[];for(let c=0;c<u.length;c+=1)f[c]=pn(un(e,u,c));return{c(){t=L("label"),t.textContent="\u2728 Highlight Values:",n=J(),r=L("select");for(let c=0;c<f.length;c+=1)f[c].c();M(t,"class","svelte-1219lyu"),r.multiple=!0,M(r,"size","5"),M(r,"class","multi-select svelte-1219lyu")},m(c,l){ce(c,t,l),ce(c,n,l),ce(c,r,l);for(let g=0;g<f.length;g+=1)f[g].m(r,null);i||(s=fe(r,"change",e[16]),i=!0)},p(c,l){if(l[0]&256){u=c[8];let g;for(g=0;g<u.length;g+=1){const p=un(c,u,g);f[g]?f[g].p(p,l):(f[g]=pn(p),f[g].c(),f[g].m(r,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=u.length}},d(c){c&&oe(t),c&&oe(n),c&&oe(r),_n(f,c),i=!1,s()}}}function pn(e){let t,n=e[37]+"",r,i;return{c(){t=L("option"),r=Me(n),t.__value=i=e[37],t.value=t.__value},m(s,u){ce(s,t,u),S(t,r)},p(s,u){u[0]&256&&n!==(n=s[37]+"")&&Oe(r,n),u[0]&256&&i!==(i=s[37])&&(t.__value=i,t.value=t.__value)},d(s){s&&oe(t)}}}function ti(e){let t;return{c(){t=Me("\u25B6")},m(n,r){ce(n,t,r)},d(n){n&&oe(t)}}}function ni(e){let t;return{c(){t=Me("\u275A\u275A")},m(n,r){ce(n,t,r)},d(n){n&&oe(t)}}}function ri(e){let t;return{c(){t=L("p"),t.textContent="Loading data..."},m(n,r){ce(n,t,r)},p:Re,i:Re,o:Re,d(n){n&&oe(t)}}}function ii(e){let t,n;return t=new ei({props:{data:e[11],domainColumn:e[7],selectedValues:e[9],opacity:e[10],searchQuery:e[5]}}),{c(){bn(t.$$.fragment)},m(r,i){At(t,r,i),n=!0},p(r,i){const s={};i[0]&2048&&(s.data=r[11]),i[0]&128&&(s.domainColumn=r[7]),i[0]&512&&(s.selectedValues=r[9]),i[0]&1024&&(s.opacity=r[10]),i[0]&32&&(s.searchQuery=r[5]),t.$set(s)},i(r){n||(Ke(t.$$.fragment,r),n=!0)},o(r){st(t.$$.fragment,r),n=!1},d(r){Ot(t,r)}}}function si(e){let t,n,r,i,s,u,f,c,l,g,p,x,C,v,z,b,T,de,re,le,ie,X,_,o,a,h,d,m,w,U,K,H,N,W,y,se,O,I,k,E=Ae(e[0])+"",P,A,$,j=Ae(e[1])+"",q,ee,R,V,he,G,Q,D,pe,F,Z,te,Ee,xe,_e,Y,ae,ue,be,ne=e[6].length&&cn(e),ye=e[8].length&&dn(e);function qe(B,me){return B[12]?ni:ti}let ve=qe(e),ge=ve(e);const Ne=[ii,ri],ke=[];function zt(B,me){return B[11].length?0:1}return _e=zt(e),Y=ke[_e]=Ne[_e](e),{c(){t=L("div"),n=L("div"),n.innerHTML=`<h1 class="title svelte-1219lyu">Interactive Semantic Maps</h1> 
    <p class="subtitle svelte-1219lyu">The default dataset shows the semantic map of three North Carolina organizations</p>`,r=J(),i=L("div"),s=L("div"),u=L("div"),u.innerHTML=`<details open=""><summary class="svelte-1219lyu">What is a Semantic Map?</summary> 
          <div class="nerd-box-content svelte-1219lyu"><p>A <strong>semantic map</strong> visualizes text data by meaning\u2014closer dots are more similar.</p> 
            <ul class="svelte-1219lyu"><li>\u{1F4C1} Upload a CSV with <code class="svelte-1219lyu">x</code>, <code class="svelte-1219lyu">y</code>, and <code class="svelte-1219lyu">date</code> columns</li> 
              <li>\u{1F3A8} Color by a metadata column</li> 
              <li>\u{1F50D} Search by keyword or filter by category</li> 
              <li>\u23F1 Animate or drag date range to explore changes</li></ul></div></details>`,f=J(),c=L("label"),c.textContent="\u{1F4C1} Upload CSV:",l=J(),g=L("input"),p=J(),ne&&ne.c(),x=J(),ye&&ye.c(),C=J(),v=L("label"),v.textContent="\u{1F50D} Search Title:",z=J(),b=L("input"),T=J(),de=L("label"),de.textContent="\u{1F4A1} Adjust Opacity:",re=J(),le=L("input"),ie=J(),X=L("div"),_=L("label"),_.textContent="\u{1F4C5} Date Range:",o=J(),a=L("input"),d=J(),m=L("input"),U=J(),K=L("div"),H=L("input"),W=J(),y=L("input"),O=J(),I=L("div"),k=L("span"),P=Me(E),A=J(),$=L("span"),q=Me(j),ee=J(),R=L("div"),V=L("button"),V.textContent="-1W",he=J(),G=L("button"),G.textContent="-1D",Q=J(),D=L("button"),ge.c(),pe=J(),F=L("button"),F.textContent="+1D",Z=J(),te=L("button"),te.textContent="+1W",Ee=J(),xe=L("div"),Y.c(),M(n,"class","title-section svelte-1219lyu"),M(u,"class","nerd-box svelte-1219lyu"),M(c,"class","svelte-1219lyu"),M(g,"type","file"),M(g,"accept",".csv"),M(g,"class","svelte-1219lyu"),M(v,"class","svelte-1219lyu"),M(b,"type","text"),M(b,"placeholder","Search..."),M(b,"class","svelte-1219lyu"),M(de,"class","svelte-1219lyu"),M(le,"type","range"),M(le,"min","0.01"),M(le,"max","1"),M(le,"step","0.1"),M(le,"class","svelte-1219lyu"),M(_,"class","svelte-1219lyu"),M(a,"type","date"),a.value=h=Ae(e[0]),M(a,"class","svelte-1219lyu"),M(m,"type","date"),m.value=w=Ae(e[1]),M(m,"class","svelte-1219lyu"),M(H,"type","range"),M(H,"min","0"),M(H,"max",N=e[2].length-1),M(H,"class","slider start-slider svelte-1219lyu"),M(y,"type","range"),M(y,"min","0"),M(y,"max",se=e[2].length-1),M(y,"class","slider end-slider svelte-1219lyu"),M(K,"class","date-range-slider svelte-1219lyu"),je(K,"--start-percent",e[14]+"%"),je(K,"--end-percent",e[13]+"%"),M(I,"class","date-range-labels svelte-1219lyu"),M(V,"class","svelte-1219lyu"),M(G,"class","svelte-1219lyu"),M(D,"class","play-button svelte-1219lyu"),M(F,"class","svelte-1219lyu"),M(te,"class","svelte-1219lyu"),M(R,"class","date-navigation svelte-1219lyu"),M(X,"class","date-controls svelte-1219lyu"),M(s,"class","filter-panel svelte-1219lyu"),M(xe,"class","scatterplot-container svelte-1219lyu"),M(i,"class","content svelte-1219lyu"),M(t,"class","container svelte-1219lyu")},m(B,me){ce(B,t,me),S(t,n),S(t,r),S(t,i),S(i,s),S(s,u),S(s,f),S(s,c),S(s,l),S(s,g),S(s,p),ne&&ne.m(s,null),S(s,x),ye&&ye.m(s,null),S(s,C),S(s,v),S(s,z),S(s,b),S(s,T),S(s,de),S(s,re),S(s,le),Pe(le,e[10]),S(s,ie),S(s,X),S(X,_),S(X,o),S(X,a),S(X,d),S(X,m),S(X,U),S(X,K),S(K,H),Pe(H,e[3]),S(K,W),S(K,y),Pe(y,e[4]),S(X,O),S(X,I),S(I,k),S(k,P),S(I,A),S(I,$),S($,q),S(X,ee),S(X,R),S(R,V),S(R,he),S(R,G),S(R,Q),S(R,D),ge.m(D,null),S(R,pe),S(R,F),S(R,Z),S(R,te),S(i,Ee),S(i,xe),ke[_e].m(xe,null),ae=!0,ue||(be=[fe(g,"change",e[18]),fe(b,"input",e[21]),fe(le,"change",e[24]),fe(le,"input",e[24]),fe(a,"change",e[25]),fe(m,"change",e[26]),fe(H,"change",e[27]),fe(H,"input",e[27]),fe(H,"input",e[28]),fe(y,"change",e[29]),fe(y,"input",e[29]),fe(y,"input",e[30]),fe(V,"click",e[31]),fe(G,"click",e[32]),fe(D,"click",e[20]),fe(F,"click",e[33]),fe(te,"click",e[34])],ue=!0)},p(B,me){B[6].length?ne?ne.p(B,me):(ne=cn(B),ne.c(),ne.m(s,x)):ne&&(ne.d(1),ne=null),B[8].length?ye?ye.p(B,me):(ye=dn(B),ye.c(),ye.m(s,C)):ye&&(ye.d(1),ye=null),me[0]&1024&&Pe(le,B[10]),(!ae||me[0]&1&&h!==(h=Ae(B[0])))&&(a.value=h),(!ae||me[0]&2&&w!==(w=Ae(B[1])))&&(m.value=w),(!ae||me[0]&4&&N!==(N=B[2].length-1))&&M(H,"max",N),me[0]&8&&Pe(H,B[3]),(!ae||me[0]&4&&se!==(se=B[2].length-1))&&M(y,"max",se),me[0]&16&&Pe(y,B[4]),(!ae||me[0]&16384)&&je(K,"--start-percent",B[14]+"%"),(!ae||me[0]&8192)&&je(K,"--end-percent",B[13]+"%"),(!ae||me[0]&1)&&E!==(E=Ae(B[0])+"")&&Oe(P,E),(!ae||me[0]&2)&&j!==(j=Ae(B[1])+"")&&Oe(q,j),ve!==(ve=qe(B))&&(ge.d(1),ge=ve(B),ge&&(ge.c(),ge.m(D,null)));let ct=_e;_e=zt(B),_e===ct?ke[_e].p(B,me):(zn(),st(ke[ct],1,1,()=>{ke[ct]=null}),Fn(),Y=ke[_e],Y?Y.p(B,me):(Y=ke[_e]=Ne[_e](B),Y.c()),Ke(Y,1),Y.m(xe,null))},i(B){ae||(Ke(Y),ae=!0)},o(B){st(Y),ae=!1},d(B){B&&oe(t),ne&&ne.d(),ye&&ye.d(),ge.d(),ke[_e].d(),ue=!1,Ie(be)}}}function Ae(e){return e?e.toISOString().split("T")[0]:""}function ai(e,t,n){let r,i,s=[],u=[],f="org",c=[],l=new Set,g=1,p=null,x=null,C=[],v=[],z=0,b=0,T=!1,de=null,re="";Nt(async()=>{const P=await(await fetch("/semantic-maps/data.csv")).text();return le(P),()=>{de&&clearInterval(de)}});function le(E){const P=Un.parse(E,{header:!0});n(22,s=P.data.filter(A=>A.x&&A.y&&A.date).map(A=>({...A,x:+A.x,y:+A.y,date:new Date(A.date)}))),n(6,u=P.meta.fields||[]),n(2,v=[...new Set(s.map(A=>A.date.getTime()))].sort((A,$)=>A-$).map(A=>new Date(A))),n(0,p=v[0]),n(1,x=v[v.length-1]),n(3,z=0),n(4,b=v.length-1),f&&n(8,c=[...new Set(s.map(A=>A[f]).filter(Boolean))])}function ie(E){n(7,f=E.target.value),n(8,c=f?[...new Set(s.map(P=>P[f]).filter(Boolean))]:[]),n(9,l=new Set)}function X(E){n(9,l=new Set([...E.target.selectedOptions].map(P=>P.value)))}function _(E,P){const A=E.target.value?new Date(E.target.value):null;P==="start"?n(0,p=A):n(1,x=A)}function o(E){const P=E.target.files[0];if(P){const A=new FileReader;A.onload=$=>le($.target.result),A.readAsText(P)}}function a(E){const P=b-z;let A=z+E,$=b+E;A<0&&(A=0,$=P),$>=v.length&&($=v.length-1,A=Math.max(0,$-P)),n(3,z=A),n(4,b=$),n(0,p=v[z]||v[0]),n(1,x=v[b]||v[v.length-1])}function h(){T?(clearInterval(de),n(12,T=!1)):(n(12,T=!0),de=setInterval(()=>{if(b>=v.length-1){clearInterval(de),n(12,T=!1);return}a(1)},500))}function d(E){n(5,re=E.target.value)}function m(){f=Dn(this),n(7,f),n(6,u)}function w(){g=ht(this.value),n(10,g)}const U=E=>_(E,"start"),K=E=>_(E,"end");function H(){z=ht(this.value),n(3,z)}const N=()=>{z>b&&n(3,z=b),n(0,p=v[z])};function W(){b=ht(this.value),n(4,b)}const y=()=>{b<z&&n(4,b=z),n(1,x=v[b])},se=()=>a(-7),O=()=>a(-1),I=()=>a(1),k=()=>a(7);return e.$$.update=()=>{e.$$.dirty[0]&4194339&&n(11,C=s.filter(E=>(!p||E.date>=p)&&(!x||E.date<=x)&&(re.trim()===""||E.title&&E.title.toLowerCase().includes(re.toLowerCase())))),e.$$.dirty[0]&12&&n(14,r=v.length>1?z/(v.length-1)*100:0),e.$$.dirty[0]&20&&n(13,i=v.length>1?b/(v.length-1)*100:100)},[p,x,v,z,b,re,u,f,c,l,g,C,T,i,r,ie,X,_,o,a,h,d,s,m,w,U,K,H,N,W,y,se,O,I,k]}class oi extends Dt{constructor(t){super(),It(this,t,ai,si,Rt,{},null,[-1,-1])}}new oi({target:document.getElementById("app")});
