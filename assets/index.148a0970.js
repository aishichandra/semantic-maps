(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Se(){}function cn(e){return e()}function Tt(){return Object.create(null)}function Ne(e){e.forEach(cn)}function hn(e){return typeof e=="function"}function St(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Cn(e){return Object.keys(e).length===0}function k(e,t){e.appendChild(t)}function le(e,t,n){e.insertBefore(t,n||null)}function ae(e){e.parentNode.removeChild(e)}function dn(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function A(e){return document.createElement(e)}function ve(e){return document.createTextNode(e)}function te(){return ve(" ")}function ce(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function S(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ut(e){return e===""?null:+e}function Rn(e){return Array.from(e.childNodes)}function Re(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Te(e,t){e.value=t==null?"":t}function Le(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Lt(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t){r.selected=!0;return}}e.selectedIndex=-1}function Nn(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let Be;function He(e){Be=e}function An(){if(!Be)throw new Error("Function called outside component initialization");return Be}function Et(e){An().$$.on_mount.push(e)}const ze=[],pt=[],$e=[],Pt=[],On=Promise.resolve();let gt=!1;function Dn(){gt||(gt=!0,On.then(pn))}function nt(e){$e.push(e)}const ft=new Set;let Xe=0;function pn(){const e=Be;do{for(;Xe<ze.length;){const t=ze[Xe];Xe++,He(t),In(t.$$)}for(He(null),ze.length=0,Xe=0;pt.length;)pt.pop()();for(let t=0;t<$e.length;t+=1){const n=$e[t];ft.has(n)||(ft.add(n),n())}$e.length=0}while(ze.length);for(;Pt.length;)Pt.pop()();gt=!1,ft.clear(),He(e)}function In(e){if(e.fragment!==null){e.update(),Ne(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(nt)}}const et=new Set;let Ae;function qn(){Ae={r:0,c:[],p:Ae}}function Tn(){Ae.r||Ne(Ae.c),Ae=Ae.p}function We(e,t){e&&e.i&&(et.delete(e),e.i(t))}function rt(e,t,n,r){if(e&&e.o){if(et.has(e))return;et.add(e),Ae.c.push(()=>{et.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function gn(e){e&&e.c()}function Ct(e,t,n,r){const{fragment:i,after_update:a}=e.$$;i&&i.m(t,n),r||nt(()=>{const u=e.$$.on_mount.map(cn).filter(hn);e.$$.on_destroy?e.$$.on_destroy.push(...u):Ne(u),e.$$.on_mount=[]}),a.forEach(nt)}function Rt(e,t){const n=e.$$;n.fragment!==null&&(Ne(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ln(e,t){e.$$.dirty[0]===-1&&(ze.push(e),Dn(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Nt(e,t,n,r,i,a,u,f=[-1]){const c=Be;He(e);const l=e.$$={fragment:null,ctx:[],props:a,update:Se,not_equal:i,bound:Tt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Tt(),dirty:f,skip_bound:!1,root:t.target||c.$$.root};u&&u(l.root);let m=!1;if(l.ctx=n?n(e,t.props||{},(g,v,...B)=>{const p=B.length?B[0]:v;return l.ctx&&i(l.ctx[g],l.ctx[g]=p)&&(!l.skip_bound&&l.bound[g]&&l.bound[g](p),m&&Ln(e,g)),v}):[],l.update(),m=!0,Ne(l.before_update),l.fragment=r?r(l.ctx):!1,t.target){if(t.hydrate){const g=Rn(t.target);l.fragment&&l.fragment.l(g),g.forEach(ae)}else l.fragment&&l.fragment.c();t.intro&&We(e.$$.fragment),Ct(e,t.target,t.anchor,t.customElement),pn()}He(c)}class At{$destroy(){Rt(this,1),this.$destroy=Se}$on(t,n){if(!hn(n))return Se;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Cn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var Pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mn={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(Pn,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,a=!r.document&&!!r.postMessage,u=r.IS_PAPA_WORKER||!1,f={},c=0,l={};function m(s){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(o){var h=Z(o);h.chunkSize=parseInt(h.chunkSize),o.step||o.chunk||(h.chunkSize=null),this._handle=new O(h),(this._handle.streamer=this)._config=h}.call(this,s),this.parseChunk=function(o,h){var d=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<d){let w=this._config.newline;w||(_=this._config.quoteChar||'"',w=this._handle.guessLineEndings(o,_)),o=[...o.split(w).slice(d)].join(w)}this.isFirstChunk&&P(this._config.beforeFirstChunk)&&(_=this._config.beforeFirstChunk(o))!==void 0&&(o=_),this.isFirstChunk=!1,this._halted=!1;var d=this._partialLine+o,_=(this._partialLine="",this._handle.parse(d,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(o=_.meta.cursor,d=(this._finished||(this._partialLine=d.substring(o-this._baseIndex),this._baseIndex=o),_&&_.data&&(this._rowCount+=_.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),u)r.postMessage({results:_,workerId:l.WORKER_ID,finished:d});else if(P(this._config.chunk)&&!h){if(this._config.chunk(_,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=_=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(_.data),this._completeResults.errors=this._completeResults.errors.concat(_.errors),this._completeResults.meta=_.meta),this._completed||!d||!P(this._config.complete)||_&&_.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),d||_&&_.meta.paused||this._nextChunk(),_}this._halted=!0},this._sendError=function(o){P(this._config.error)?this._config.error(o):u&&this._config.error&&r.postMessage({workerId:l.WORKER_ID,error:o,finished:!1})}}function g(s){var o;(s=s||{}).chunkSize||(s.chunkSize=l.RemoteChunkSize),m.call(this,s),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(h){this._input=h,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(o=new XMLHttpRequest,this._config.withCredentials&&(o.withCredentials=this._config.withCredentials),a||(o.onload=he(this._chunkLoaded,this),o.onerror=he(this._chunkError,this)),o.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var h,d=this._config.downloadRequestHeaders;for(h in d)o.setRequestHeader(h,d[h])}var _;this._config.chunkSize&&(_=this._start+this._config.chunkSize-1,o.setRequestHeader("Range","bytes="+this._start+"-"+_));try{o.send(this._config.downloadRequestBody)}catch(w){this._chunkError(w.message)}a&&o.status===0&&this._chunkError()}},this._chunkLoaded=function(){o.readyState===4&&(o.status<200||400<=o.status?this._chunkError():(this._start+=this._config.chunkSize||o.responseText.length,this._finished=!this._config.chunkSize||this._start>=(h=>(h=h.getResponseHeader("Content-Range"))!==null?parseInt(h.substring(h.lastIndexOf("/")+1)):-1)(o),this.parseChunk(o.responseText)))},this._chunkError=function(h){h=o.statusText||h,this._sendError(new Error(h))}}function v(s){(s=s||{}).chunkSize||(s.chunkSize=l.LocalChunkSize),m.call(this,s);var o,h,d=typeof FileReader<"u";this.stream=function(_){this._input=_,h=_.slice||_.webkitSlice||_.mozSlice,d?((o=new FileReader).onload=he(this._chunkLoaded,this),o.onerror=he(this._chunkError,this)):o=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var _=this._input,w=(this._config.chunkSize&&(w=Math.min(this._start+this._config.chunkSize,this._input.size),_=h.call(_,this._start,w)),o.readAsText(_,this._config.encoding));d||this._chunkLoaded({target:{result:w}})},this._chunkLoaded=function(_){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(_.target.result)},this._chunkError=function(){this._sendError(o.error)}}function B(s){var o;m.call(this,s=s||{}),this.stream=function(h){return o=h,this._nextChunk()},this._nextChunk=function(){var h,d;if(!this._finished)return h=this._config.chunkSize,o=h?(d=o.substring(0,h),o.substring(h)):(d=o,""),this._finished=!o,this.parseChunk(d)}}function p(s){m.call(this,s=s||{});var o=[],h=!0,d=!1;this.pause=function(){m.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){m.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(_){this._input=_,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){d&&o.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),o.length?this.parseChunk(o.shift()):h=!0},this._streamData=he(function(_){try{o.push(typeof _=="string"?_:_.toString(this._config.encoding)),h&&(h=!1,this._checkIsFinished(),this.parseChunk(o.shift()))}catch(w){this._streamError(w)}},this),this._streamError=he(function(_){this._streamCleanUp(),this._sendError(_)},this),this._streamEnd=he(function(){this._streamCleanUp(),d=!0,this._streamData("")},this),this._streamCleanUp=he(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function O(s){var o,h,d,_,w=Math.pow(2,53),z=-w,U=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,J=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,M=this,q=0,x=0,ne=!1,E=!1,D=[],y={data:[],errors:[],meta:{}};function L(I){return s.skipEmptyLines==="greedy"?I.join("").trim()==="":I.length===1&&I[0].length===0}function C(){if(y&&d&&(re("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),d=!1),s.skipEmptyLines&&(y.data=y.data.filter(function(Q){return!L(Q)})),$()){let Q=function(ue,G){P(s.transformHeader)&&(ue=s.transformHeader(ue,G)),D.push(ue)};var T=Q;if(y)if(Array.isArray(y.data[0])){for(var I=0;$()&&I<y.data.length;I++)y.data[I].forEach(Q);y.data.splice(0,1)}else y.data.forEach(Q)}function K(Q,ue){for(var G=s.header?{}:[],V=0;V<Q.length;V++){var N=V,de=Q[V],de=((H,j)=>(X=>(s.dynamicTypingFunction&&s.dynamicTyping[X]===void 0&&(s.dynamicTyping[X]=s.dynamicTypingFunction(X)),(s.dynamicTyping[X]||s.dynamicTyping)===!0))(H)?j==="true"||j==="TRUE"||j!=="false"&&j!=="FALSE"&&((X=>{if(U.test(X)&&(X=parseFloat(X),z<X&&X<w))return 1})(j)?parseFloat(j):J.test(j)?new Date(j):j===""?null:j):j)(N=s.header?V>=D.length?"__parsed_extra":D[V]:N,de=s.transform?s.transform(de,N):de);N==="__parsed_extra"?(G[N]=G[N]||[],G[N].push(de)):G[N]=de}return s.header&&(V>D.length?re("FieldMismatch","TooManyFields","Too many fields: expected "+D.length+" fields but parsed "+V,x+ue):V<D.length&&re("FieldMismatch","TooFewFields","Too few fields: expected "+D.length+" fields but parsed "+V,x+ue)),G}var ee;y&&(s.header||s.dynamicTyping||s.transform)&&(ee=1,!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(K),ee=y.data.length):y.data=K(y.data,0),s.header&&y.meta&&(y.meta.fields=D),x+=ee)}function $(){return s.header&&D.length===0}function re(I,K,ee,T){I={type:I,code:K,message:ee},T!==void 0&&(I.row=T),y.errors.push(I)}P(s.step)&&(_=s.step,s.step=function(I){y=I,$()?C():(C(),y.data.length!==0&&(q+=I.data.length,s.preview&&q>s.preview?h.abort():(y.data=y.data[0],_(y,M))))}),this.parse=function(I,K,ee){var T=s.quoteChar||'"',T=(s.newline||(s.newline=this.guessLineEndings(I,T)),d=!1,s.delimiter?P(s.delimiter)&&(s.delimiter=s.delimiter(I),y.meta.delimiter=s.delimiter):((T=((Q,ue,G,V,N)=>{var de,H,j,X;N=N||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var pe=0;pe<N.length;pe++){for(var ye,Ee=N[pe],Y=0,ie=0,fe=0,ge=(j=void 0,new F({comments:V,delimiter:Ee,newline:ue,preview:10}).parse(Q)),me=0;me<ge.data.length;me++)G&&L(ge.data[me])?fe++:(ye=ge.data[me].length,ie+=ye,j===void 0?j=ye:0<ye&&(Y+=Math.abs(ye-j),j=ye));0<ge.data.length&&(ie/=ge.data.length-fe),(H===void 0||Y<=H)&&(X===void 0||X<ie)&&1.99<ie&&(H=Y,de=Ee,X=ie)}return{successful:!!(s.delimiter=de),bestDelimiter:de}})(I,s.newline,s.skipEmptyLines,s.comments,s.delimitersToGuess)).successful?s.delimiter=T.bestDelimiter:(d=!0,s.delimiter=l.DefaultDelimiter),y.meta.delimiter=s.delimiter),Z(s));return s.preview&&s.header&&T.preview++,o=I,h=new F(T),y=h.parse(o,K,ee),C(),ne?{meta:{paused:!0}}:y||{meta:{paused:!1}}},this.paused=function(){return ne},this.pause=function(){ne=!0,h.abort(),o=P(s.chunk)?"":o.substring(h.getCharIndex())},this.resume=function(){M.streamer._halted?(ne=!1,M.streamer.parseChunk(o,!0)):setTimeout(M.resume,3)},this.aborted=function(){return E},this.abort=function(){E=!0,h.abort(),y.meta.aborted=!0,P(s.complete)&&s.complete(y),o=""},this.guessLineEndings=function(Q,T){Q=Q.substring(0,1048576);var T=new RegExp(b(T)+"([^]*?)"+b(T),"gm"),ee=(Q=Q.replace(T,"")).split("\r"),T=Q.split(`
`),Q=1<T.length&&T[0].length<ee[0].length;if(ee.length===1||Q)return`
`;for(var ue=0,G=0;G<ee.length;G++)ee[G][0]===`
`&&ue++;return ue>=ee.length/2?`\r
`:"\r"}}function b(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function F(s){var o=(s=s||{}).delimiter,h=s.newline,d=s.comments,_=s.step,w=s.preview,z=s.fastMode,U=null,J=!1,M=s.quoteChar==null?'"':s.quoteChar,q=M;if(s.escapeChar!==void 0&&(q=s.escapeChar),(typeof o!="string"||-1<l.BAD_DELIMITERS.indexOf(o))&&(o=","),d===o)throw new Error("Comment character same as delimiter");d===!0?d="#":(typeof d!="string"||-1<l.BAD_DELIMITERS.indexOf(d))&&(d=!1),h!==`
`&&h!=="\r"&&h!==`\r
`&&(h=`
`);var x=0,ne=!1;this.parse=function(E,D,y){if(typeof E!="string")throw new Error("Input must be a string");var L=E.length,C=o.length,$=h.length,re=d.length,I=P(_),K=[],ee=[],T=[],Q=x=0;if(!E)return Y();if(z||z!==!1&&E.indexOf(M)===-1){for(var ue=E.split(h),G=0;G<ue.length;G++){if(T=ue[G],x+=T.length,G!==ue.length-1)x+=h.length;else if(y)return Y();if(!d||T.substring(0,re)!==d){if(I){if(K=[],X(T.split(o)),ie(),ne)return Y()}else X(T.split(o));if(w&&w<=G)return K=K.slice(0,w),Y(!0)}}return Y()}for(var V=E.indexOf(o,x),N=E.indexOf(h,x),de=new RegExp(b(q)+b(M),"g"),H=E.indexOf(M,x);;)if(E[x]===M)for(H=x,x++;;){if((H=E.indexOf(M,H+1))===-1)return y||ee.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:K.length,index:x}),ye();if(H===L-1)return ye(E.substring(x,H).replace(de,M));if(M===q&&E[H+1]===q)H++;else if(M===q||H===0||E[H-1]!==q){V!==-1&&V<H+1&&(V=E.indexOf(o,H+1));var j=pe((N=N!==-1&&N<H+1?E.indexOf(h,H+1):N)===-1?V:Math.min(V,N));if(E.substr(H+1+j,C)===o){T.push(E.substring(x,H).replace(de,M)),E[x=H+1+j+C]!==M&&(H=E.indexOf(M,x)),V=E.indexOf(o,x),N=E.indexOf(h,x);break}if(j=pe(N),E.substring(H+1+j,H+1+j+$)===h){if(T.push(E.substring(x,H).replace(de,M)),Ee(H+1+j+$),V=E.indexOf(o,x),H=E.indexOf(M,x),I&&(ie(),ne))return Y();if(w&&K.length>=w)return Y(!0);break}ee.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:K.length,index:x}),H++}}else if(d&&T.length===0&&E.substring(x,x+re)===d){if(N===-1)return Y();x=N+$,N=E.indexOf(h,x),V=E.indexOf(o,x)}else if(V!==-1&&(V<N||N===-1))T.push(E.substring(x,V)),x=V+C,V=E.indexOf(o,x);else{if(N===-1)break;if(T.push(E.substring(x,N)),Ee(N+$),I&&(ie(),ne))return Y();if(w&&K.length>=w)return Y(!0)}return ye();function X(fe){K.push(fe),Q=x}function pe(fe){var ge=0;return ge=fe!==-1&&(fe=E.substring(H+1,fe))&&fe.trim()===""?fe.length:ge}function ye(fe){return y||(fe===void 0&&(fe=E.substring(x)),T.push(fe),x=L,X(T),I&&ie()),Y()}function Ee(fe){x=fe,X(T),T=[],N=E.indexOf(h,x)}function Y(fe){if(s.header&&!D&&K.length&&!J){var ge=K[0],me={},Ie=new Set(ge);let xe=!1;for(let Me=0;Me<ge.length;Me++){let R=ge[Me];if(me[R=P(s.transformHeader)?s.transformHeader(R,Me):R]){let se,qe=me[R];for(;se=R+"_"+qe,qe++,Ie.has(se););Ie.add(se),ge[Me]=se,me[R]++,xe=!0,(U=U===null?{}:U)[se]=R}else me[R]=1,ge[Me]=R;Ie.add(R)}xe&&console.warn("Duplicate headers found and renamed."),J=!0}return{data:K,errors:ee,meta:{delimiter:o,linebreak:h,aborted:ne,truncated:!!fe,cursor:Q+(D||0),renamedHeaders:U}}}function ie(){_(Y()),K=[],ee=[]}},this.abort=function(){ne=!0},this.getCharIndex=function(){return x}}function W(s){var o=s.data,h=f[o.workerId],d=!1;if(o.error)h.userError(o.error,o.file);else if(o.results&&o.results.data){var _={abort:function(){d=!0,oe(o.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_e,resume:_e};if(P(h.userStep)){for(var w=0;w<o.results.data.length&&(h.userStep({data:o.results.data[w],errors:o.results.errors,meta:o.results.meta},_),!d);w++);delete o.results}else P(h.userChunk)&&(h.userChunk(o.results,_,o.file),delete o.results)}o.finished&&!d&&oe(o.workerId,o.results)}function oe(s,o){var h=f[s];P(h.userComplete)&&h.userComplete(o),h.terminate(),delete f[s]}function _e(){throw new Error("Not implemented.")}function Z(s){if(typeof s!="object"||s===null)return s;var o,h=Array.isArray(s)?[]:{};for(o in s)h[o]=Z(s[o]);return h}function he(s,o){return function(){s.apply(o,arguments)}}function P(s){return typeof s=="function"}return l.parse=function(s,o){var h=(o=o||{}).dynamicTyping||!1;if(P(h)&&(o.dynamicTypingFunction=h,h={}),o.dynamicTyping=h,o.transform=!!P(o.transform)&&o.transform,!o.worker||!l.WORKERS_SUPPORTED)return h=null,l.NODE_STREAM_INPUT,typeof s=="string"?(s=(d=>d.charCodeAt(0)!==65279?d:d.slice(1))(s),h=new(o.download?g:B)(o)):s.readable===!0&&P(s.read)&&P(s.on)?h=new p(o):(r.File&&s instanceof File||s instanceof Object)&&(h=new v(o)),h.stream(s);(h=(()=>{var d;return!!l.WORKERS_SUPPORTED&&(d=(()=>{var _=r.URL||r.webkitURL||null,w=n.toString();return l.BLOB_URL||(l.BLOB_URL=_.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",w,")();"],{type:"text/javascript"})))})(),(d=new r.Worker(d)).onmessage=W,d.id=c++,f[d.id]=d)})()).userStep=o.step,h.userChunk=o.chunk,h.userComplete=o.complete,h.userError=o.error,o.step=P(o.step),o.chunk=P(o.chunk),o.complete=P(o.complete),o.error=P(o.error),delete o.worker,h.postMessage({input:s,config:o,workerId:h.id})},l.unparse=function(s,o){var h=!1,d=!0,_=",",w=`\r
`,z='"',U=z+z,J=!1,M=null,q=!1,x=((()=>{if(typeof o=="object"){if(typeof o.delimiter!="string"||l.BAD_DELIMITERS.filter(function(D){return o.delimiter.indexOf(D)!==-1}).length||(_=o.delimiter),typeof o.quotes!="boolean"&&typeof o.quotes!="function"&&!Array.isArray(o.quotes)||(h=o.quotes),typeof o.skipEmptyLines!="boolean"&&typeof o.skipEmptyLines!="string"||(J=o.skipEmptyLines),typeof o.newline=="string"&&(w=o.newline),typeof o.quoteChar=="string"&&(z=o.quoteChar),typeof o.header=="boolean"&&(d=o.header),Array.isArray(o.columns)){if(o.columns.length===0)throw new Error("Option columns is empty");M=o.columns}o.escapeChar!==void 0&&(U=o.escapeChar+z),o.escapeFormulae instanceof RegExp?q=o.escapeFormulae:typeof o.escapeFormulae=="boolean"&&o.escapeFormulae&&(q=/^[=+\-@\t\r].*$/)}})(),new RegExp(b(z),"g"));if(typeof s=="string"&&(s=JSON.parse(s)),Array.isArray(s)){if(!s.length||Array.isArray(s[0]))return ne(null,s,J);if(typeof s[0]=="object")return ne(M||Object.keys(s[0]),s,J)}else if(typeof s=="object")return typeof s.data=="string"&&(s.data=JSON.parse(s.data)),Array.isArray(s.data)&&(s.fields||(s.fields=s.meta&&s.meta.fields||M),s.fields||(s.fields=Array.isArray(s.data[0])?s.fields:typeof s.data[0]=="object"?Object.keys(s.data[0]):[]),Array.isArray(s.data[0])||typeof s.data[0]=="object"||(s.data=[s.data])),ne(s.fields||[],s.data||[],J);throw new Error("Unable to serialize unrecognized input");function ne(D,y,L){var C="",$=(typeof D=="string"&&(D=JSON.parse(D)),typeof y=="string"&&(y=JSON.parse(y)),Array.isArray(D)&&0<D.length),re=!Array.isArray(y[0]);if($&&d){for(var I=0;I<D.length;I++)0<I&&(C+=_),C+=E(D[I],I);0<y.length&&(C+=w)}for(var K=0;K<y.length;K++){var ee=($?D:y[K]).length,T=!1,Q=$?Object.keys(y[K]).length===0:y[K].length===0;if(L&&!$&&(T=L==="greedy"?y[K].join("").trim()==="":y[K].length===1&&y[K][0].length===0),L==="greedy"&&$){for(var ue=[],G=0;G<ee;G++){var V=re?D[G]:G;ue.push(y[K][V])}T=ue.join("").trim()===""}if(!T){for(var N=0;N<ee;N++){0<N&&!Q&&(C+=_);var de=$&&re?D[N]:N;C+=E(y[K][de],N)}K<y.length-1&&(!L||0<ee&&!Q)&&(C+=w)}}return C}function E(D,y){var L,C;return D==null?"":D.constructor===Date?JSON.stringify(D).slice(1,25):(C=!1,q&&typeof D=="string"&&q.test(D)&&(D="'"+D,C=!0),L=D.toString().replace(x,U),(C=C||h===!0||typeof h=="function"&&h(D,y)||Array.isArray(h)&&h[y]||(($,re)=>{for(var I=0;I<re.length;I++)if(-1<$.indexOf(re[I]))return!0;return!1})(L,l.BAD_DELIMITERS)||-1<L.indexOf(_)||L.charAt(0)===" "||L.charAt(L.length-1)===" ")?z+L+z:L)}},l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!a&&!!r.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=F,l.ParserHandle=O,l.NetworkStreamer=g,l.FileStreamer=v,l.StringStreamer=B,l.ReadableStreamStreamer=p,r.jQuery&&((i=r.jQuery).fn.parse=function(s){var o=s.config||{},h=[];return this.each(function(w){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var z=0;z<this.files.length;z++)h.push({file:this.files[z],inputElem:this,instanceConfig:i.extend({},o)})}),d(),this;function d(){if(h.length===0)P(s.complete)&&s.complete();else{var w,z,U,J,M=h[0];if(P(s.before)){var q=s.before(M.file,M.inputElem);if(typeof q=="object"){if(q.action==="abort")return w="AbortError",z=M.file,U=M.inputElem,J=q.reason,void(P(s.error)&&s.error({name:w},z,U,J));if(q.action==="skip")return void _();typeof q.config=="object"&&(M.instanceConfig=i.extend(M.instanceConfig,q.config))}else if(q==="skip")return void _()}var x=M.instanceConfig.complete;M.instanceConfig.complete=function(ne){P(x)&&x(ne,M.file,M.inputElem),_()},l.parse(M.file,M.instanceConfig)}}function _(){h.splice(0,1),d()}}),u&&(r.onmessage=function(s){s=s.data,l.WORKER_ID===void 0&&s&&(l.WORKER_ID=s.workerId),typeof s.input=="string"?r.postMessage({workerId:l.WORKER_ID,results:l.parse(s.input,s.config),finished:!0}):(r.File&&s.input instanceof File||s.input instanceof Object)&&(s=l.parse(s.input,s.config))&&r.postMessage({workerId:l.WORKER_ID,results:s,finished:!0})}),(g.prototype=Object.create(m.prototype)).constructor=g,(v.prototype=Object.create(m.prototype)).constructor=v,(B.prototype=Object.create(B.prototype)).constructor=B,(p.prototype=Object.create(m.prototype)).constructor=p,l})})(mn);const jn=mn.exports;function tt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Fn(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _n(e){let t,n,r;e.length!==2?(t=tt,n=(f,c)=>tt(e(f),c),r=(f,c)=>e(f)-c):(t=e===tt||e===Fn?e:zn,n=e,r=e);function i(f,c,l=0,m=f.length){if(l<m){if(t(c,c)!==0)return m;do{const g=l+m>>>1;n(f[g],c)<0?l=g+1:m=g}while(l<m)}return l}function a(f,c,l=0,m=f.length){if(l<m){if(t(c,c)!==0)return m;do{const g=l+m>>>1;n(f[g],c)<=0?l=g+1:m=g}while(l<m)}return l}function u(f,c,l=0,m=f.length){const g=i(f,c,l,m-1);return g>l&&r(f[g-1],c)>-r(f[g],c)?g-1:g}return{left:i,center:u,right:a}}function zn(){return 0}function Hn(e){return e===null?NaN:+e}const Bn=_n(tt),Wn=Bn.right;_n(Hn).center;const Un=Wn;class jt extends Map{constructor(t,n=Vn){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Ft(this,t))}has(t){return super.has(Ft(this,t))}set(t,n){return super.set(Kn(this,t),n)}delete(t){return super.delete(Qn(this,t))}}function Ft({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Kn({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Qn({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Vn(e){return e!==null&&typeof e=="object"?e.valueOf():e}var mt=Math.sqrt(50),_t=Math.sqrt(10),yt=Math.sqrt(2);function Xn(e,t,n){var r,i=-1,a,u,f;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(a=e,e=t,t=a),(f=yn(e,t,n))===0||!isFinite(f))return[];if(f>0){let c=Math.round(e/f),l=Math.round(t/f);for(c*f<e&&++c,l*f>t&&--l,u=new Array(a=l-c+1);++i<a;)u[i]=(c+i)*f}else{f=-f;let c=Math.round(e*f),l=Math.round(t*f);for(c/f<e&&++c,l/f>t&&--l,u=new Array(a=l-c+1);++i<a;)u[i]=(c+i)/f}return r&&u.reverse(),u}function yn(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=mt?10:a>=_t?5:a>=yt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=mt?10:a>=_t?5:a>=yt?2:1)}function Yn(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=mt?i*=10:a>=_t?i*=5:a>=yt&&(i*=2),t<e?-i:i}function zt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Ht(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function bn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Bt=Symbol("implicit");function xn(){var e=new jt,t=[],n=[],r=Bt;function i(a){let u=e.get(a);if(u===void 0){if(r!==Bt)return r;e.set(a,u=t.push(a)-1)}return n[u%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new jt;for(const u of a)e.has(u)||e.set(u,t.push(u)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return xn(t,n).unknown(r)},bn.apply(i,arguments),i}function Ot(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function wn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ve(){}var Ue=.7,it=1/Ue,je="\\s*([+-]?\\d+)\\s*",Ke="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ke="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gn=/^#([0-9a-f]{3,8})$/,Jn=new RegExp(`^rgb\\(${je},${je},${je}\\)$`),Zn=new RegExp(`^rgb\\(${ke},${ke},${ke}\\)$`),$n=new RegExp(`^rgba\\(${je},${je},${je},${Ke}\\)$`),er=new RegExp(`^rgba\\(${ke},${ke},${ke},${Ke}\\)$`),tr=new RegExp(`^hsl\\(${Ke},${ke},${ke}\\)$`),nr=new RegExp(`^hsla\\(${Ke},${ke},${ke},${Ke}\\)$`),Wt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ot(Ve,Qe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ut,formatHex:Ut,formatHex8:rr,formatHsl:ir,formatRgb:Kt,toString:Kt});function Ut(){return this.rgb().formatHex()}function rr(){return this.rgb().formatHex8()}function ir(){return vn(this).formatHsl()}function Kt(){return this.rgb().formatRgb()}function Qe(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Gn.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Qt(t):n===3?new be(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ye(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ye(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Jn.exec(e))?new be(t[1],t[2],t[3],1):(t=Zn.exec(e))?new be(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$n.exec(e))?Ye(t[1],t[2],t[3],t[4]):(t=er.exec(e))?Ye(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=tr.exec(e))?Yt(t[1],t[2]/100,t[3]/100,1):(t=nr.exec(e))?Yt(t[1],t[2]/100,t[3]/100,t[4]):Wt.hasOwnProperty(e)?Qt(Wt[e]):e==="transparent"?new be(NaN,NaN,NaN,0):null}function Qt(e){return new be(e>>16&255,e>>8&255,e&255,1)}function Ye(e,t,n,r){return r<=0&&(e=t=n=NaN),new be(e,t,n,r)}function sr(e){return e instanceof Ve||(e=Qe(e)),e?(e=e.rgb(),new be(e.r,e.g,e.b,e.opacity)):new be}function bt(e,t,n,r){return arguments.length===1?sr(e):new be(e,t,n,r==null?1:r)}function be(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ot(be,bt,wn(Ve,{brighter(e){return e=e==null?it:Math.pow(it,e),new be(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ue:Math.pow(Ue,e),new be(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new be(De(this.r),De(this.g),De(this.b),st(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vt,formatHex:Vt,formatHex8:ar,formatRgb:Xt,toString:Xt}));function Vt(){return`#${Oe(this.r)}${Oe(this.g)}${Oe(this.b)}`}function ar(){return`#${Oe(this.r)}${Oe(this.g)}${Oe(this.b)}${Oe((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xt(){const e=st(this.opacity);return`${e===1?"rgb(":"rgba("}${De(this.r)}, ${De(this.g)}, ${De(this.b)}${e===1?")":`, ${e})`}`}function st(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function De(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Oe(e){return e=De(e),(e<16?"0":"")+e.toString(16)}function Yt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new we(e,t,n,r)}function vn(e){if(e instanceof we)return new we(e.h,e.s,e.l,e.opacity);if(e instanceof Ve||(e=Qe(e)),!e)return new we;if(e instanceof we)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),u=NaN,f=a-i,c=(a+i)/2;return f?(t===a?u=(n-r)/f+(n<r)*6:n===a?u=(r-t)/f+2:u=(t-n)/f+4,f/=c<.5?a+i:2-a-i,u*=60):f=c>0&&c<1?0:u,new we(u,f,c,e.opacity)}function or(e,t,n,r){return arguments.length===1?vn(e):new we(e,t,n,r==null?1:r)}function we(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ot(we,or,wn(Ve,{brighter(e){return e=e==null?it:Math.pow(it,e),new we(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ue:Math.pow(Ue,e),new we(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new be(ct(e>=240?e-240:e+120,i,r),ct(e,i,r),ct(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new we(Gt(this.h),Ge(this.s),Ge(this.l),st(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=st(this.opacity);return`${e===1?"hsl(":"hsla("}${Gt(this.h)}, ${Ge(this.s)*100}%, ${Ge(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Gt(e){return e=(e||0)%360,e<0?e+360:e}function Ge(e){return Math.max(0,Math.min(1,e||0))}function ct(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Dt=e=>()=>e;function lr(e,t){return function(n){return e+n*t}}function ur(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function fr(e){return(e=+e)==1?kn:function(t,n){return n-t?ur(t,n,e):Dt(isNaN(t)?n:t)}}function kn(e,t){var n=t-e;return n?lr(e,n):Dt(isNaN(e)?t:e)}const Jt=function e(t){var n=fr(t);function r(i,a){var u=n((i=bt(i)).r,(a=bt(a)).r),f=n(i.g,a.g),c=n(i.b,a.b),l=kn(i.opacity,a.opacity);return function(m){return i.r=u(m),i.g=f(m),i.b=c(m),i.opacity=l(m),i+""}}return r.gamma=e,r}(1);function cr(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function hr(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function dr(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),u;for(u=0;u<r;++u)i[u]=It(e[u],t[u]);for(;u<n;++u)a[u]=t[u];return function(f){for(u=0;u<r;++u)a[u]=i[u](f);return a}}function pr(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function at(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function gr(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=It(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var xt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ht=new RegExp(xt.source,"g");function mr(e){return function(){return e}}function _r(e){return function(t){return e(t)+""}}function yr(e,t){var n=xt.lastIndex=ht.lastIndex=0,r,i,a,u=-1,f=[],c=[];for(e=e+"",t=t+"";(r=xt.exec(e))&&(i=ht.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),f[u]?f[u]+=a:f[++u]=a),(r=r[0])===(i=i[0])?f[u]?f[u]+=i:f[++u]=i:(f[++u]=null,c.push({i:u,x:at(r,i)})),n=ht.lastIndex;return n<t.length&&(a=t.slice(n),f[u]?f[u]+=a:f[++u]=a),f.length<2?c[0]?_r(c[0].x):mr(t):(t=c.length,function(l){for(var m=0,g;m<t;++m)f[(g=c[m]).i]=g.x(l);return f.join("")})}function It(e,t){var n=typeof t,r;return t==null||n==="boolean"?Dt(t):(n==="number"?at:n==="string"?(r=Qe(t))?(t=r,Jt):yr:t instanceof Qe?Jt:t instanceof Date?pr:hr(t)?cr:Array.isArray(t)?dr:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?gr:at)(e,t)}function br(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function xr(e){return function(){return e}}function wr(e){return+e}var Zt=[0,1];function Pe(e){return e}function wt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:xr(isNaN(t)?NaN:.5)}function vr(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function kr(e,t,n){var r=e[0],i=e[1],a=t[0],u=t[1];return i<r?(r=wt(i,r),a=n(u,a)):(r=wt(r,i),a=n(a,u)),function(f){return a(r(f))}}function Mr(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)i[u]=wt(e[u],e[u+1]),a[u]=n(t[u],t[u+1]);return function(f){var c=Un(e,f,1,r)-1;return a[c](i[c](f))}}function Sr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Er(){var e=Zt,t=Zt,n=It,r,i,a,u=Pe,f,c,l;function m(){var v=Math.min(e.length,t.length);return u!==Pe&&(u=vr(e[0],e[v-1])),f=v>2?Mr:kr,c=l=null,g}function g(v){return v==null||isNaN(v=+v)?a:(c||(c=f(e.map(r),t,n)))(r(u(v)))}return g.invert=function(v){return u(i((l||(l=f(t,e.map(r),at)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,wr),m()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),m()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),n=br,m()},g.clamp=function(v){return arguments.length?(u=v?!0:Pe,m()):u!==Pe},g.interpolate=function(v){return arguments.length?(n=v,m()):n},g.unknown=function(v){return arguments.length?(a=v,g):a},function(v,B){return r=v,i=B,m()}}function Cr(){return Er()(Pe,Pe)}function Rr(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ot(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Fe(e){return e=ot(Math.abs(e)),e?e[1]:NaN}function Nr(e,t){return function(n,r){for(var i=n.length,a=[],u=0,f=e[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),a.push(n.substring(i-=f,i+f)),!((c+=f+1)>r));)f=e[u=(u+1)%e.length];return a.reverse().join(t)}}function Ar(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Or=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lt(e){if(!(t=Or.exec(e)))throw new Error("invalid format: "+e);var t;return new qt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}lt.prototype=qt.prototype;function qt(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}qt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Dr(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Mn;function Ir(e,t){var n=ot(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Mn=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return a===u?r:a>u?r+new Array(a-u+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ot(e,Math.max(0,t+a-1))[0]}function $t(e,t){var n=ot(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const en={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Rr,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$t(e*100,t),r:$t,s:Ir,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tn(e){return e}var nn=Array.prototype.map,rn=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function qr(e){var t=e.grouping===void 0||e.thousands===void 0?tn:Nr(nn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?tn:Ar(nn.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(g){g=lt(g);var v=g.fill,B=g.align,p=g.sign,O=g.symbol,b=g.zero,F=g.width,W=g.comma,oe=g.precision,_e=g.trim,Z=g.type;Z==="n"?(W=!0,Z="g"):en[Z]||(oe===void 0&&(oe=12),_e=!0,Z="g"),(b||v==="0"&&B==="=")&&(b=!0,v="0",B="=");var he=O==="$"?n:O==="#"&&/[boxX]/.test(Z)?"0"+Z.toLowerCase():"",P=O==="$"?r:/[%p]/.test(Z)?u:"",s=en[Z],o=/[defgprs%]/.test(Z);oe=oe===void 0?6:/[gprs]/.test(Z)?Math.max(1,Math.min(21,oe)):Math.max(0,Math.min(20,oe));function h(d){var _=he,w=P,z,U,J;if(Z==="c")w=s(d)+w,d="";else{d=+d;var M=d<0||1/d<0;if(d=isNaN(d)?c:s(Math.abs(d),oe),_e&&(d=Dr(d)),M&&+d==0&&p!=="+"&&(M=!1),_=(M?p==="("?p:f:p==="-"||p==="("?"":p)+_,w=(Z==="s"?rn[8+Mn/3]:"")+w+(M&&p==="("?")":""),o){for(z=-1,U=d.length;++z<U;)if(J=d.charCodeAt(z),48>J||J>57){w=(J===46?i+d.slice(z+1):d.slice(z))+w,d=d.slice(0,z);break}}}W&&!b&&(d=t(d,1/0));var q=_.length+d.length+w.length,x=q<F?new Array(F-q+1).join(v):"";switch(W&&b&&(d=t(x+d,x.length?F-w.length:1/0),x=""),B){case"<":d=_+d+w+x;break;case"=":d=_+x+d+w;break;case"^":d=x.slice(0,q=x.length>>1)+_+d+w+x.slice(q);break;default:d=x+_+d+w;break}return a(d)}return h.toString=function(){return g+""},h}function m(g,v){var B=l((g=lt(g),g.type="f",g)),p=Math.max(-8,Math.min(8,Math.floor(Fe(v)/3)))*3,O=Math.pow(10,-p),b=rn[8+p/3];return function(F){return B(O*F)+b}}return{format:l,formatPrefix:m}}var Je,Sn,En;Tr({thousands:",",grouping:[3],currency:["$",""]});function Tr(e){return Je=qr(e),Sn=Je.format,En=Je.formatPrefix,Je}function Lr(e){return Math.max(0,-Fe(Math.abs(e)))}function Pr(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fe(t)/3)))*3-Fe(Math.abs(e)))}function jr(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fe(t)-Fe(e))+1}function Fr(e,t,n,r){var i=Yn(e,t,n),a;switch(r=lt(r==null?",f":r),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Pr(i,u))&&(r.precision=a),En(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=jr(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Lr(i))&&(r.precision=a-(r.type==="%")*2);break}}return Sn(r)}function zr(e){var t=e.domain;return e.ticks=function(n){var r=t();return Xn(r[0],r[r.length-1],n==null?10:n)},e.tickFormat=function(n,r){var i=t();return Fr(i[0],i[i.length-1],n==null?10:n,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,u=r[i],f=r[a],c,l,m=10;for(f<u&&(l=u,u=f,f=l,l=i,i=a,a=l);m-- >0;){if(l=yn(u,f,n),l===c)return r[i]=u,r[a]=f,t(r);if(l>0)u=Math.floor(u/l)*l,f=Math.ceil(f/l)*l;else if(l<0)u=Math.ceil(u*l)/l,f=Math.floor(f*l)/l;else break;c=l}return e},e}function vt(){var e=Cr();return e.copy=function(){return Sr(e,vt())},bn.apply(e,arguments),zr(e)}function Hr(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Br=Hr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Wr(e){let t;return{c(){t=A("p"),t.textContent="Hover over a circle to see details here.",S(t,"class","svelte-60srhh")},m(n,r){le(n,t,r)},p:Se,d(n){n&&ae(t)}}}function Ur(e){let t,n=e[0].title+"",r,i,a,u=e[0][e[1]]+"",f,c,l,m=e[0].date.toISOString().split("T")[0]+"",g,v,B,p=e[0].text+"",O;return{c(){t=A("h1"),r=ve(n),i=te(),a=A("span"),f=ve(u),c=te(),l=A("h2"),g=ve(m),v=te(),B=A("p"),O=ve(p),S(t,"class","svelte-60srhh"),Le(a,"background",e[2](e[0][e[1]])),S(a,"class","svelte-60srhh"),S(l,"class","svelte-60srhh"),S(B,"class","svelte-60srhh")},m(b,F){le(b,t,F),k(t,r),le(b,i,F),le(b,a,F),k(a,f),le(b,c,F),le(b,l,F),k(l,g),le(b,v,F),le(b,B,F),k(B,O)},p(b,F){F&1&&n!==(n=b[0].title+"")&&Re(r,n),F&3&&u!==(u=b[0][b[1]]+"")&&Re(f,u),F&7&&Le(a,"background",b[2](b[0][b[1]])),F&1&&m!==(m=b[0].date.toISOString().split("T")[0]+"")&&Re(g,m),F&1&&p!==(p=b[0].text+"")&&Re(O,p)},d(b){b&&ae(t),b&&ae(i),b&&ae(a),b&&ae(c),b&&ae(l),b&&ae(v),b&&ae(B)}}}function Kr(e){let t;function n(a,u){return a[0]?Ur:Wr}let r=n(e),i=r(e);return{c(){t=A("div"),i.c(),S(t,"class","detail-card svelte-60srhh")},m(a,u){le(a,t,u),i.m(t,null)},p(a,[u]){r===(r=n(a))&&i?i.p(a,u):(i.d(1),i=r(a),i&&(i.c(),i.m(t,null)))},i:Se,o:Se,d(a){a&&ae(t),i.d()}}}function Qr(e,t,n){let{hoveredData:r}=t,{domainColumn:i}=t,{data:a}=t,{colorScale:u}=t;return Et(()=>{u.domain(a.map(f=>f[i]))}),e.$$set=f=>{"hoveredData"in f&&n(0,r=f.hoveredData),"domainColumn"in f&&n(1,i=f.domainColumn),"data"in f&&n(3,a=f.data),"colorScale"in f&&n(2,u=f.colorScale)},[r,i,u,a]}class Vr extends At{constructor(t){super(),Nt(this,t,Qr,Kr,St,{hoveredData:0,domainColumn:1,data:3,colorScale:2})}}function Xr(e){let t,n,r,i,a,u,f;return i=new Vr({props:{hoveredData:e[3],data:e[0],domainColumn:e[1],colorScale:e[4]}}),{c(){t=A("div"),n=A("canvas"),r=te(),gn(i.$$.fragment),S(n,"width",kt),S(n,"height",Mt),S(n,"class","svelte-e10mpv"),S(t,"class","chart-container svelte-e10mpv")},m(c,l){le(c,t,l),k(t,n),e[13](n),k(t,r),Ct(i,t,null),a=!0,u||(f=[ce(n,"mousemove",e[5]),ce(n,"mouseleave",e[6])],u=!0)},p(c,[l]){const m={};l&8&&(m.hoveredData=c[3]),l&1&&(m.data=c[0]),l&2&&(m.domainColumn=c[1]),i.$set(m)},i(c){a||(We(i.$$.fragment,c),a=!0)},o(c){rt(i.$$.fragment,c),a=!1},d(c){c&&ae(t),e[13](null),Rt(i),u=!1,Ne(f)}}}let kt=800,Mt=600;const dt=6;let Ze=1;function Yr(e,t,n){let r,i,a,u,{data:f=[]}=t,{domainColumn:c=""}=t,{opacity:l=1}=t,{selectedValues:m=new Set}=t,{searchQuery:g=""}=t,v=[{x:500,y:400,radius:30,label:"Border Belt Independent and North Carolina Coastal Federation have both published about GenX \u2014 an industrial chemical",label_x:100,label_y:-90},{x:720,y:170,radius:50,label:"Only Carolina Peacemaker seems to be publishing about personal health",label_x:-70,label_y:80}],B,p;const O={top:20,right:20,bottom:20,left:20};let b=null,F=null,W={x:0,y:0};const oe=xn().domain([...new Set(f.map(s=>s[c]))]).range(Br);function _e(){p.clearRect(0,0,kt,Mt),p.save(),p.translate(W.x,W.y),p.scale(Ze,Ze),p.translate(-W.x,-W.y),f.forEach(s=>{const o=g&&s.title&&s.title.toLowerCase().includes(g.toLowerCase()),h=m.has(s[c]);p.beginPath(),p.arc(O.left+a(s.x),O.top+u(s.y),dt,0,Math.PI*2),n(10,p.fillStyle=oe(s[c]),p),n(10,p.globalAlpha=o||h?1:l*.4,p),p.fill()}),v.forEach(s=>{n(10,p.globalAlpha=1,p),p.beginPath(),p.arc(s.x,s.y,s.radius,0,Math.PI*2),n(10,p.strokeStyle="red",p),n(10,p.lineWidth=2,p),p.setLineDash([5,5]),p.stroke();const o=s.x+s.label_x,h=s.y+s.label_y,d=Math.atan2(h-s.y,o-s.x),_=s.x+s.radius*Math.cos(d),w=s.y+s.radius*Math.sin(d);if(p.setLineDash([]),p.beginPath(),p.moveTo(_,w),p.lineTo(o,h),n(10,p.strokeStyle="red",p),n(10,p.lineWidth=1,p),p.stroke(),s.label){n(10,p.font="11px Arial",p),n(10,p.fillStyle="red",p);const J=s.label.split(" ");let M="",q=h;J.forEach((x,ne)=>{const E=M+x+" ";p.measureText(E).width>150&&ne>0?(p.fillText(M,o,q),M=x+" ",q+=12):M=E}),p.fillText(M,o,q)}}),p.setLineDash([]),b&&(p.beginPath(),p.arc(O.left+a(b.x),O.top+u(b.y),dt,0,Math.PI*2),n(10,p.fillStyle=oe(b[c]),p),n(10,p.globalAlpha=1,p),p.fill(),n(10,p.strokeStyle="black",p),n(10,p.lineWidth=2,p),p.stroke()),p.restore()}function Z(s){const o=B.getBoundingClientRect(),h=s.clientX-o.left-O.left,d=s.clientY-o.top-O.top,_=(h-W.x)/Ze+W.x,w=(d-W.y)/Ze+W.y,z=f.find(U=>{const J=a(U.x)-_,M=u(U.y)-w;return Math.sqrt(J*J+M*M)<dt+3});z?(n(3,b=z),F=z):n(3,b=F),_e()}function he(){n(3,b=F),_e()}Et(()=>{n(10,p=B.getContext("2d")),_e()});function P(s){pt[s?"unshift":"push"](()=>{B=s,n(2,B)})}return e.$$set=s=>{"data"in s&&n(0,f=s.data),"domainColumn"in s&&n(1,c=s.domainColumn),"opacity"in s&&n(7,l=s.opacity),"selectedValues"in s&&n(8,m=s.selectedValues),"searchQuery"in s&&n(9,g=s.searchQuery)},e.$$.update=()=>{e.$$.dirty&4097&&(a=vt().domain([Ht(f,s=>s.x),zt(f,s=>s.x)]).range([0,r])),e.$$.dirty&2049&&(u=vt().domain([Ht(f,s=>s.y),zt(f,s=>s.y)]).range([i,0])),e.$$.dirty&1025&&p&&f.length&&_e()},n(12,r=kt-O.left-O.right),n(11,i=Mt-O.top-O.bottom),[f,c,B,b,oe,Z,he,l,m,g,p,i,r,P]}class Gr extends At{constructor(t){super(),Nt(this,t,Yr,Xr,St,{data:0,domainColumn:1,opacity:7,selectedValues:8,searchQuery:9})}}function sn(e,t,n){const r=e.slice();return r[37]=t[n],r}function an(e,t,n){const r=e.slice();return r[40]=t[n],r}function on(e){let t,n,r,i,a,u,f=e[5],c=[];for(let l=0;l<f.length;l+=1)c[l]=ln(an(e,f,l));return{c(){t=A("label"),t.textContent="\u{1F3A8} Color by Column:",n=te(),r=A("select"),i=A("option"),i.textContent="Select column";for(let l=0;l<c.length;l+=1)c[l].c();S(t,"class","svelte-1qe8tcr"),i.__value="",i.value=i.__value,i.disabled=!0,S(r,"class","svelte-1qe8tcr"),e[6]===void 0&&nt(()=>e[22].call(r))},m(l,m){le(l,t,m),le(l,n,m),le(l,r,m),k(r,i);for(let g=0;g<c.length;g+=1)c[g].m(r,null);Lt(r,e[6]),a||(u=[ce(r,"change",e[15]),ce(r,"change",e[22])],a=!0)},p(l,m){if(m[0]&32){f=l[5];let g;for(g=0;g<f.length;g+=1){const v=an(l,f,g);c[g]?c[g].p(v,m):(c[g]=ln(v),c[g].c(),c[g].m(r,null))}for(;g<c.length;g+=1)c[g].d(1);c.length=f.length}m[0]&96&&Lt(r,l[6])},d(l){l&&ae(t),l&&ae(n),l&&ae(r),dn(c,l),a=!1,Ne(u)}}}function ln(e){let t,n=e[40]+"",r,i;return{c(){t=A("option"),r=ve(n),t.__value=i=e[40],t.value=t.__value},m(a,u){le(a,t,u),k(t,r)},p(a,u){u[0]&32&&n!==(n=a[40]+"")&&Re(r,n),u[0]&32&&i!==(i=a[40])&&(t.__value=i,t.value=t.__value)},d(a){a&&ae(t)}}}function un(e){let t,n,r,i,a,u=e[7],f=[];for(let c=0;c<u.length;c+=1)f[c]=fn(sn(e,u,c));return{c(){t=A("label"),t.textContent="\u2728 Highlight Values:",n=te(),r=A("select");for(let c=0;c<f.length;c+=1)f[c].c();S(t,"class","svelte-1qe8tcr"),r.multiple=!0,S(r,"size","5"),S(r,"class","multi-select svelte-1qe8tcr")},m(c,l){le(c,t,l),le(c,n,l),le(c,r,l);for(let m=0;m<f.length;m+=1)f[m].m(r,null);i||(a=ce(r,"change",e[16]),i=!0)},p(c,l){if(l[0]&128){u=c[7];let m;for(m=0;m<u.length;m+=1){const g=sn(c,u,m);f[m]?f[m].p(g,l):(f[m]=fn(g),f[m].c(),f[m].m(r,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=u.length}},d(c){c&&ae(t),c&&ae(n),c&&ae(r),dn(f,c),i=!1,a()}}}function fn(e){let t,n=e[37]+"",r,i;return{c(){t=A("option"),r=ve(n),t.__value=i=e[37],t.value=t.__value},m(a,u){le(a,t,u),k(t,r)},p(a,u){u[0]&128&&n!==(n=a[37]+"")&&Re(r,n),u[0]&128&&i!==(i=a[37])&&(t.__value=i,t.value=t.__value)},d(a){a&&ae(t)}}}function Jr(e){let t;return{c(){t=ve("\u25B6")},m(n,r){le(n,t,r)},d(n){n&&ae(t)}}}function Zr(e){let t;return{c(){t=ve("\u275A\u275A")},m(n,r){le(n,t,r)},d(n){n&&ae(t)}}}function $r(e){let t;return{c(){t=A("p"),t.textContent="Loading data..."},m(n,r){le(n,t,r)},p:Se,i:Se,o:Se,d(n){n&&ae(t)}}}function ei(e){let t,n;return t=new Gr({props:{data:e[10],domainColumn:e[6],selectedValues:e[8],opacity:e[9],searchQuery:e[12]}}),{c(){gn(t.$$.fragment)},m(r,i){Ct(t,r,i),n=!0},p(r,i){const a={};i[0]&1024&&(a.data=r[10]),i[0]&64&&(a.domainColumn=r[6]),i[0]&256&&(a.selectedValues=r[8]),i[0]&512&&(a.opacity=r[9]),i[0]&4096&&(a.searchQuery=r[12]),t.$set(a)},i(r){n||(We(t.$$.fragment,r),n=!0)},o(r){rt(t.$$.fragment,r),n=!1},d(r){Rt(t,r)}}}function ti(e){let t,n,r,i,a,u,f,c,l,m,g,v,B,p,O,b,F,W,oe,_e,Z,he,P,s,o,h,d,_,w,z,U,J,M,q,x,ne=Ce(e[0])+"",E,D,y,L=Ce(e[1])+"",C,$,re,I,K,ee,T,Q,ue,G,V,N,de,H,j,X,pe,ye,Ee,Y=e[5].length&&on(e),ie=e[7].length&&un(e);function fe(R,se){return R[11]?Zr:Jr}let ge=fe(e),me=ge(e);const Ie=[ei,$r],xe=[];function Me(R,se){return R[10].length?0:1}return j=Me(e),X=xe[j]=Ie[j](e),{c(){t=A("div"),n=A("div"),n.innerHTML=`<h1 class="title svelte-1qe8tcr">North Carolina Semantic Map [DEMO]</h1> 
    <p class="subtitle svelte-1qe8tcr">This semantic map contains data from three organizations in North Carolina. <a href="https://peacemakeronline.com/">Carolina Peacemaker</a> and <a href="https://borderbelt.org">Border Belt</a> are local news organizations and <a href="https://www.nccoast.org/about-us/">NC Coastal Federation</a> is a nonprofit focused on coastal restoration.</p>`,r=te(),i=A("div"),a=A("div"),u=A("div"),u.innerHTML=`<details><summary class="svelte-1qe8tcr">\u2795 What is a Semantic Map?</summary> 
          <div class="nerd-box-content svelte-1qe8tcr"><p class="svelte-1qe8tcr">Semantic maps are tools that allow users to visually explore how different topics and ideas are connected. 
              By analyzing the relationships between articles, these maps can reveal patterns and clusters in the data.</p> 
            <p class="svelte-1qe8tcr">Each dot in this semantic map represents an article. When the dots are closer together, the articles are similar in meaning.</p> 
            <p class="svelte-1qe8tcr">Newsrooms can use semantic maps to:</p> 
            <ul class="svelte-1qe8tcr"><li class="svelte-1qe8tcr">Audit their coverage by identifying themes that may be underrepresented or overlooked.</li> 
              <li class="svelte-1qe8tcr">Track how their editorial focus evolves over time.</li> 
              <li class="svelte-1qe8tcr">Discover which topics are being covered by other outlets, offering opportunities to adjust their editorial focus or collaborate.</li></ul></div></details>`,f=te(),c=A("label"),c.textContent="\u{1F50D} Search Title:",l=te(),m=A("input"),g=te(),Y&&Y.c(),v=te(),ie&&ie.c(),B=te(),p=A("label"),p.textContent="\u{1F4A1} Adjust Opacity:",O=te(),b=A("input"),F=te(),W=A("div"),oe=A("label"),oe.textContent="\u{1F4C5} Date Range:",_e=te(),Z=A("input"),P=te(),s=A("input"),h=te(),d=A("div"),_=A("input"),z=te(),U=A("input"),M=te(),q=A("div"),x=A("span"),E=ve(ne),D=te(),y=A("span"),C=ve(L),$=te(),re=A("div"),I=A("button"),I.textContent="-1W",K=te(),ee=A("button"),ee.textContent="-1D",T=te(),Q=A("button"),me.c(),ue=te(),G=A("button"),G.textContent="+1D",V=te(),N=A("button"),N.textContent="+1W",de=te(),H=A("div"),X.c(),S(n,"class","title-section svelte-1qe8tcr"),S(u,"class","nerd-box svelte-1qe8tcr"),S(c,"class","svelte-1qe8tcr"),S(m,"type","text"),S(m,"placeholder","Search..."),S(m,"class","svelte-1qe8tcr"),S(p,"class","svelte-1qe8tcr"),S(b,"type","range"),S(b,"min","0.01"),S(b,"max","1"),S(b,"step","0.1"),S(b,"class","svelte-1qe8tcr"),S(oe,"class","svelte-1qe8tcr"),S(Z,"type","date"),Z.value=he=Ce(e[0]),S(Z,"class","svelte-1qe8tcr"),S(s,"type","date"),s.value=o=Ce(e[1]),S(s,"class","svelte-1qe8tcr"),S(_,"type","range"),S(_,"min","0"),S(_,"max",w=e[2].length-1),S(_,"class","slider start-slider svelte-1qe8tcr"),S(U,"type","range"),S(U,"min","0"),S(U,"max",J=e[2].length-1),S(U,"class","slider end-slider svelte-1qe8tcr"),S(d,"class","date-range-slider svelte-1qe8tcr"),Le(d,"--start-percent",e[14]+"%"),Le(d,"--end-percent",e[13]+"%"),S(q,"class","date-range-labels svelte-1qe8tcr"),S(I,"class","svelte-1qe8tcr"),S(ee,"class","svelte-1qe8tcr"),S(Q,"class","play-button svelte-1qe8tcr"),S(G,"class","svelte-1qe8tcr"),S(N,"class","svelte-1qe8tcr"),S(re,"class","date-navigation svelte-1qe8tcr"),S(W,"class","date-controls svelte-1qe8tcr"),S(a,"class","filter-panel svelte-1qe8tcr"),S(H,"class","scatterplot-container svelte-1qe8tcr"),S(i,"class","content svelte-1qe8tcr"),S(t,"class","container svelte-1qe8tcr")},m(R,se){le(R,t,se),k(t,n),k(t,r),k(t,i),k(i,a),k(a,u),k(a,f),k(a,c),k(a,l),k(a,m),k(a,g),Y&&Y.m(a,null),k(a,v),ie&&ie.m(a,null),k(a,B),k(a,p),k(a,O),k(a,b),Te(b,e[9]),k(a,F),k(a,W),k(W,oe),k(W,_e),k(W,Z),k(W,P),k(W,s),k(W,h),k(W,d),k(d,_),Te(_,e[3]),k(d,z),k(d,U),Te(U,e[4]),k(W,M),k(W,q),k(q,x),k(x,E),k(q,D),k(q,y),k(y,C),k(W,$),k(W,re),k(re,I),k(re,K),k(re,ee),k(re,T),k(re,Q),me.m(Q,null),k(re,ue),k(re,G),k(re,V),k(re,N),k(i,de),k(i,H),xe[j].m(H,null),pe=!0,ye||(Ee=[ce(m,"input",e[20]),ce(b,"change",e[23]),ce(b,"input",e[23]),ce(Z,"change",e[24]),ce(s,"change",e[25]),ce(_,"change",e[26]),ce(_,"input",e[26]),ce(_,"input",e[27]),ce(U,"change",e[28]),ce(U,"input",e[28]),ce(U,"input",e[29]),ce(I,"click",e[30]),ce(ee,"click",e[31]),ce(Q,"click",e[19]),ce(G,"click",e[32]),ce(N,"click",e[33])],ye=!0)},p(R,se){R[5].length?Y?Y.p(R,se):(Y=on(R),Y.c(),Y.m(a,v)):Y&&(Y.d(1),Y=null),R[7].length?ie?ie.p(R,se):(ie=un(R),ie.c(),ie.m(a,B)):ie&&(ie.d(1),ie=null),se[0]&512&&Te(b,R[9]),(!pe||se[0]&1&&he!==(he=Ce(R[0])))&&(Z.value=he),(!pe||se[0]&2&&o!==(o=Ce(R[1])))&&(s.value=o),(!pe||se[0]&4&&w!==(w=R[2].length-1))&&S(_,"max",w),se[0]&8&&Te(_,R[3]),(!pe||se[0]&4&&J!==(J=R[2].length-1))&&S(U,"max",J),se[0]&16&&Te(U,R[4]),(!pe||se[0]&16384)&&Le(d,"--start-percent",R[14]+"%"),(!pe||se[0]&8192)&&Le(d,"--end-percent",R[13]+"%"),(!pe||se[0]&1)&&ne!==(ne=Ce(R[0])+"")&&Re(E,ne),(!pe||se[0]&2)&&L!==(L=Ce(R[1])+"")&&Re(C,L),ge!==(ge=fe(R))&&(me.d(1),me=ge(R),me&&(me.c(),me.m(Q,null)));let qe=j;j=Me(R),j===qe?xe[j].p(R,se):(qn(),rt(xe[qe],1,1,()=>{xe[qe]=null}),Tn(),X=xe[j],X?X.p(R,se):(X=xe[j]=Ie[j](R),X.c()),We(X,1),X.m(H,null))},i(R){pe||(We(X),pe=!0)},o(R){rt(X),pe=!1},d(R){R&&ae(t),Y&&Y.d(),ie&&ie.d(),me.d(),xe[j].d(),ye=!1,Ne(Ee)}}}function Ce(e){return e?e.toISOString().split("T")[0]:""}function ni(e,t,n){let r,i,a=[],u=[],f="org",c=[],l=new Set,m=.5,g=null,v=null,B=[],p=[],O=0,b=0,F=!1,W=null,oe="";Et(async()=>{const L=await(await fetch("/semantic-maps/data.csv")).text();return _e(L),()=>{W&&clearInterval(W)}});function _e(y){const L=jn.parse(y,{header:!0});n(21,a=L.data.filter(C=>C.x&&C.y&&C.date).map(C=>({...C,x:+C.x,y:+C.y,date:new Date(C.date)}))),n(5,u=L.meta.fields||[]),n(2,p=[...new Set(a.map(C=>C.date.getTime()))].sort((C,$)=>C-$).map(C=>new Date(C))),n(0,g=p[0]),n(1,v=p[p.length-1]),n(3,O=0),n(4,b=p.length-1),f&&n(7,c=[...new Set(a.map(C=>C[f]).filter(Boolean))])}function Z(y){n(6,f=y.target.value),n(7,c=f?[...new Set(a.map(L=>L[f]).filter(Boolean))]:[]),n(8,l=new Set)}function he(y){n(8,l=new Set([...y.target.selectedOptions].map(L=>L.value)))}function P(y,L){const C=y.target.value?new Date(y.target.value):null;L==="start"?n(0,g=C):n(1,v=C)}function s(y){const L=b-O;let C=O+y,$=b+y;C<0&&(C=0,$=L),$>=p.length&&($=p.length-1,C=Math.max(0,$-L)),n(3,O=C),n(4,b=$),n(0,g=p[O]||p[0]),n(1,v=p[b]||p[p.length-1])}function o(){F?(clearInterval(W),n(11,F=!1)):(n(11,F=!0),W=setInterval(()=>{if(b>=p.length-1){clearInterval(W),n(11,F=!1);return}s(1)},500))}function h(y){n(12,oe=y.target.value)}function d(){f=Nn(this),n(6,f),n(5,u)}function _(){m=ut(this.value),n(9,m)}const w=y=>P(y,"start"),z=y=>P(y,"end");function U(){O=ut(this.value),n(3,O)}const J=()=>{O>b&&n(3,O=b),n(0,g=p[O])};function M(){b=ut(this.value),n(4,b)}const q=()=>{b<O&&n(4,b=O),n(1,v=p[b])},x=()=>s(-7),ne=()=>s(-1),E=()=>s(1),D=()=>s(7);return e.$$.update=()=>{e.$$.dirty[0]&2097155&&n(10,B=a.filter(y=>(!g||y.date>=g)&&(!v||y.date<=v))),e.$$.dirty[0]&12&&n(14,r=p.length>1?O/(p.length-1)*100:0),e.$$.dirty[0]&20&&n(13,i=p.length>1?b/(p.length-1)*100:100)},[g,v,p,O,b,u,f,c,l,m,B,F,oe,i,r,Z,he,P,s,o,h,a,d,_,w,z,U,J,M,q,x,ne,E,D]}class ri extends At{constructor(t){super(),Nt(this,t,ni,ti,St,{},null,[-1,-1])}}new ri({target:document.getElementById("app")});
