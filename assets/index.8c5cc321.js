(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Se(){}function yn(e){return e()}function Ht(){return Object.create(null)}function Ae(e){e.forEach(yn)}function wn(e){return typeof e=="function"}function gt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Pn(e){return Object.keys(e).length===0}function N(e,t){e.appendChild(t)}function ce(e,t,n){e.insertBefore(t,n||null)}function le(e){e.parentNode.removeChild(e)}function xn(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function F(e){return document.createElement(e)}function Me(e){return document.createTextNode(e)}function ae(){return Me(" ")}function fe(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function D(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function zn(e){return e===""?null:+e}function Fn(e){return Array.from(e.childNodes)}function Te(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function qt(e,t){e.value=t==null?"":t}function Ce(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Vt(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t){r.selected=!0;return}}e.selectedIndex=-1}function Hn(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function qn(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}let Ke;function Ue(e){Ke=e}function vn(){if(!Ke)throw new Error("Function called outside component initialization");return Ke}function Tt(e){vn().$$.on_mount.push(e)}function Vn(){const e=vn();return(t,n,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const s=qn(t,n,{cancelable:r});return i.slice().forEach(u=>{u.call(e,s)}),!s.defaultPrevented}return!0}}const We=[],Ie=[],rt=[],Mt=[],Bn=Promise.resolve();let St=!1;function Wn(){St||(St=!0,Bn.then(kn))}function lt(e){rt.push(e)}function Bt(e){Mt.push(e)}const wt=new Set;let Ze=0;function kn(){const e=Ke;do{for(;Ze<We.length;){const t=We[Ze];Ze++,Ue(t),Un(t.$$)}for(Ue(null),We.length=0,Ze=0;Ie.length;)Ie.pop()();for(let t=0;t<rt.length;t+=1){const n=rt[t];wt.has(n)||(wt.add(n),n())}rt.length=0}while(We.length);for(;Mt.length;)Mt.pop()();St=!1,wt.clear(),Ue(e)}function Un(e){if(e.fragment!==null){e.update(),Ae(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(lt)}}const it=new Set;let Le;function Mn(){Le={r:0,c:[],p:Le}}function Sn(){Le.r||Ae(Le.c),Le=Le.p}function De(e,t){e&&e.i&&(it.delete(e),e.i(t))}function ze(e,t,n,r){if(e&&e.o){if(it.has(e))return;it.add(e),Le.c.push(()=>{it.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function Wt(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function It(e){e&&e.c()}function pt(e,t,n,r){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),r||lt(()=>{const u=e.$$.on_mount.map(yn).filter(wn);e.$$.on_destroy?e.$$.on_destroy.push(...u):Ae(u),e.$$.on_mount=[]}),s.forEach(lt)}function mt(e,t){const n=e.$$;n.fragment!==null&&(Ae(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Kn(e,t){e.$$.dirty[0]===-1&&(We.push(e),Wn(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function _t(e,t,n,r,i,s,u,a=[-1]){const c=Ke;Ue(e);const o=e.$$={fragment:null,ctx:[],props:s,update:Se,not_equal:i,bound:Ht(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Ht(),dirty:a,skip_bound:!1,root:t.target||c.$$.root};u&&u(o.root);let h=!1;if(o.ctx=n?n(e,t.props||{},(g,y,...T)=>{const E=T.length?T[0]:y;return o.ctx&&i(o.ctx[g],o.ctx[g]=E)&&(!o.skip_bound&&o.bound[g]&&o.bound[g](E),h&&Kn(e,g)),y}):[],o.update(),h=!0,Ae(o.before_update),o.fragment=r?r(o.ctx):!1,t.target){if(t.hydrate){const g=Fn(t.target);o.fragment&&o.fragment.l(g),g.forEach(le)}else o.fragment&&o.fragment.c();t.intro&&De(e.$$.fragment),pt(e,t.target,t.anchor,t.customElement),kn()}Ue(c)}class bt{$destroy(){mt(this,1),this.$destroy=Se}$on(t,n){if(!wn(n))return Se;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Pn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var Qn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cn={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(Qn,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,u=r.IS_PAPA_WORKER||!1,a={},c=0,o={};function h(f){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(l){var d=J(l);d.chunkSize=parseInt(d.chunkSize),l.step||l.chunk||(d.chunkSize=null),this._handle=new H(d),(this._handle.streamer=this)._config=d}.call(this,f),this.parseChunk=function(l,d){var p=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<p){let m=this._config.newline;m||(w=this._config.quoteChar||'"',m=this._handle.guessLineEndings(l,w)),l=[...l.split(m).slice(p)].join(m)}this.isFirstChunk&&O(this._config.beforeFirstChunk)&&(w=this._config.beforeFirstChunk(l))!==void 0&&(l=w),this.isFirstChunk=!1,this._halted=!1;var p=this._partialLine+l,w=(this._partialLine="",this._handle.parse(p,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(l=w.meta.cursor,p=(this._finished||(this._partialLine=p.substring(l-this._baseIndex),this._baseIndex=l),w&&w.data&&(this._rowCount+=w.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),u)r.postMessage({results:w,workerId:o.WORKER_ID,finished:p});else if(O(this._config.chunk)&&!d){if(this._config.chunk(w,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=w=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(w.data),this._completeResults.errors=this._completeResults.errors.concat(w.errors),this._completeResults.meta=w.meta),this._completed||!p||!O(this._config.complete)||w&&w.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),p||w&&w.meta.paused||this._nextChunk(),w}this._halted=!0},this._sendError=function(l){O(this._config.error)?this._config.error(l):u&&this._config.error&&r.postMessage({workerId:o.WORKER_ID,error:l,finished:!1})}}function g(f){var l;(f=f||{}).chunkSize||(f.chunkSize=o.RemoteChunkSize),h.call(this,f),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(d){this._input=d,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(l=new XMLHttpRequest,this._config.withCredentials&&(l.withCredentials=this._config.withCredentials),s||(l.onload=G(this._chunkLoaded,this),l.onerror=G(this._chunkError,this)),l.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var d,p=this._config.downloadRequestHeaders;for(d in p)l.setRequestHeader(d,p[d])}var w;this._config.chunkSize&&(w=this._start+this._config.chunkSize-1,l.setRequestHeader("Range","bytes="+this._start+"-"+w));try{l.send(this._config.downloadRequestBody)}catch(m){this._chunkError(m.message)}s&&l.status===0&&this._chunkError()}},this._chunkLoaded=function(){l.readyState===4&&(l.status<200||400<=l.status?this._chunkError():(this._start+=this._config.chunkSize||l.responseText.length,this._finished=!this._config.chunkSize||this._start>=(d=>(d=d.getResponseHeader("Content-Range"))!==null?parseInt(d.substring(d.lastIndexOf("/")+1)):-1)(l),this.parseChunk(l.responseText)))},this._chunkError=function(d){d=l.statusText||d,this._sendError(new Error(d))}}function y(f){(f=f||{}).chunkSize||(f.chunkSize=o.LocalChunkSize),h.call(this,f);var l,d,p=typeof FileReader<"u";this.stream=function(w){this._input=w,d=w.slice||w.webkitSlice||w.mozSlice,p?((l=new FileReader).onload=G(this._chunkLoaded,this),l.onerror=G(this._chunkError,this)):l=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var w=this._input,m=(this._config.chunkSize&&(m=Math.min(this._start+this._config.chunkSize,this._input.size),w=d.call(w,this._start,m)),l.readAsText(w,this._config.encoding));p||this._chunkLoaded({target:{result:m}})},this._chunkLoaded=function(w){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(w.target.result)},this._chunkError=function(){this._sendError(l.error)}}function T(f){var l;h.call(this,f=f||{}),this.stream=function(d){return l=d,this._nextChunk()},this._nextChunk=function(){var d,p;if(!this._finished)return d=this._config.chunkSize,l=d?(p=l.substring(0,d),l.substring(d)):(p=l,""),this._finished=!l,this.parseChunk(p)}}function E(f){h.call(this,f=f||{});var l=[],d=!0,p=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(w){this._input=w,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){p&&l.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),l.length?this.parseChunk(l.shift()):d=!0},this._streamData=G(function(w){try{l.push(typeof w=="string"?w:w.toString(this._config.encoding)),d&&(d=!1,this._checkIsFinished(),this.parseChunk(l.shift()))}catch(m){this._streamError(m)}},this),this._streamError=G(function(w){this._streamCleanUp(),this._sendError(w)},this),this._streamEnd=G(function(){this._streamCleanUp(),p=!0,this._streamData("")},this),this._streamCleanUp=G(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function H(f){var l,d,p,w,m=Math.pow(2,53),k=-m,K=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,C=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,A=this,P=0,b=0,q=!1,j=!1,I=[],R={data:[],errors:[],meta:{}};function re(x){return f.skipEmptyLines==="greedy"?x.join("").trim()==="":x.length===1&&x[0].length===0}function te(){if(R&&p&&(S("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),p=!1),f.skipEmptyLines&&(R.data=R.data.filter(function(W){return!re(W)})),ie()){let W=function(Z,Y){O(f.transformHeader)&&(Z=f.transformHeader(Z,Y)),I.push(Z)};var z=W;if(R)if(Array.isArray(R.data[0])){for(var x=0;ie()&&x<R.data.length;x++)R.data[x].forEach(W);R.data.splice(0,1)}else R.data.forEach(W)}function v(W,Z){for(var Y=f.header?{}:[],Q=0;Q<W.length;Q++){var V=Q,he=W[Q],he=(($,se)=>(ne=>(f.dynamicTypingFunction&&f.dynamicTyping[ne]===void 0&&(f.dynamicTyping[ne]=f.dynamicTypingFunction(ne)),(f.dynamicTyping[ne]||f.dynamicTyping)===!0))($)?se==="true"||se==="TRUE"||se!=="false"&&se!=="FALSE"&&((ne=>{if(K.test(ne)&&(ne=parseFloat(ne),k<ne&&ne<m))return 1})(se)?parseFloat(se):C.test(se)?new Date(se):se===""?null:se):se)(V=f.header?Q>=I.length?"__parsed_extra":I[Q]:V,he=f.transform?f.transform(he,V):he);V==="__parsed_extra"?(Y[V]=Y[V]||[],Y[V].push(he)):Y[V]=he}return f.header&&(Q>I.length?S("FieldMismatch","TooManyFields","Too many fields: expected "+I.length+" fields but parsed "+Q,b+Z):Q<I.length&&S("FieldMismatch","TooFewFields","Too few fields: expected "+I.length+" fields but parsed "+Q,b+Z)),Y}var L;R&&(f.header||f.dynamicTyping||f.transform)&&(L=1,!R.data.length||Array.isArray(R.data[0])?(R.data=R.data.map(v),L=R.data.length):R.data=v(R.data,0),f.header&&R.meta&&(R.meta.fields=I),b+=L)}function ie(){return f.header&&I.length===0}function S(x,v,L,z){x={type:x,code:v,message:L},z!==void 0&&(x.row=z),R.errors.push(x)}O(f.step)&&(w=f.step,f.step=function(x){R=x,ie()?te():(te(),R.data.length!==0&&(P+=x.data.length,f.preview&&P>f.preview?d.abort():(R.data=R.data[0],w(R,A))))}),this.parse=function(x,v,L){var z=f.quoteChar||'"',z=(f.newline||(f.newline=this.guessLineEndings(x,z)),p=!1,f.delimiter?O(f.delimiter)&&(f.delimiter=f.delimiter(x),R.meta.delimiter=f.delimiter):((z=((W,Z,Y,Q,V)=>{var he,$,se,ne;V=V||[",","	","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var me=0;me<V.length;me++){for(var de,Re=V[me],ge=0,oe=0,ee=0,_e=(se=void 0,new B({comments:Q,delimiter:Re,newline:Z,preview:10}).parse(W)),we=0;we<_e.data.length;we++)Y&&re(_e.data[we])?ee++:(de=_e.data[we].length,oe+=de,se===void 0?se=de:0<de&&(ge+=Math.abs(de-se),se=de));0<_e.data.length&&(oe/=_e.data.length-ee),($===void 0||ge<=$)&&(ne===void 0||ne<oe)&&1.99<oe&&($=ge,he=Re,ne=oe)}return{successful:!!(f.delimiter=he),bestDelimiter:he}})(x,f.newline,f.skipEmptyLines,f.comments,f.delimitersToGuess)).successful?f.delimiter=z.bestDelimiter:(p=!0,f.delimiter=o.DefaultDelimiter),R.meta.delimiter=f.delimiter),J(f));return f.preview&&f.header&&z.preview++,l=x,d=new B(z),R=d.parse(l,v,L),te(),q?{meta:{paused:!0}}:R||{meta:{paused:!1}}},this.paused=function(){return q},this.pause=function(){q=!0,d.abort(),l=O(f.chunk)?"":l.substring(d.getCharIndex())},this.resume=function(){A.streamer._halted?(q=!1,A.streamer.parseChunk(l,!0)):setTimeout(A.resume,3)},this.aborted=function(){return j},this.abort=function(){j=!0,d.abort(),R.meta.aborted=!0,O(f.complete)&&f.complete(R),l=""},this.guessLineEndings=function(W,z){W=W.substring(0,1048576);var z=new RegExp(M(z)+"([^]*?)"+M(z),"gm"),L=(W=W.replace(z,"")).split("\r"),z=W.split(`
`),W=1<z.length&&z[0].length<L[0].length;if(L.length===1||W)return`
`;for(var Z=0,Y=0;Y<L.length;Y++)L[Y][0]===`
`&&Z++;return Z>=L.length/2?`\r
`:"\r"}}function M(f){return f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function B(f){var l=(f=f||{}).delimiter,d=f.newline,p=f.comments,w=f.step,m=f.preview,k=f.fastMode,K=null,C=!1,A=f.quoteChar==null?'"':f.quoteChar,P=A;if(f.escapeChar!==void 0&&(P=f.escapeChar),(typeof l!="string"||-1<o.BAD_DELIMITERS.indexOf(l))&&(l=","),p===l)throw new Error("Comment character same as delimiter");p===!0?p="#":(typeof p!="string"||-1<o.BAD_DELIMITERS.indexOf(p))&&(p=!1),d!==`
`&&d!=="\r"&&d!==`\r
`&&(d=`
`);var b=0,q=!1;this.parse=function(j,I,R){if(typeof j!="string")throw new Error("Input must be a string");var re=j.length,te=l.length,ie=d.length,S=p.length,x=O(w),v=[],L=[],z=[],W=b=0;if(!j)return ge();if(k||k!==!1&&j.indexOf(A)===-1){for(var Z=j.split(d),Y=0;Y<Z.length;Y++){if(z=Z[Y],b+=z.length,Y!==Z.length-1)b+=d.length;else if(R)return ge();if(!p||z.substring(0,S)!==p){if(x){if(v=[],ne(z.split(l)),oe(),q)return ge()}else ne(z.split(l));if(m&&m<=Y)return v=v.slice(0,m),ge(!0)}}return ge()}for(var Q=j.indexOf(l,b),V=j.indexOf(d,b),he=new RegExp(M(P)+M(A),"g"),$=j.indexOf(A,b);;)if(j[b]===A)for($=b,b++;;){if(($=j.indexOf(A,$+1))===-1)return R||L.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:v.length,index:b}),de();if($===re-1)return de(j.substring(b,$).replace(he,A));if(A===P&&j[$+1]===P)$++;else if(A===P||$===0||j[$-1]!==P){Q!==-1&&Q<$+1&&(Q=j.indexOf(l,$+1));var se=me((V=V!==-1&&V<$+1?j.indexOf(d,$+1):V)===-1?Q:Math.min(Q,V));if(j.substr($+1+se,te)===l){z.push(j.substring(b,$).replace(he,A)),j[b=$+1+se+te]!==A&&($=j.indexOf(A,b)),Q=j.indexOf(l,b),V=j.indexOf(d,b);break}if(se=me(V),j.substring($+1+se,$+1+se+ie)===d){if(z.push(j.substring(b,$).replace(he,A)),Re($+1+se+ie),Q=j.indexOf(l,b),$=j.indexOf(A,b),x&&(oe(),q))return ge();if(m&&v.length>=m)return ge(!0);break}L.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:v.length,index:b}),$++}}else if(p&&z.length===0&&j.substring(b,b+S)===p){if(V===-1)return ge();b=V+ie,V=j.indexOf(d,b),Q=j.indexOf(l,b)}else if(Q!==-1&&(Q<V||V===-1))z.push(j.substring(b,Q)),b=Q+te,Q=j.indexOf(l,b);else{if(V===-1)break;if(z.push(j.substring(b,V)),Re(V+ie),x&&(oe(),q))return ge();if(m&&v.length>=m)return ge(!0)}return de();function ne(ee){v.push(ee),W=b}function me(ee){var _e=0;return _e=ee!==-1&&(ee=j.substring($+1,ee))&&ee.trim()===""?ee.length:_e}function de(ee){return R||(ee===void 0&&(ee=j.substring(b)),z.push(ee),b=re,ne(z),x&&oe()),ge()}function Re(ee){b=ee,ne(z),z=[],V=j.indexOf(d,b)}function ge(ee){if(f.header&&!I&&v.length&&!C){var _e=v[0],we={},Oe=new Set(_e);let Be=!1;for(let xe=0;xe<_e.length;xe++){let pe=_e[xe];if(we[pe=O(f.transformHeader)?f.transformHeader(pe,xe):pe]){let je,ve=we[pe];for(;je=pe+"_"+ve,ve++,Oe.has(je););Oe.add(je),_e[xe]=je,we[pe]++,Be=!0,(K=K===null?{}:K)[je]=pe}else we[pe]=1,_e[xe]=pe;Oe.add(pe)}Be&&console.warn("Duplicate headers found and renamed."),C=!0}return{data:v,errors:L,meta:{delimiter:l,linebreak:d,aborted:q,truncated:!!ee,cursor:W+(I||0),renamedHeaders:K}}}function oe(){w(ge()),v=[],L=[]}},this.abort=function(){q=!0},this.getCharIndex=function(){return b}}function ue(f){var l=f.data,d=a[l.workerId],p=!1;if(l.error)d.userError(l.error,l.file);else if(l.results&&l.results.data){var w={abort:function(){p=!0,_(l.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:U,resume:U};if(O(d.userStep)){for(var m=0;m<l.results.data.length&&(d.userStep({data:l.results.data[m],errors:l.results.errors,meta:l.results.meta},w),!p);m++);delete l.results}else O(d.userChunk)&&(d.userChunk(l.results,w,l.file),delete l.results)}l.finished&&!p&&_(l.workerId,l.results)}function _(f,l){var d=a[f];O(d.userComplete)&&d.userComplete(l),d.terminate(),delete a[f]}function U(){throw new Error("Not implemented.")}function J(f){if(typeof f!="object"||f===null)return f;var l,d=Array.isArray(f)?[]:{};for(l in f)d[l]=J(f[l]);return d}function G(f,l){return function(){f.apply(l,arguments)}}function O(f){return typeof f=="function"}return o.parse=function(f,l){var d=(l=l||{}).dynamicTyping||!1;if(O(d)&&(l.dynamicTypingFunction=d,d={}),l.dynamicTyping=d,l.transform=!!O(l.transform)&&l.transform,!l.worker||!o.WORKERS_SUPPORTED)return d=null,o.NODE_STREAM_INPUT,typeof f=="string"?(f=(p=>p.charCodeAt(0)!==65279?p:p.slice(1))(f),d=new(l.download?g:T)(l)):f.readable===!0&&O(f.read)&&O(f.on)?d=new E(l):(r.File&&f instanceof File||f instanceof Object)&&(d=new y(l)),d.stream(f);(d=(()=>{var p;return!!o.WORKERS_SUPPORTED&&(p=(()=>{var w=r.URL||r.webkitURL||null,m=n.toString();return o.BLOB_URL||(o.BLOB_URL=w.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",m,")();"],{type:"text/javascript"})))})(),(p=new r.Worker(p)).onmessage=ue,p.id=c++,a[p.id]=p)})()).userStep=l.step,d.userChunk=l.chunk,d.userComplete=l.complete,d.userError=l.error,l.step=O(l.step),l.chunk=O(l.chunk),l.complete=O(l.complete),l.error=O(l.error),delete l.worker,d.postMessage({input:f,config:l,workerId:d.id})},o.unparse=function(f,l){var d=!1,p=!0,w=",",m=`\r
`,k='"',K=k+k,C=!1,A=null,P=!1,b=((()=>{if(typeof l=="object"){if(typeof l.delimiter!="string"||o.BAD_DELIMITERS.filter(function(I){return l.delimiter.indexOf(I)!==-1}).length||(w=l.delimiter),typeof l.quotes!="boolean"&&typeof l.quotes!="function"&&!Array.isArray(l.quotes)||(d=l.quotes),typeof l.skipEmptyLines!="boolean"&&typeof l.skipEmptyLines!="string"||(C=l.skipEmptyLines),typeof l.newline=="string"&&(m=l.newline),typeof l.quoteChar=="string"&&(k=l.quoteChar),typeof l.header=="boolean"&&(p=l.header),Array.isArray(l.columns)){if(l.columns.length===0)throw new Error("Option columns is empty");A=l.columns}l.escapeChar!==void 0&&(K=l.escapeChar+k),l.escapeFormulae instanceof RegExp?P=l.escapeFormulae:typeof l.escapeFormulae=="boolean"&&l.escapeFormulae&&(P=/^[=+\-@\t\r].*$/)}})(),new RegExp(M(k),"g"));if(typeof f=="string"&&(f=JSON.parse(f)),Array.isArray(f)){if(!f.length||Array.isArray(f[0]))return q(null,f,C);if(typeof f[0]=="object")return q(A||Object.keys(f[0]),f,C)}else if(typeof f=="object")return typeof f.data=="string"&&(f.data=JSON.parse(f.data)),Array.isArray(f.data)&&(f.fields||(f.fields=f.meta&&f.meta.fields||A),f.fields||(f.fields=Array.isArray(f.data[0])?f.fields:typeof f.data[0]=="object"?Object.keys(f.data[0]):[]),Array.isArray(f.data[0])||typeof f.data[0]=="object"||(f.data=[f.data])),q(f.fields||[],f.data||[],C);throw new Error("Unable to serialize unrecognized input");function q(I,R,re){var te="",ie=(typeof I=="string"&&(I=JSON.parse(I)),typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(I)&&0<I.length),S=!Array.isArray(R[0]);if(ie&&p){for(var x=0;x<I.length;x++)0<x&&(te+=w),te+=j(I[x],x);0<R.length&&(te+=m)}for(var v=0;v<R.length;v++){var L=(ie?I:R[v]).length,z=!1,W=ie?Object.keys(R[v]).length===0:R[v].length===0;if(re&&!ie&&(z=re==="greedy"?R[v].join("").trim()==="":R[v].length===1&&R[v][0].length===0),re==="greedy"&&ie){for(var Z=[],Y=0;Y<L;Y++){var Q=S?I[Y]:Y;Z.push(R[v][Q])}z=Z.join("").trim()===""}if(!z){for(var V=0;V<L;V++){0<V&&!W&&(te+=w);var he=ie&&S?I[V]:V;te+=j(R[v][he],V)}v<R.length-1&&(!re||0<L&&!W)&&(te+=m)}}return te}function j(I,R){var re,te;return I==null?"":I.constructor===Date?JSON.stringify(I).slice(1,25):(te=!1,P&&typeof I=="string"&&P.test(I)&&(I="'"+I,te=!0),re=I.toString().replace(b,K),(te=te||d===!0||typeof d=="function"&&d(I,R)||Array.isArray(d)&&d[R]||((ie,S)=>{for(var x=0;x<S.length;x++)if(-1<ie.indexOf(S[x]))return!0;return!1})(re,o.BAD_DELIMITERS)||-1<re.indexOf(w)||re.charAt(0)===" "||re.charAt(re.length-1)===" ")?k+re+k:re)}},o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\uFEFF",o.BAD_DELIMITERS=["\r",`
`,'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!s&&!!r.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=B,o.ParserHandle=H,o.NetworkStreamer=g,o.FileStreamer=y,o.StringStreamer=T,o.ReadableStreamStreamer=E,r.jQuery&&((i=r.jQuery).fn.parse=function(f){var l=f.config||{},d=[];return this.each(function(m){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var k=0;k<this.files.length;k++)d.push({file:this.files[k],inputElem:this,instanceConfig:i.extend({},l)})}),p(),this;function p(){if(d.length===0)O(f.complete)&&f.complete();else{var m,k,K,C,A=d[0];if(O(f.before)){var P=f.before(A.file,A.inputElem);if(typeof P=="object"){if(P.action==="abort")return m="AbortError",k=A.file,K=A.inputElem,C=P.reason,void(O(f.error)&&f.error({name:m},k,K,C));if(P.action==="skip")return void w();typeof P.config=="object"&&(A.instanceConfig=i.extend(A.instanceConfig,P.config))}else if(P==="skip")return void w()}var b=A.instanceConfig.complete;A.instanceConfig.complete=function(q){O(b)&&b(q,A.file,A.inputElem),w()},o.parse(A.file,A.instanceConfig)}}function w(){d.splice(0,1),p()}}),u&&(r.onmessage=function(f){f=f.data,o.WORKER_ID===void 0&&f&&(o.WORKER_ID=f.workerId),typeof f.input=="string"?r.postMessage({workerId:o.WORKER_ID,results:o.parse(f.input,f.config),finished:!0}):(r.File&&f.input instanceof File||f.input instanceof Object)&&(f=o.parse(f.input,f.config))&&r.postMessage({workerId:o.WORKER_ID,results:f,finished:!0})}),(g.prototype=Object.create(h.prototype)).constructor=g,(y.prototype=Object.create(h.prototype)).constructor=y,(T.prototype=Object.create(T.prototype)).constructor=T,(E.prototype=Object.create(h.prototype)).constructor=E,o})})(Cn);const Xn=Cn.exports;function st(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Yn(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function En(e){let t,n,r;e.length!==2?(t=st,n=(a,c)=>st(e(a),c),r=(a,c)=>e(a)-c):(t=e===st||e===Yn?e:Gn,n=e,r=e);function i(a,c,o=0,h=a.length){if(o<h){if(t(c,c)!==0)return h;do{const g=o+h>>>1;n(a[g],c)<0?o=g+1:h=g}while(o<h)}return o}function s(a,c,o=0,h=a.length){if(o<h){if(t(c,c)!==0)return h;do{const g=o+h>>>1;n(a[g],c)<=0?o=g+1:h=g}while(o<h)}return o}function u(a,c,o=0,h=a.length){const g=i(a,c,o,h-1);return g>o&&r(a[g-1],c)>-r(a[g],c)?g-1:g}return{left:i,center:u,right:s}}function Gn(){return 0}function Jn(e){return e===null?NaN:+e}const Zn=En(st),$n=Zn.right;En(Jn).center;const er=$n;class Ut extends Map{constructor(t,n=rr){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Kt(this,t))}has(t){return super.has(Kt(this,t))}set(t,n){return super.set(tr(this,t),n)}delete(t){return super.delete(nr(this,t))}}function Kt({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function tr({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function nr({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function rr(e){return e!==null&&typeof e=="object"?e.valueOf():e}var Ct=Math.sqrt(50),Et=Math.sqrt(10),Rt=Math.sqrt(2);function ir(e,t,n){var r,i=-1,s,u,a;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(s=e,e=t,t=s),(a=Rn(e,t,n))===0||!isFinite(a))return[];if(a>0){let c=Math.round(e/a),o=Math.round(t/a);for(c*a<e&&++c,o*a>t&&--o,u=new Array(s=o-c+1);++i<s;)u[i]=(c+i)*a}else{a=-a;let c=Math.round(e*a),o=Math.round(t*a);for(c/a<e&&++c,o/a>t&&--o,u=new Array(s=o-c+1);++i<s;)u[i]=(c+i)/a}return r&&u.reverse(),u}function Rn(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=Ct?10:s>=Et?5:s>=Rt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=Ct?10:s>=Et?5:s>=Rt?2:1)}function sr(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=Ct?i*=10:s>=Et?i*=5:s>=Rt&&(i*=2),t<e?-i:i}function Qt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Xt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Dn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Yt=Symbol("implicit");function An(){var e=new Ut,t=[],n=[],r=Yt;function i(s){let u=e.get(s);if(u===void 0){if(r!==Yt)return r;e.set(s,u=t.push(s)-1)}return n[u%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Ut;for(const u of s)e.has(u)||e.set(u,t.push(u)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return An(t,n).unknown(r)},Dn.apply(i,arguments),i}function Ot(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ge(){}var Qe=.7,ut=1/Qe,qe="\\s*([+-]?\\d+)\\s*",Xe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ee="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ar=/^#([0-9a-f]{3,8})$/,or=new RegExp(`^rgb\\(${qe},${qe},${qe}\\)$`),lr=new RegExp(`^rgb\\(${Ee},${Ee},${Ee}\\)$`),ur=new RegExp(`^rgba\\(${qe},${qe},${qe},${Xe}\\)$`),fr=new RegExp(`^rgba\\(${Ee},${Ee},${Ee},${Xe}\\)$`),cr=new RegExp(`^hsl\\(${Xe},${Ee},${Ee}\\)$`),hr=new RegExp(`^hsla\\(${Xe},${Ee},${Ee},${Xe}\\)$`),Gt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ot(Ge,Ye,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jt,formatHex:Jt,formatHex8:dr,formatHsl:gr,formatRgb:Zt,toString:Zt});function Jt(){return this.rgb().formatHex()}function dr(){return this.rgb().formatHex8()}function gr(){return Nn(this).formatHsl()}function Zt(){return this.rgb().formatRgb()}function Ye(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ar.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$t(t):n===3?new ye(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?$e(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?$e(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=or.exec(e))?new ye(t[1],t[2],t[3],1):(t=lr.exec(e))?new ye(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ur.exec(e))?$e(t[1],t[2],t[3],t[4]):(t=fr.exec(e))?$e(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=cr.exec(e))?nn(t[1],t[2]/100,t[3]/100,1):(t=hr.exec(e))?nn(t[1],t[2]/100,t[3]/100,t[4]):Gt.hasOwnProperty(e)?$t(Gt[e]):e==="transparent"?new ye(NaN,NaN,NaN,0):null}function $t(e){return new ye(e>>16&255,e>>8&255,e&255,1)}function $e(e,t,n,r){return r<=0&&(e=t=n=NaN),new ye(e,t,n,r)}function pr(e){return e instanceof Ge||(e=Ye(e)),e?(e=e.rgb(),new ye(e.r,e.g,e.b,e.opacity)):new ye}function Dt(e,t,n,r){return arguments.length===1?pr(e):new ye(e,t,n,r==null?1:r)}function ye(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ot(ye,Dt,jn(Ge,{brighter(e){return e=e==null?ut:Math.pow(ut,e),new ye(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qe:Math.pow(Qe,e),new ye(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ye(Fe(this.r),Fe(this.g),Fe(this.b),ft(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:en,formatHex:en,formatHex8:mr,formatRgb:tn,toString:tn}));function en(){return`#${Pe(this.r)}${Pe(this.g)}${Pe(this.b)}`}function mr(){return`#${Pe(this.r)}${Pe(this.g)}${Pe(this.b)}${Pe((isNaN(this.opacity)?1:this.opacity)*255)}`}function tn(){const e=ft(this.opacity);return`${e===1?"rgb(":"rgba("}${Fe(this.r)}, ${Fe(this.g)}, ${Fe(this.b)}${e===1?")":`, ${e})`}`}function ft(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pe(e){return e=Fe(e),(e<16?"0":"")+e.toString(16)}function nn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ke(e,t,n,r)}function Nn(e){if(e instanceof ke)return new ke(e.h,e.s,e.l,e.opacity);if(e instanceof Ge||(e=Ye(e)),!e)return new ke;if(e instanceof ke)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),u=NaN,a=s-i,c=(s+i)/2;return a?(t===s?u=(n-r)/a+(n<r)*6:n===s?u=(r-t)/a+2:u=(t-n)/a+4,a/=c<.5?s+i:2-s-i,u*=60):a=c>0&&c<1?0:u,new ke(u,a,c,e.opacity)}function _r(e,t,n,r){return arguments.length===1?Nn(e):new ke(e,t,n,r==null?1:r)}function ke(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ot(ke,_r,jn(Ge,{brighter(e){return e=e==null?ut:Math.pow(ut,e),new ke(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qe:Math.pow(Qe,e),new ke(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ye(xt(e>=240?e-240:e+120,i,r),xt(e,i,r),xt(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ke(rn(this.h),et(this.s),et(this.l),ft(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ft(this.opacity);return`${e===1?"hsl(":"hsla("}${rn(this.h)}, ${et(this.s)*100}%, ${et(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rn(e){return e=(e||0)%360,e<0?e+360:e}function et(e){return Math.max(0,Math.min(1,e||0))}function xt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Lt=e=>()=>e;function br(e,t){return function(n){return e+n*t}}function yr(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function wr(e){return(e=+e)==1?Tn:function(t,n){return n-t?yr(t,n,e):Lt(isNaN(t)?n:t)}}function Tn(e,t){var n=t-e;return n?br(e,n):Lt(isNaN(e)?t:e)}const sn=function e(t){var n=wr(t);function r(i,s){var u=n((i=Dt(i)).r,(s=Dt(s)).r),a=n(i.g,s.g),c=n(i.b,s.b),o=Tn(i.opacity,s.opacity);return function(h){return i.r=u(h),i.g=a(h),i.b=c(h),i.opacity=o(h),i+""}}return r.gamma=e,r}(1);function xr(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function vr(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kr(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),u;for(u=0;u<r;++u)i[u]=Pt(e[u],t[u]);for(;u<n;++u)s[u]=t[u];return function(a){for(u=0;u<r;++u)s[u]=i[u](a);return s}}function Mr(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ct(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Sr(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Pt(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var At=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vt=new RegExp(At.source,"g");function Cr(e){return function(){return e}}function Er(e){return function(t){return e(t)+""}}function Rr(e,t){var n=At.lastIndex=vt.lastIndex=0,r,i,s,u=-1,a=[],c=[];for(e=e+"",t=t+"";(r=At.exec(e))&&(i=vt.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[u]?a[u]+=s:a[++u]=s),(r=r[0])===(i=i[0])?a[u]?a[u]+=i:a[++u]=i:(a[++u]=null,c.push({i:u,x:ct(r,i)})),n=vt.lastIndex;return n<t.length&&(s=t.slice(n),a[u]?a[u]+=s:a[++u]=s),a.length<2?c[0]?Er(c[0].x):Cr(t):(t=c.length,function(o){for(var h=0,g;h<t;++h)a[(g=c[h]).i]=g.x(o);return a.join("")})}function Pt(e,t){var n=typeof t,r;return t==null||n==="boolean"?Lt(t):(n==="number"?ct:n==="string"?(r=Ye(t))?(t=r,sn):Rr:t instanceof Ye?sn:t instanceof Date?Mr:vr(t)?xr:Array.isArray(t)?kr:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Sr:ct)(e,t)}function Dr(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ar(e){return function(){return e}}function jr(e){return+e}var an=[0,1];function He(e){return e}function jt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ar(isNaN(t)?NaN:.5)}function Nr(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Tr(e,t,n){var r=e[0],i=e[1],s=t[0],u=t[1];return i<r?(r=jt(i,r),s=n(u,s)):(r=jt(r,i),s=n(s,u)),function(a){return s(r(a))}}function Ir(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)i[u]=jt(e[u],e[u+1]),s[u]=n(t[u],t[u+1]);return function(a){var c=er(e,a,1,r)-1;return s[c](i[c](a))}}function Or(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Lr(){var e=an,t=an,n=Pt,r,i,s,u=He,a,c,o;function h(){var y=Math.min(e.length,t.length);return u!==He&&(u=Nr(e[0],e[y-1])),a=y>2?Ir:Tr,c=o=null,g}function g(y){return y==null||isNaN(y=+y)?s:(c||(c=a(e.map(r),t,n)))(r(u(y)))}return g.invert=function(y){return u(i((o||(o=a(t,e.map(r),ct)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,jr),h()):e.slice()},g.range=function(y){return arguments.length?(t=Array.from(y),h()):t.slice()},g.rangeRound=function(y){return t=Array.from(y),n=Dr,h()},g.clamp=function(y){return arguments.length?(u=y?!0:He,h()):u!==He},g.interpolate=function(y){return arguments.length?(n=y,h()):n},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,T){return r=y,i=T,h()}}function Pr(){return Lr()(He,He)}function zr(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ht(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ve(e){return e=ht(Math.abs(e)),e?e[1]:NaN}function Fr(e,t){return function(n,r){for(var i=n.length,s=[],u=0,a=e[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),s.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=e[u=(u+1)%e.length];return s.reverse().join(t)}}function Hr(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var qr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dt(e){if(!(t=qr.exec(e)))throw new Error("invalid format: "+e);var t;return new zt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dt.prototype=zt.prototype;function zt(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}zt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vr(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var In;function Br(e,t){var n=ht(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(In=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return s===u?r:s>u?r+new Array(s-u+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+ht(e,Math.max(0,t+s-1))[0]}function on(e,t){var n=ht(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ln={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:zr,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>on(e*100,t),r:on,s:Br,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function un(e){return e}var fn=Array.prototype.map,cn=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Wr(e){var t=e.grouping===void 0||e.thousands===void 0?un:Fr(fn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?un:Hr(fn.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function o(g){g=dt(g);var y=g.fill,T=g.align,E=g.sign,H=g.symbol,M=g.zero,B=g.width,ue=g.comma,_=g.precision,U=g.trim,J=g.type;J==="n"?(ue=!0,J="g"):ln[J]||(_===void 0&&(_=12),U=!0,J="g"),(M||y==="0"&&T==="=")&&(M=!0,y="0",T="=");var G=H==="$"?n:H==="#"&&/[boxX]/.test(J)?"0"+J.toLowerCase():"",O=H==="$"?r:/[%p]/.test(J)?u:"",f=ln[J],l=/[defgprs%]/.test(J);_=_===void 0?6:/[gprs]/.test(J)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function d(p){var w=G,m=O,k,K,C;if(J==="c")m=f(p)+m,p="";else{p=+p;var A=p<0||1/p<0;if(p=isNaN(p)?c:f(Math.abs(p),_),U&&(p=Vr(p)),A&&+p==0&&E!=="+"&&(A=!1),w=(A?E==="("?E:a:E==="-"||E==="("?"":E)+w,m=(J==="s"?cn[8+In/3]:"")+m+(A&&E==="("?")":""),l){for(k=-1,K=p.length;++k<K;)if(C=p.charCodeAt(k),48>C||C>57){m=(C===46?i+p.slice(k+1):p.slice(k))+m,p=p.slice(0,k);break}}}ue&&!M&&(p=t(p,1/0));var P=w.length+p.length+m.length,b=P<B?new Array(B-P+1).join(y):"";switch(ue&&M&&(p=t(b+p,b.length?B-m.length:1/0),b=""),T){case"<":p=w+p+m+b;break;case"=":p=w+b+p+m;break;case"^":p=b.slice(0,P=b.length>>1)+w+p+m+b.slice(P);break;default:p=b+w+p+m;break}return s(p)}return d.toString=function(){return g+""},d}function h(g,y){var T=o((g=dt(g),g.type="f",g)),E=Math.max(-8,Math.min(8,Math.floor(Ve(y)/3)))*3,H=Math.pow(10,-E),M=cn[8+E/3];return function(B){return T(H*B)+M}}return{format:o,formatPrefix:h}}var tt,On,Ln;Ur({thousands:",",grouping:[3],currency:["$",""]});function Ur(e){return tt=Wr(e),On=tt.format,Ln=tt.formatPrefix,tt}function Kr(e){return Math.max(0,-Ve(Math.abs(e)))}function Qr(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ve(t)/3)))*3-Ve(Math.abs(e)))}function Xr(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ve(t)-Ve(e))+1}function Yr(e,t,n,r){var i=sr(e,t,n),s;switch(r=dt(r==null?",f":r),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=Qr(i,u))&&(r.precision=s),Ln(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Xr(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Kr(i))&&(r.precision=s-(r.type==="%")*2);break}}return On(r)}function Gr(e){var t=e.domain;return e.ticks=function(n){var r=t();return ir(r[0],r[r.length-1],n==null?10:n)},e.tickFormat=function(n,r){var i=t();return Yr(i[0],i[i.length-1],n==null?10:n,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,u=r[i],a=r[s],c,o,h=10;for(a<u&&(o=u,u=a,a=o,o=i,i=s,s=o);h-- >0;){if(o=Rn(u,a,n),o===c)return r[i]=u,r[s]=a,t(r);if(o>0)u=Math.floor(u/o)*o,a=Math.ceil(a/o)*o;else if(o<0)u=Math.ceil(u*o)/o,a=Math.floor(a*o)/o;else break;c=o}return e},e}function Nt(){var e=Pr();return e.copy=function(){return Or(e,Nt())},Dn.apply(e,arguments),Gr(e)}function Jr(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Zr=Jr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function $r(e){let t;return{c(){t=F("p"),t.textContent="Hover over a circle to see details here.",D(t,"class","svelte-60srhh")},m(n,r){ce(n,t,r)},p:Se,d(n){n&&le(t)}}}function ei(e){let t,n=e[0].title+"",r,i,s,u=e[0][e[1]]+"",a,c,o,h=e[0].date.toISOString().split("T")[0]+"",g,y,T,E=e[0].text+"",H;return{c(){t=F("h1"),r=Me(n),i=ae(),s=F("span"),a=Me(u),c=ae(),o=F("h2"),g=Me(h),y=ae(),T=F("p"),H=Me(E),D(t,"class","svelte-60srhh"),Ce(s,"background",e[2](e[0][e[1]])),D(s,"class","svelte-60srhh"),D(o,"class","svelte-60srhh"),D(T,"class","svelte-60srhh")},m(M,B){ce(M,t,B),N(t,r),ce(M,i,B),ce(M,s,B),N(s,a),ce(M,c,B),ce(M,o,B),N(o,g),ce(M,y,B),ce(M,T,B),N(T,H)},p(M,B){B&1&&n!==(n=M[0].title+"")&&Te(r,n),B&3&&u!==(u=M[0][M[1]]+"")&&Te(a,u),B&7&&Ce(s,"background",M[2](M[0][M[1]])),B&1&&h!==(h=M[0].date.toISOString().split("T")[0]+"")&&Te(g,h),B&1&&E!==(E=M[0].text+"")&&Te(H,E)},d(M){M&&le(t),M&&le(i),M&&le(s),M&&le(c),M&&le(o),M&&le(y),M&&le(T)}}}function ti(e){let t;function n(s,u){return s[0]?ei:$r}let r=n(e),i=r(e);return{c(){t=F("div"),i.c(),D(t,"class","detail-card svelte-60srhh")},m(s,u){ce(s,t,u),i.m(t,null)},p(s,[u]){r===(r=n(s))&&i?i.p(s,u):(i.d(1),i=r(s),i&&(i.c(),i.m(t,null)))},i:Se,o:Se,d(s){s&&le(t),i.d()}}}function ni(e,t,n){let{hoveredData:r}=t,{domainColumn:i}=t,{data:s}=t,{colorScale:u}=t;return Tt(()=>{u.domain(s.map(a=>a[i]))}),e.$$set=a=>{"hoveredData"in a&&n(0,r=a.hoveredData),"domainColumn"in a&&n(1,i=a.domainColumn),"data"in a&&n(3,s=a.data),"colorScale"in a&&n(2,u=a.colorScale)},[r,i,u,s]}class ri extends bt{constructor(t){super(),_t(this,t,ni,ti,gt,{hoveredData:0,domainColumn:1,data:3,colorScale:2})}}function hn(e){let t,n;return t=new ri({props:{hoveredData:e[3],data:e[0],domainColumn:e[1],colorScale:e[4]}}),{c(){It(t.$$.fragment)},m(r,i){pt(t,r,i),n=!0},p(r,i){const s={};i&8&&(s.hoveredData=r[3]),i&1&&(s.data=r[0]),i&2&&(s.domainColumn=r[1]),t.$set(s)},i(r){n||(De(t.$$.fragment,r),n=!0)},o(r){ze(t.$$.fragment,r),n=!1},d(r){mt(t,r)}}}function ii(e){let t,n,r,i,s,u,a=e[3]&&hn(e);return{c(){t=F("div"),n=F("canvas"),r=ae(),a&&a.c(),D(n,"width",at),D(n,"height",ot),D(n,"class","svelte-14rtzz4"),D(t,"class","chart-container svelte-14rtzz4")},m(c,o){ce(c,t,o),N(t,n),e[17](n),N(t,r),a&&a.m(t,null),i=!0,s||(u=[fe(n,"mousemove",e[5]),fe(n,"mouseleave",e[6])],s=!0)},p(c,[o]){c[3]?a?(a.p(c,o),o&8&&De(a,1)):(a=hn(c),a.c(),De(a,1),a.m(t,null)):a&&(Mn(),ze(a,1,1,()=>{a=null}),Sn())},i(c){i||(De(a),i=!0)},o(c){ze(a),i=!1},d(c){c&&le(t),e[17](null),a&&a.d(),s=!1,Ae(u)}}}let at=800,ot=600;const kt=6;let nt=1;function si(e,t,n){let r,i,s,u,a,{data:c=[]}=t,{domainColumn:o=""}=t,{opacity:h=1}=t,{selectedValues:g=new Set}=t,{searchQuery:y=""}=t,{showAnnotations:T=!0}=t,{highlightedData:E=[]}=t,{startDate:H=null}=t,{endDate:M=null}=t,B=[{x:500,y:400,radius:30,label:"Border Belt Independent and North Carolina Coastal Federation have both published about GenX \u2014 an industrial chemical.",label_x:-400,label_y:-80},{x:720,y:170,radius:50,label:"Only Carolina Peacemaker seems to be publishing about personal health.",label_x:-100,label_y:130}],ue,_;const U={top:20,right:20,bottom:20,left:20};let J=null,G=null,O={x:0,y:0};const f=An().domain([...new Set(c.map(m=>m[o]))]).range(Zr);function l(){if(!_||!c.length)return;const m=(H==null?void 0:H.getTime())===Math.min(...c.map(k=>k.date.getTime()))&&(M==null?void 0:M.getTime())===Math.max(...c.map(k=>k.date.getTime()));_.clearRect(0,0,at,ot),_.save(),_.translate(O.x,O.y),_.scale(nt,nt),_.translate(-O.x,-O.y),c.forEach(k=>{var b;const K=y&&((b=k.title)==null?void 0:b.toLowerCase().includes(y.toLowerCase())),C=r.has(k.id)||K,A=g.has(k[o]),P=(!H||k.date>=H)&&(!M||k.date<=M);_.beginPath(),_.arc(U.left+u(k.x),U.top+a(k.y),kt,0,Math.PI*2),n(14,_.fillStyle=f(k[o]),_),(C||A)&&P&&!m||P&&!m&&g.size===0||(C||A)&&m?n(14,_.globalAlpha=1,_):n(14,_.globalAlpha=h*.2,_),_.fill()}),T&&B.forEach(k=>{n(14,_.globalAlpha=1,_),_.beginPath(),_.arc(k.x,k.y,k.radius,0,Math.PI*2),n(14,_.strokeStyle="red",_),n(14,_.lineWidth=2,_),_.setLineDash([5,5]),_.stroke();const K=180,C=12;n(14,_.font="16px Arial",_);const A=k.x+k.label_x,P=k.y+k.label_y;let b=0,q=0,j=[];if(k.label){const z=k.label.split(" ");let W="";z.forEach((Z,Y)=>{const Q=W+Z+" ";_.measureText(Q).width>K&&Y>0?(j.push(W),b=Math.max(b,_.measureText(W).width),W=Z+" "):W=Q}),j.push(W),b=Math.max(b,_.measureText(W).width),q=C*j.length}const I=A,R=P-C,re=b,te=q;let ie,S;k.x<I?ie=I:k.x>I+re?ie=I+re:ie=k.x,k.y<R?S=R:k.y>R+te?S=R+te:S=k.y;const x=Math.atan2(S-k.y,ie-k.x),v=k.x+k.radius*Math.cos(x),L=k.y+k.radius*Math.sin(x);if(_.setLineDash([]),_.beginPath(),_.moveTo(v,L),_.lineTo(ie,S),n(14,_.strokeStyle="red",_),n(14,_.lineWidth=1,_),_.stroke(),k.label){n(14,_.font="16px Arial",_),n(14,_.fillStyle="red",_);const z=16;j.forEach((W,Z)=>{_.fillText(W,A,P+Z*z)})}}),_.setLineDash([]),J&&(_.beginPath(),_.arc(U.left+u(J.x),U.top+a(J.y),kt,0,Math.PI*2),n(14,_.fillStyle=f(J[o]),_),n(14,_.globalAlpha=1,_),_.fill(),n(14,_.strokeStyle="black",_),n(14,_.lineWidth=2,_),_.stroke()),_.restore()}function d(m){const k=ue.getBoundingClientRect(),K=at/k.width,C=ot/k.height,A=(m.clientX-k.left)*K-U.left,P=(m.clientY-k.top)*C-U.top,b=(A-O.x)/nt+O.x,q=(P-O.y)/nt+O.y,j=c.find(I=>{var Z;const R=u(I.x)-b,re=a(I.y)-q,te=Math.sqrt(R*R+re*re)<kt+3,ie=y&&((Z=I.title)==null?void 0:Z.toLowerCase().includes(y.toLowerCase())),S=r.has(I.id)||ie,x=g.has(I[o]),v=(!H||I.date>=H)&&(!M||I.date<=M),L=(H==null?void 0:H.getTime())===Math.min(...c.map(Y=>Y.date.getTime()))&&(M==null?void 0:M.getTime())===Math.max(...c.map(Y=>Y.date.getTime())),W=g.size===0||g.size===new Set(c.map(Y=>Y[o])).size||(S||x)&&v&&!L||v&&!L&&g.size===0||(S||x)&&L;return te&&W});j?(n(3,J=j),G=j):(n(3,J=null),G=null),l()}function p(){n(3,J=G),l()}Tt(()=>{n(14,_=ue.getContext("2d")),l()});function w(m){Ie[m?"unshift":"push"](()=>{ue=m,n(2,ue)})}return e.$$set=m=>{"data"in m&&n(0,c=m.data),"domainColumn"in m&&n(1,o=m.domainColumn),"opacity"in m&&n(7,h=m.opacity),"selectedValues"in m&&n(8,g=m.selectedValues),"searchQuery"in m&&n(9,y=m.searchQuery),"showAnnotations"in m&&n(10,T=m.showAnnotations),"highlightedData"in m&&n(11,E=m.highlightedData),"startDate"in m&&n(12,H=m.startDate),"endDate"in m&&n(13,M=m.endDate)},e.$$.update=()=>{e.$$.dirty&2048&&(r=new Set(E.map(m=>m.id))),e.$$.dirty&65537&&(u=Nt().domain([Xt(c,m=>m.x),Qt(c,m=>m.x)]).range([0,i])),e.$$.dirty&32769&&(a=Nt().domain([Xt(c,m=>m.y),Qt(c,m=>m.y)]).range([s,0])),e.$$.dirty&16385&&_&&c.length&&l(),e.$$.dirty&30595&&_&&c.length&&l()},n(16,i=at-U.left-U.right),n(15,s=ot-U.top-U.bottom),[c,o,ue,J,f,d,p,h,g,y,T,E,H,M,_,s,i,w]}class ai extends bt{constructor(t){super(),_t(this,t,si,ii,gt,{data:0,domainColumn:1,opacity:7,selectedValues:8,searchQuery:9,showAnnotations:10,highlightedData:11,startDate:12,endDate:13})}}function oi(e){let t,n,r,i,s,u,a,c,o;return{c(){t=F("div"),n=F("div"),r=F("div"),i=ae(),s=F("div"),u=ae(),a=F("div"),D(r,"class","track-inner svelte-vytkle"),D(n,"class","track svelte-vytkle"),D(s,"class","thumb start-thumb svelte-vytkle"),Ce(s,"left",e[4]+"%"),D(a,"class","thumb end-thumb svelte-vytkle"),Ce(a,"left",e[3]+"%"),D(t,"class","range-slider svelte-vytkle"),Ce(t,"--start-percent",e[4]+"%"),Ce(t,"--end-percent",e[3]+"%")},m(h,g){ce(h,t,g),N(t,n),N(n,r),N(t,i),N(t,s),e[13](s),N(t,u),N(t,a),e[16](a),e[19](t),c||(o=[fe(r,"mousedown",e[11]),fe(r,"touchstart",e[12]),fe(s,"mousedown",e[14]),fe(s,"touchstart",e[15]),fe(a,"mousedown",e[17]),fe(a,"touchstart",e[18])],c=!0)},p(h,[g]){g&16&&Ce(s,"left",h[4]+"%"),g&8&&Ce(a,"left",h[3]+"%"),g&16&&Ce(t,"--start-percent",h[4]+"%"),g&8&&Ce(t,"--end-percent",h[3]+"%")},i:Se,o:Se,d(h){h&&le(t),e[13](null),e[16](null),e[19](null),c=!1,Ae(o)}}}function li(e,t,n){let r,i,{min:s=0}=t,{max:u=100}=t,{startValue:a}=t,{endValue:c}=t;const o=Vn();let h,g,y,T=!1,E=null,H=null,M=0;function B(C,A){T=!0,E=A,H=h.getBoundingClientRect(),A==="range"&&(M=c-a),window.addEventListener("mousemove",ue),window.addEventListener("mouseup",_)}function ue(C){if(!T)return;const A=Math.min(Math.max(0,(C.clientX-H.left)/H.width),1),P=Math.round(A*(u-s)+s);if(E==="start")n(7,a=Math.min(P,c)),o("startChange",a);else if(E==="end")n(8,c=Math.max(P,a)),o("endChange",c);else if(E==="range"){let b=P-Math.floor(M/2),q=P+Math.ceil(M/2);b<s&&(b=s,q=s+M),q>u&&(q=u,b=u-M),b=Math.max(s,b),q=Math.min(u,q),n(7,a=b),n(8,c=q),o("startChange",a),o("endChange",c)}}function _(){T=!1,window.removeEventListener("mousemove",ue),window.removeEventListener("mouseup",_)}function U(C,A){C.preventDefault(),T=!0,E=A,H=h.getBoundingClientRect(),A==="range"&&(M=c-a),window.addEventListener("touchmove",J,{passive:!1}),window.addEventListener("touchend",G)}function J(C){if(C.preventDefault(),!T)return;const A=C.touches[0],P=Math.min(Math.max(0,(A.clientX-H.left)/H.width),1),b=Math.round(P*(u-s)+s);if(E==="start")n(7,a=Math.min(b,c)),o("startChange",a);else if(E==="end")n(8,c=Math.max(b,a)),o("endChange",c);else if(E==="range"){let q=b-Math.floor(M/2),j=b+Math.ceil(M/2);q<s&&(q=s,j=s+M),j>u&&(j=u,q=u-M),q=Math.max(s,q),j=Math.min(u,j),n(7,a=q),n(8,c=j),o("startChange",a),o("endChange",c)}}function G(){T=!1,window.removeEventListener("touchmove",J),window.removeEventListener("touchend",G)}const O=C=>B(C,"range"),f=C=>U(C,"range");function l(C){Ie[C?"unshift":"push"](()=>{g=C,n(1,g)})}const d=C=>B(C,"start"),p=C=>U(C,"start");function w(C){Ie[C?"unshift":"push"](()=>{y=C,n(2,y)})}const m=C=>B(C,"end"),k=C=>U(C,"end");function K(C){Ie[C?"unshift":"push"](()=>{h=C,n(0,h)})}return e.$$set=C=>{"min"in C&&n(9,s=C.min),"max"in C&&n(10,u=C.max),"startValue"in C&&n(7,a=C.startValue),"endValue"in C&&n(8,c=C.endValue)},e.$$.update=()=>{e.$$.dirty&1664&&n(4,r=u>s?(a-s)/(u-s)*100:0),e.$$.dirty&1792&&n(3,i=u>s?(c-s)/(u-s)*100:100)},[h,g,y,i,r,B,U,a,c,s,u,O,f,l,d,p,w,m,k,K]}class ui extends bt{constructor(t){super(),_t(this,t,li,oi,gt,{min:9,max:10,startValue:7,endValue:8})}}function dn(e,t,n){const r=e.slice();return r[43]=t[n],r}function gn(e,t,n){const r=e.slice();return r[46]=t[n],r}function pn(e){let t,n,r,i,s,u,a=e[9],c=[];for(let o=0;o<a.length;o+=1)c[o]=mn(gn(e,a,o));return{c(){t=F("label"),t.textContent="\u{1F3A8} Color by Column:",n=ae(),r=F("select"),i=F("option"),i.textContent="Select column";for(let o=0;o<c.length;o+=1)c[o].c();D(t,"for","domain-column"),D(t,"class","svelte-bcjotp"),i.__value="",i.value=i.__value,i.disabled=!0,D(r,"id","domain-column"),D(r,"class","svelte-bcjotp"),e[0]===void 0&&lt(()=>e[24].call(r))},m(o,h){ce(o,t,h),ce(o,n,h),ce(o,r,h),N(r,i);for(let g=0;g<c.length;g+=1)c[g].m(r,null);Vt(r,e[0]),s||(u=[fe(r,"change",e[15]),fe(r,"change",e[24])],s=!0)},p(o,h){if(h[0]&512){a=o[9];let g;for(g=0;g<a.length;g+=1){const y=gn(o,a,g);c[g]?c[g].p(y,h):(c[g]=mn(y),c[g].c(),c[g].m(r,null))}for(;g<c.length;g+=1)c[g].d(1);c.length=a.length}h[0]&513&&Vt(r,o[0])},d(o){o&&le(t),o&&le(n),o&&le(r),xn(c,o),s=!1,Ae(u)}}}function mn(e){let t,n=e[46]+"",r,i;return{c(){t=F("option"),r=Me(n),t.__value=i=e[46],t.value=t.__value},m(s,u){ce(s,t,u),N(t,r)},p(s,u){u[0]&512&&n!==(n=s[46]+"")&&Te(r,n),u[0]&512&&i!==(i=s[46])&&(t.__value=i,t.value=t.__value)},d(s){s&&le(t)}}}function _n(e){let t,n,r,i,s,u=e[1],a=[];for(let c=0;c<u.length;c+=1)a[c]=bn(dn(e,u,c));return{c(){t=F("label"),t.textContent="\u2728 Highlight Values:",n=ae(),r=F("select");for(let c=0;c<a.length;c+=1)a[c].c();D(t,"for","value-select"),D(t,"class","svelte-bcjotp"),D(r,"id","value-select"),r.multiple=!0,D(r,"size","5"),D(r,"class","multi-select svelte-bcjotp")},m(c,o){ce(c,t,o),ce(c,n,o),ce(c,r,o);for(let h=0;h<a.length;h+=1)a[h].m(r,null);i||(s=fe(r,"change",e[16]),i=!0)},p(c,o){if(o[0]&2){u=c[1];let h;for(h=0;h<u.length;h+=1){const g=dn(c,u,h);a[h]?a[h].p(g,o):(a[h]=bn(g),a[h].c(),a[h].m(r,null))}for(;h<a.length;h+=1)a[h].d(1);a.length=u.length}},d(c){c&&le(t),c&&le(n),c&&le(r),xn(a,c),i=!1,s()}}}function bn(e){let t,n=e[43]+"",r,i;return{c(){t=F("option"),r=Me(n),t.__value=i=e[43],t.value=t.__value},m(s,u){ce(s,t,u),N(t,r)},p(s,u){u[0]&2&&n!==(n=s[43]+"")&&Te(r,n),u[0]&2&&i!==(i=s[43])&&(t.__value=i,t.value=t.__value)},d(s){s&&le(t)}}}function fi(e){let t;return{c(){t=Me("\u25B6")},m(n,r){ce(n,t,r)},d(n){n&&le(t)}}}function ci(e){let t;return{c(){t=Me("\u275A\u275A")},m(n,r){ce(n,t,r)},d(n){n&&le(t)}}}function hi(e){let t;return{c(){t=F("p"),t.textContent="Loading data..."},m(n,r){ce(n,t,r)},p:Se,i:Se,o:Se,d(n){n&&le(t)}}}function di(e){let t,n;return t=new ai({props:{data:e[11],domainColumn:e[0],selectedValues:e[2],opacity:e[10],searchQuery:e[13],showAnnotations:e[14],highlightedData:e[8],startDate:e[3],endDate:e[4]}}),{c(){It(t.$$.fragment)},m(r,i){pt(t,r,i),n=!0},p(r,i){const s={};i[0]&2048&&(s.data=r[11]),i[0]&1&&(s.domainColumn=r[0]),i[0]&4&&(s.selectedValues=r[2]),i[0]&1024&&(s.opacity=r[10]),i[0]&8192&&(s.searchQuery=r[13]),i[0]&16384&&(s.showAnnotations=r[14]),i[0]&256&&(s.highlightedData=r[8]),i[0]&8&&(s.startDate=r[3]),i[0]&16&&(s.endDate=r[4]),t.$set(s)},i(r){n||(De(t.$$.fragment,r),n=!0)},o(r){ze(t.$$.fragment,r),n=!1},d(r){mt(t,r)}}}function gi(e){let t,n,r,i,s,u,a,c,o,h,g,y,T,E,H,M,B,ue,_,U,J,G,O,f,l,d,p,w,m,k,K,C,A,P,b,q,j=Ne(e[3])+"",I,R,re,te=Ne(e[4])+"",ie,S,x,v,L,z,W,Z,Y,Q,V,he,$,se,ne,me,de,Re,ge,oe=e[9].length&&pn(e),ee=e[1].length&&_n(e);function _e(X){e[28](X)}function we(X){e[29](X)}let Oe={min:0,max:e[5].length-1};e[6]!==void 0&&(Oe.startValue=e[6]),e[7]!==void 0&&(Oe.endValue=e[7]),K=new ui({props:Oe}),Ie.push(()=>Wt(K,"startValue",_e)),Ie.push(()=>Wt(K,"endValue",we)),K.$on("startChange",e[30]),K.$on("endChange",e[31]);function Be(X,be){return X[12]?ci:fi}let xe=Be(e),pe=xe(e);const je=[di,hi],ve=[];function Ft(X,be){return X[11].length?0:1}return ne=Ft(e),me=ve[ne]=je[ne](e),{c(){t=F("div"),n=F("div"),n.innerHTML=`<h1 class="title svelte-bcjotp">Interactive Semantic Map [DEMO]</h1> 
    <p class="subtitle svelte-bcjotp">The default semantic map contains data from three organizations in North Carolina. <a href="https://peacemakeronline.com/">Carolina Peacemaker</a> and <a href="https://borderbelt.org">Border Belt</a> are local news organizations and <a href="https://www.nccoast.org/about-us/">NC Coastal Federation</a> is a nonprofit focused on coastal restoration.</p>`,r=ae(),i=F("div"),s=F("div"),u=F("div"),u.innerHTML=`<details close=""><summary class="svelte-bcjotp">\u2795 What is a Semantic Map?</summary> 
          <div class="nerd-box-content svelte-bcjotp"><p class="svelte-bcjotp">Semantic maps are tools that allow users to visually explore how different topics and ideas are connected. 
              By analyzing the relationships between articles, these maps can reveal patterns and clusters in the data.</p> 
            <p class="svelte-bcjotp">Each dot in this semantic map represents an article. When the dots are closer together, the articles are similar in meaning.</p> 
            <p class="svelte-bcjotp">Newsrooms can use semantic maps to:</p> 
            <ul class="svelte-bcjotp"><li class="svelte-bcjotp">Audit their coverage by identifying themes that may be underrepresented or overlooked.</li> 
              <li class="svelte-bcjotp">Track how their editorial focus evolves over time.</li> 
              <li class="svelte-bcjotp">Discover which topics are being covered by other outlets, offering opportunities to adjust their editorial focus or collaborate.</li></ul></div></details>`,a=ae(),c=F("label"),c.textContent="\u{1F4C1} Upload CSV:",o=ae(),h=F("input"),g=ae(),y=F("label"),y.textContent="\u{1F50D} Search Title:",T=ae(),E=F("input"),H=ae(),oe&&oe.c(),M=ae(),ee&&ee.c(),B=ae(),ue=F("label"),ue.textContent="\u{1F4A1} Adjust Opacity:",_=ae(),U=F("input"),J=ae(),G=F("div"),O=F("label"),O.textContent="\u{1F4C5} Date Range:",f=ae(),l=F("input"),p=ae(),w=F("input"),k=ae(),It(K.$$.fragment),P=ae(),b=F("div"),q=F("span"),I=Me(j),R=ae(),re=F("span"),ie=Me(te),S=ae(),x=F("div"),v=F("button"),v.textContent="-1W",L=ae(),z=F("button"),z.textContent="-1D",W=ae(),Z=F("button"),pe.c(),Y=ae(),Q=F("button"),Q.textContent="+1D",V=ae(),he=F("button"),he.textContent="+1W",$=ae(),se=F("div"),me.c(),D(n,"class","title-section svelte-bcjotp"),D(u,"class","nerd-box svelte-bcjotp"),D(c,"for","file-upload"),D(c,"class","svelte-bcjotp"),D(h,"id","file-upload"),D(h,"type","file"),D(h,"accept",".csv"),D(h,"class","svelte-bcjotp"),D(y,"for","search-input"),D(y,"class","svelte-bcjotp"),D(E,"id","search-input"),D(E,"type","text"),D(E,"placeholder","Search..."),D(E,"class","svelte-bcjotp"),D(ue,"for","opacity-slider"),D(ue,"class","svelte-bcjotp"),D(U,"id","opacity-slider"),D(U,"type","range"),D(U,"min","0.01"),D(U,"max","1"),D(U,"step","0.1"),D(U,"class","svelte-bcjotp"),D(O,"for","start-date"),D(O,"class","svelte-bcjotp"),D(l,"id","start-date"),D(l,"type","date"),l.value=d=Ne(e[3]),D(l,"class","svelte-bcjotp"),D(w,"id","end-date"),D(w,"type","date"),w.value=m=Ne(e[4]),D(w,"class","svelte-bcjotp"),D(b,"class","date-range-labels svelte-bcjotp"),D(v,"class","svelte-bcjotp"),D(z,"class","svelte-bcjotp"),D(Z,"class","play-button svelte-bcjotp"),D(Q,"class","svelte-bcjotp"),D(he,"class","svelte-bcjotp"),D(x,"class","date-navigation svelte-bcjotp"),D(G,"class","date-controls svelte-bcjotp"),D(s,"class","filter-panel svelte-bcjotp"),D(se,"class","scatterplot-container svelte-bcjotp"),D(i,"class","content svelte-bcjotp"),D(t,"class","container svelte-bcjotp")},m(X,be){ce(X,t,be),N(t,n),N(t,r),N(t,i),N(i,s),N(s,u),N(s,a),N(s,c),N(s,o),N(s,h),N(s,g),N(s,y),N(s,T),N(s,E),N(s,H),oe&&oe.m(s,null),N(s,M),ee&&ee.m(s,null),N(s,B),N(s,ue),N(s,_),N(s,U),qt(U,e[10]),N(s,J),N(s,G),N(G,O),N(G,f),N(G,l),N(G,p),N(G,w),N(G,k),pt(K,G,null),N(G,P),N(G,b),N(b,q),N(q,I),N(b,R),N(b,re),N(re,ie),N(G,S),N(G,x),N(x,v),N(x,L),N(x,z),N(x,W),N(x,Z),pe.m(Z,null),N(x,Y),N(x,Q),N(x,V),N(x,he),N(i,$),N(i,se),ve[ne].m(se,null),de=!0,Re||(ge=[fe(h,"change",e[18]),fe(E,"input",e[21]),fe(U,"change",e[25]),fe(U,"input",e[25]),fe(U,"input",e[22]),fe(l,"change",e[26]),fe(w,"change",e[27]),fe(v,"click",e[32]),fe(z,"click",e[33]),fe(Z,"click",e[20]),fe(Q,"click",e[34]),fe(he,"click",e[35])],Re=!0)},p(X,be){X[9].length?oe?oe.p(X,be):(oe=pn(X),oe.c(),oe.m(s,M)):oe&&(oe.d(1),oe=null),X[1].length?ee?ee.p(X,be):(ee=_n(X),ee.c(),ee.m(s,B)):ee&&(ee.d(1),ee=null),be[0]&1024&&qt(U,X[10]),(!de||be[0]&8&&d!==(d=Ne(X[3])))&&(l.value=d),(!de||be[0]&16&&m!==(m=Ne(X[4])))&&(w.value=m);const Je={};be[0]&32&&(Je.max=X[5].length-1),!C&&be[0]&64&&(C=!0,Je.startValue=X[6],Bt(()=>C=!1)),!A&&be[0]&128&&(A=!0,Je.endValue=X[7],Bt(()=>A=!1)),K.$set(Je),(!de||be[0]&8)&&j!==(j=Ne(X[3])+"")&&Te(I,j),(!de||be[0]&16)&&te!==(te=Ne(X[4])+"")&&Te(ie,te),xe!==(xe=Be(X))&&(pe.d(1),pe=xe(X),pe&&(pe.c(),pe.m(Z,null)));let yt=ne;ne=Ft(X),ne===yt?ve[ne].p(X,be):(Mn(),ze(ve[yt],1,1,()=>{ve[yt]=null}),Sn(),me=ve[ne],me?me.p(X,be):(me=ve[ne]=je[ne](X),me.c()),De(me,1),me.m(se,null))},i(X){de||(De(K.$$.fragment,X),De(me),de=!0)},o(X){ze(K.$$.fragment,X),ze(me),de=!1},d(X){X&&le(t),oe&&oe.d(),ee&&ee.d(),mt(K),pe.d(),ve[ne].d(),Re=!1,Ae(ge)}}}function Ne(e){return e?e.toISOString().split("T")[0]:""}function pi(e,t,n){let r=[],i=[],s="org",u=[],a=new Set,c=.5,o=null,h=null,g=[],y=[],T=0,E=0,H=!1,M=null,B=[],ue="",_=!0;Tt(async()=>{const x=await(await fetch("/semantic-maps/data.csv")).text();return U(x),()=>{M&&clearInterval(M)}});function U(S){const x=Xn.parse(S,{header:!0});n(23,r=x.data.filter(v=>v.x&&v.y&&v.date).map((v,L)=>({...v,x:+v.x,y:+v.y,date:new Date(v.date),id:L}))),n(9,i=x.meta.fields||[]),n(5,y=[...new Set(r.map(v=>v.date.getTime()))].sort((v,L)=>v-L).map(v=>new Date(v))),n(3,o=y[0]),n(4,h=y[y.length-1]),n(6,T=0),n(7,E=y.length-1),s&&n(1,u=[...new Set(r.map(v=>v[s]).filter(Boolean))])}function J(S){n(0,s=S.target.value),n(1,u=s?[...new Set(r.map(x=>x[s]).filter(Boolean))]:[]),n(2,a=new Set),n(14,_=!1)}function G(S){const x=[...S.target.selectedOptions].map(L=>L.value);x.length===u.length||x.length===0?(n(2,a=new Set),n(8,B=[])):(n(2,a=new Set(x)),n(8,B=r.filter(L=>a.has(L[s])&&(!o||L.date>=o)&&(!h||L.date<=h)))),n(14,_=!1)}function O(S,x,v=!1){v?(n(3,o=y[S]||y[0]),n(4,h=y[x]||y[y.length-1])):(n(3,o=S),n(4,h=x)),n(14,_=!1)}function f(){if(o){const S=o.getTime();n(6,T=Math.max(0,y.findIndex(x=>x.getTime()>=S)))}else n(6,T=0);if(h){const S=h.getTime(),x=y.findIndex(v=>v.getTime()>=S);n(7,E=x>=0?x:y.length>0?y.length-1:0)}else n(7,E=y.length-1);T>E&&n(6,T=E),E<T&&n(7,E=T)}function l(S,x){if(S.detail!==void 0)x==="start"?(n(6,T=S.detail),T>E&&n(6,T=E)):(n(7,E=S.detail),E<T&&n(7,E=T)),O(T,E,!0);else{const v=S.target.value?new Date(S.target.value):null;x==="start"?O(v,h):O(o,v),f()}}function d(S){const x=S.target.files[0];if(x){const v=new FileReader;n(14,_=!1),v.onload=L=>U(L.target.result),v.readAsText(x)}}function p(S){const x=E-T;let v=T+S,L=E+S;v<0&&(v=0,L=x),L>=y.length&&(L=y.length-1,v=Math.max(0,L-x)),n(6,T=v),n(7,E=L),O(T,E,!0)}function w(){H?(clearInterval(M),n(12,H=!1)):(n(12,H=!0),n(14,_=!1),M=setInterval(()=>{if(E>=y.length-1){clearInterval(M),n(12,H=!1);return}p(1)},500))}function m(S){n(13,ue=S.target.value),n(14,_=!1)}function k(){n(14,_=!1)}function K(){s=Hn(this),n(0,s),n(9,i)}function C(){c=zn(this.value),n(10,c)}const A=S=>l(S,"start"),P=S=>l(S,"end");function b(S){T=S,n(6,T)}function q(S){E=S,n(7,E)}const j=S=>l(S,"start"),I=S=>l(S,"end"),R=()=>p(-7),re=()=>p(-1),te=()=>p(1),ie=()=>p(7);return e.$$.update=()=>{e.$$.dirty[0]&256&&new Set(B.map(S=>S.id)),e.$$.dirty[0]&8388639&&n(11,g=r.map(S=>({...S,isHighlighted:a.size>0&&a.size<u.length&&a.has(S[s])&&(!o||S.date>=o)&&(!h||S.date<=h)}))),e.$$.dirty[0]&96&&y.length>1&&T/(y.length-1)*100,e.$$.dirty[0]&160&&y.length>1&&E/(y.length-1)*100},[s,u,a,o,h,y,T,E,B,i,c,g,H,ue,_,J,G,l,d,p,w,m,k,r,K,C,A,P,b,q,j,I,R,re,te,ie]}class mi extends bt{constructor(t){super(),_t(this,t,pi,gi,gt,{},null,[-1,-1])}}new mi({target:document.getElementById("app")});
