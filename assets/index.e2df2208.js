(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ee(){}function bn(e){return e()}function Ht(){return Object.create(null)}function Ae(e){e.forEach(bn)}function yn(e){return typeof e=="function"}function pt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function On(e){return Object.keys(e).length===0}function A(e,t){e.appendChild(t)}function ce(e,t,n){e.insertBefore(t,n||null)}function ue(e){e.parentNode.removeChild(e)}function xn(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function L(e){return document.createElement(e)}function Me(e){return document.createTextNode(e)}function ee(){return Me(" ")}function fe(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function S(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Tn(e){return e===""?null:+e}function Ln(e){return Array.from(e.childNodes)}function De(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function qt(e,t){e.value=t==null?"":t}function Se(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Vt(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t){r.selected=!0;return}}e.selectedIndex=-1}function Pn(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function zn(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}let Ke;function We(e){Ke=e}function wn(){if(!Ke)throw new Error("Function called outside component initialization");return Ke}function It(e){wn().$$.on_mount.push(e)}function Fn(){const e=wn();return(t,n,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const s=zn(t,n,{cancelable:r});return i.slice().forEach(l=>{l.call(e,s)}),!s.defaultPrevented}return!0}}const Be=[],Ie=[],rt=[],Mt=[],Hn=Promise.resolve();let Et=!1;function qn(){Et||(Et=!0,Hn.then(vn))}function lt(e){rt.push(e)}function Bt(e){Mt.push(e)}const xt=new Set;let Ze=0;function vn(){const e=Ke;do{for(;Ze<Be.length;){const t=Be[Ze];Ze++,We(t),Vn(t.$$)}for(We(null),Be.length=0,Ze=0;Ie.length;)Ie.pop()();for(let t=0;t<rt.length;t+=1){const n=rt[t];xt.has(n)||(xt.add(n),n())}rt.length=0}while(Be.length);for(;Mt.length;)Mt.pop()();Et=!1,xt.clear(),We(e)}function Vn(e){if(e.fragment!==null){e.update(),Ae(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(lt)}}const it=new Set;let Te;function Bn(){Te={r:0,c:[],p:Te}}function Wn(){Te.r||Ae(Te.c),Te=Te.p}function Fe(e,t){e&&e.i&&(it.delete(e),e.i(t))}function Ue(e,t,n,r){if(e&&e.o){if(it.has(e))return;it.add(e),Te.c.push(()=>{it.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function Wt(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function Ot(e){e&&e.c()}function gt(e,t,n,r){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),r||lt(()=>{const l=e.$$.on_mount.map(bn).filter(yn);e.$$.on_destroy?e.$$.on_destroy.push(...l):Ae(l),e.$$.on_mount=[]}),s.forEach(lt)}function mt(e,t){const n=e.$$;n.fragment!==null&&(Ae(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Un(e,t){e.$$.dirty[0]===-1&&(Be.push(e),qn(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function _t(e,t,n,r,i,s,l,f=[-1]){const c=Ke;We(e);const o=e.$$={fragment:null,ctx:[],props:s,update:Ee,not_equal:i,bound:Ht(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Ht(),dirty:f,skip_bound:!1,root:t.target||c.$$.root};l&&l(o.root);let d=!1;if(o.ctx=n?n(e,t.props||{},(g,y,...j)=>{const w=j.length?j[0]:y;return o.ctx&&i(o.ctx[g],o.ctx[g]=w)&&(!o.skip_bound&&o.bound[g]&&o.bound[g](w),d&&Un(e,g)),y}):[],o.update(),d=!0,Ae(o.before_update),o.fragment=r?r(o.ctx):!1,t.target){if(t.hydrate){const g=Ln(t.target);o.fragment&&o.fragment.l(g),g.forEach(ue)}else o.fragment&&o.fragment.c();t.intro&&Fe(e.$$.fragment),gt(e,t.target,t.anchor,t.customElement),vn()}We(c)}class bt{$destroy(){mt(this,1),this.$destroy=Ee}$on(t,n){if(!yn(n))return Ee;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!On(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var Kn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kn={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(Kn,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,l=r.IS_PAPA_WORKER||!1,f={},c=0,o={};function d(u){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(a){var h=J(a);h.chunkSize=parseInt(h.chunkSize),a.step||a.chunk||(h.chunkSize=null),this._handle=new m(h),(this._handle.streamer=this)._config=h}.call(this,u),this.parseChunk=function(a,h){var p=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<p){let C=this._config.newline;C||(_=this._config.quoteChar||'"',C=this._handle.guessLineEndings(a,_)),a=[...a.split(C).slice(p)].join(C)}this.isFirstChunk&&q(this._config.beforeFirstChunk)&&(_=this._config.beforeFirstChunk(a))!==void 0&&(a=_),this.isFirstChunk=!1,this._halted=!1;var p=this._partialLine+a,_=(this._partialLine="",this._handle.parse(p,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(a=_.meta.cursor,p=(this._finished||(this._partialLine=p.substring(a-this._baseIndex),this._baseIndex=a),_&&_.data&&(this._rowCount+=_.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)r.postMessage({results:_,workerId:o.WORKER_ID,finished:p});else if(q(this._config.chunk)&&!h){if(this._config.chunk(_,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=_=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(_.data),this._completeResults.errors=this._completeResults.errors.concat(_.errors),this._completeResults.meta=_.meta),this._completed||!p||!q(this._config.complete)||_&&_.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),p||_&&_.meta.paused||this._nextChunk(),_}this._halted=!0},this._sendError=function(a){q(this._config.error)?this._config.error(a):l&&this._config.error&&r.postMessage({workerId:o.WORKER_ID,error:a,finished:!1})}}function g(u){var a;(u=u||{}).chunkSize||(u.chunkSize=o.RemoteChunkSize),d.call(this,u),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(h){this._input=h,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(a=new XMLHttpRequest,this._config.withCredentials&&(a.withCredentials=this._config.withCredentials),s||(a.onload=U(this._chunkLoaded,this),a.onerror=U(this._chunkError,this)),a.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var h,p=this._config.downloadRequestHeaders;for(h in p)a.setRequestHeader(h,p[h])}var _;this._config.chunkSize&&(_=this._start+this._config.chunkSize-1,a.setRequestHeader("Range","bytes="+this._start+"-"+_));try{a.send(this._config.downloadRequestBody)}catch(C){this._chunkError(C.message)}s&&a.status===0&&this._chunkError()}},this._chunkLoaded=function(){a.readyState===4&&(a.status<200||400<=a.status?this._chunkError():(this._start+=this._config.chunkSize||a.responseText.length,this._finished=!this._config.chunkSize||this._start>=(h=>(h=h.getResponseHeader("Content-Range"))!==null?parseInt(h.substring(h.lastIndexOf("/")+1)):-1)(a),this.parseChunk(a.responseText)))},this._chunkError=function(h){h=a.statusText||h,this._sendError(new Error(h))}}function y(u){(u=u||{}).chunkSize||(u.chunkSize=o.LocalChunkSize),d.call(this,u);var a,h,p=typeof FileReader<"u";this.stream=function(_){this._input=_,h=_.slice||_.webkitSlice||_.mozSlice,p?((a=new FileReader).onload=U(this._chunkLoaded,this),a.onerror=U(this._chunkError,this)):a=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var _=this._input,C=(this._config.chunkSize&&(C=Math.min(this._start+this._config.chunkSize,this._input.size),_=h.call(_,this._start,C)),a.readAsText(_,this._config.encoding));p||this._chunkLoaded({target:{result:C}})},this._chunkLoaded=function(_){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(_.target.result)},this._chunkError=function(){this._sendError(a.error)}}function j(u){var a;d.call(this,u=u||{}),this.stream=function(h){return a=h,this._nextChunk()},this._nextChunk=function(){var h,p;if(!this._finished)return h=this._config.chunkSize,a=h?(p=a.substring(0,h),a.substring(h)):(p=a,""),this._finished=!a,this.parseChunk(p)}}function w(u){d.call(this,u=u||{});var a=[],h=!0,p=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(_){this._input=_,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){p&&a.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),a.length?this.parseChunk(a.shift()):h=!0},this._streamData=U(function(_){try{a.push(typeof _=="string"?_:_.toString(this._config.encoding)),h&&(h=!1,this._checkIsFinished(),this.parseChunk(a.shift()))}catch(C){this._streamError(C)}},this),this._streamError=U(function(_){this._streamCleanUp(),this._sendError(_)},this),this._streamEnd=U(function(){this._streamCleanUp(),p=!0,this._streamData("")},this),this._streamCleanUp=U(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(u){var a,h,p,_,C=Math.pow(2,53),H=-C,B=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,k=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,E=this,O=0,x=0,F=!1,N=!1,T=[],R={data:[],errors:[],meta:{}};function ie(b){return u.skipEmptyLines==="greedy"?b.join("").trim()==="":b.length===1&&b[0].length===0}function $(){if(R&&p&&(D("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),p=!1),u.skipEmptyLines&&(R.data=R.data.filter(function(se){return!ie(se)})),M()){let se=function(oe,ae){q(u.transformHeader)&&(oe=u.transformHeader(oe,ae)),T.push(oe)};var z=se;if(R)if(Array.isArray(R.data[0])){for(var b=0;M()&&b<R.data.length;b++)R.data[b].forEach(se);R.data.splice(0,1)}else R.data.forEach(se)}function I(se,oe){for(var ae=u.header?{}:[],K=0;K<se.length;K++){var V=K,he=se[K],he=((Q,Z)=>(Y=>(u.dynamicTypingFunction&&u.dynamicTyping[Y]===void 0&&(u.dynamicTyping[Y]=u.dynamicTypingFunction(Y)),(u.dynamicTyping[Y]||u.dynamicTyping)===!0))(Q)?Z==="true"||Z==="TRUE"||Z!=="false"&&Z!=="FALSE"&&((Y=>{if(B.test(Y)&&(Y=parseFloat(Y),H<Y&&Y<C))return 1})(Z)?parseFloat(Z):k.test(Z)?new Date(Z):Z===""?null:Z):Z)(V=u.header?K>=T.length?"__parsed_extra":T[K]:V,he=u.transform?u.transform(he,V):he);V==="__parsed_extra"?(ae[V]=ae[V]||[],ae[V].push(he)):ae[V]=he}return u.header&&(K>T.length?D("FieldMismatch","TooManyFields","Too many fields: expected "+T.length+" fields but parsed "+K,x+oe):K<T.length&&D("FieldMismatch","TooFewFields","Too few fields: expected "+T.length+" fields but parsed "+K,x+oe)),ae}var ne;R&&(u.header||u.dynamicTyping||u.transform)&&(ne=1,!R.data.length||Array.isArray(R.data[0])?(R.data=R.data.map(I),ne=R.data.length):R.data=I(R.data,0),u.header&&R.meta&&(R.meta.fields=T),x+=ne)}function M(){return u.header&&T.length===0}function D(b,I,ne,z){b={type:b,code:I,message:ne},z!==void 0&&(b.row=z),R.errors.push(b)}q(u.step)&&(_=u.step,u.step=function(b){R=b,M()?$():($(),R.data.length!==0&&(O+=b.data.length,u.preview&&O>u.preview?h.abort():(R.data=R.data[0],_(R,E))))}),this.parse=function(b,I,ne){var z=u.quoteChar||'"',z=(u.newline||(u.newline=this.guessLineEndings(b,z)),p=!1,u.delimiter?q(u.delimiter)&&(u.delimiter=u.delimiter(b),R.meta.delimiter=u.delimiter):((z=((se,oe,ae,K,V)=>{var he,Q,Z,Y;V=V||[",","	","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var me=0;me<V.length;me++){for(var de,Re=V[me],pe=0,le=0,X=0,_e=(Z=void 0,new P({comments:K,delimiter:Re,newline:oe,preview:10}).parse(se)),xe=0;xe<_e.data.length;xe++)ae&&ie(_e.data[xe])?X++:(de=_e.data[xe].length,le+=de,Z===void 0?Z=de:0<de&&(pe+=Math.abs(de-Z),Z=de));0<_e.data.length&&(le/=_e.data.length-X),(Q===void 0||pe<=Q)&&(Y===void 0||Y<le)&&1.99<le&&(Q=pe,he=Re,Y=le)}return{successful:!!(u.delimiter=he),bestDelimiter:he}})(b,u.newline,u.skipEmptyLines,u.comments,u.delimitersToGuess)).successful?u.delimiter=z.bestDelimiter:(p=!0,u.delimiter=o.DefaultDelimiter),R.meta.delimiter=u.delimiter),J(u));return u.preview&&u.header&&z.preview++,a=b,h=new P(z),R=h.parse(a,I,ne),$(),F?{meta:{paused:!0}}:R||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,h.abort(),a=q(u.chunk)?"":a.substring(h.getCharIndex())},this.resume=function(){E.streamer._halted?(F=!1,E.streamer.parseChunk(a,!0)):setTimeout(E.resume,3)},this.aborted=function(){return N},this.abort=function(){N=!0,h.abort(),R.meta.aborted=!0,q(u.complete)&&u.complete(R),a=""},this.guessLineEndings=function(se,z){se=se.substring(0,1048576);var z=new RegExp(v(z)+"([^]*?)"+v(z),"gm"),ne=(se=se.replace(z,"")).split("\r"),z=se.split(`
`),se=1<z.length&&z[0].length<ne[0].length;if(ne.length===1||se)return`
`;for(var oe=0,ae=0;ae<ne.length;ae++)ne[ae][0]===`
`&&oe++;return oe>=ne.length/2?`\r
`:"\r"}}function v(u){return u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function P(u){var a=(u=u||{}).delimiter,h=u.newline,p=u.comments,_=u.step,C=u.preview,H=u.fastMode,B=null,k=!1,E=u.quoteChar==null?'"':u.quoteChar,O=E;if(u.escapeChar!==void 0&&(O=u.escapeChar),(typeof a!="string"||-1<o.BAD_DELIMITERS.indexOf(a))&&(a=","),p===a)throw new Error("Comment character same as delimiter");p===!0?p="#":(typeof p!="string"||-1<o.BAD_DELIMITERS.indexOf(p))&&(p=!1),h!==`
`&&h!=="\r"&&h!==`\r
`&&(h=`
`);var x=0,F=!1;this.parse=function(N,T,R){if(typeof N!="string")throw new Error("Input must be a string");var ie=N.length,$=a.length,M=h.length,D=p.length,b=q(_),I=[],ne=[],z=[],se=x=0;if(!N)return pe();if(H||H!==!1&&N.indexOf(E)===-1){for(var oe=N.split(h),ae=0;ae<oe.length;ae++){if(z=oe[ae],x+=z.length,ae!==oe.length-1)x+=h.length;else if(R)return pe();if(!p||z.substring(0,D)!==p){if(b){if(I=[],Y(z.split(a)),le(),F)return pe()}else Y(z.split(a));if(C&&C<=ae)return I=I.slice(0,C),pe(!0)}}return pe()}for(var K=N.indexOf(a,x),V=N.indexOf(h,x),he=new RegExp(v(O)+v(E),"g"),Q=N.indexOf(E,x);;)if(N[x]===E)for(Q=x,x++;;){if((Q=N.indexOf(E,Q+1))===-1)return R||ne.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:I.length,index:x}),de();if(Q===ie-1)return de(N.substring(x,Q).replace(he,E));if(E===O&&N[Q+1]===O)Q++;else if(E===O||Q===0||N[Q-1]!==O){K!==-1&&K<Q+1&&(K=N.indexOf(a,Q+1));var Z=me((V=V!==-1&&V<Q+1?N.indexOf(h,Q+1):V)===-1?K:Math.min(K,V));if(N.substr(Q+1+Z,$)===a){z.push(N.substring(x,Q).replace(he,E)),N[x=Q+1+Z+$]!==E&&(Q=N.indexOf(E,x)),K=N.indexOf(a,x),V=N.indexOf(h,x);break}if(Z=me(V),N.substring(Q+1+Z,Q+1+Z+M)===h){if(z.push(N.substring(x,Q).replace(he,E)),Re(Q+1+Z+M),K=N.indexOf(a,x),Q=N.indexOf(E,x),b&&(le(),F))return pe();if(C&&I.length>=C)return pe(!0);break}ne.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:I.length,index:x}),Q++}}else if(p&&z.length===0&&N.substring(x,x+D)===p){if(V===-1)return pe();x=V+M,V=N.indexOf(h,x),K=N.indexOf(a,x)}else if(K!==-1&&(K<V||V===-1))z.push(N.substring(x,K)),x=K+$,K=N.indexOf(a,x);else{if(V===-1)break;if(z.push(N.substring(x,V)),Re(V+M),b&&(le(),F))return pe();if(C&&I.length>=C)return pe(!0)}return de();function Y(X){I.push(X),se=x}function me(X){var _e=0;return _e=X!==-1&&(X=N.substring(Q+1,X))&&X.trim()===""?X.length:_e}function de(X){return R||(X===void 0&&(X=N.substring(x)),z.push(X),x=ie,Y(z),b&&le()),pe()}function Re(X){x=X,Y(z),z=[],V=N.indexOf(h,x)}function pe(X){if(u.header&&!T&&I.length&&!k){var _e=I[0],xe={},Oe=new Set(_e);let Ve=!1;for(let we=0;we<_e.length;we++){let ge=_e[we];if(xe[ge=q(u.transformHeader)?u.transformHeader(ge,we):ge]){let Ne,ve=xe[ge];for(;Ne=ge+"_"+ve,ve++,Oe.has(Ne););Oe.add(Ne),_e[we]=Ne,xe[ge]++,Ve=!0,(B=B===null?{}:B)[Ne]=ge}else xe[ge]=1,_e[we]=ge;Oe.add(ge)}Ve&&console.warn("Duplicate headers found and renamed."),k=!0}return{data:I,errors:ne,meta:{delimiter:a,linebreak:h,aborted:F,truncated:!!X,cursor:se+(T||0),renamedHeaders:B}}}function le(){_(pe()),I=[],ne=[]}},this.abort=function(){F=!0},this.getCharIndex=function(){return x}}function re(u){var a=u.data,h=f[a.workerId],p=!1;if(a.error)h.userError(a.error,a.file);else if(a.results&&a.results.data){var _={abort:function(){p=!0,te(a.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:G,resume:G};if(q(h.userStep)){for(var C=0;C<a.results.data.length&&(h.userStep({data:a.results.data[C],errors:a.results.errors,meta:a.results.meta},_),!p);C++);delete a.results}else q(h.userChunk)&&(h.userChunk(a.results,_,a.file),delete a.results)}a.finished&&!p&&te(a.workerId,a.results)}function te(u,a){var h=f[u];q(h.userComplete)&&h.userComplete(a),h.terminate(),delete f[u]}function G(){throw new Error("Not implemented.")}function J(u){if(typeof u!="object"||u===null)return u;var a,h=Array.isArray(u)?[]:{};for(a in u)h[a]=J(u[a]);return h}function U(u,a){return function(){u.apply(a,arguments)}}function q(u){return typeof u=="function"}return o.parse=function(u,a){var h=(a=a||{}).dynamicTyping||!1;if(q(h)&&(a.dynamicTypingFunction=h,h={}),a.dynamicTyping=h,a.transform=!!q(a.transform)&&a.transform,!a.worker||!o.WORKERS_SUPPORTED)return h=null,o.NODE_STREAM_INPUT,typeof u=="string"?(u=(p=>p.charCodeAt(0)!==65279?p:p.slice(1))(u),h=new(a.download?g:j)(a)):u.readable===!0&&q(u.read)&&q(u.on)?h=new w(a):(r.File&&u instanceof File||u instanceof Object)&&(h=new y(a)),h.stream(u);(h=(()=>{var p;return!!o.WORKERS_SUPPORTED&&(p=(()=>{var _=r.URL||r.webkitURL||null,C=n.toString();return o.BLOB_URL||(o.BLOB_URL=_.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",C,")();"],{type:"text/javascript"})))})(),(p=new r.Worker(p)).onmessage=re,p.id=c++,f[p.id]=p)})()).userStep=a.step,h.userChunk=a.chunk,h.userComplete=a.complete,h.userError=a.error,a.step=q(a.step),a.chunk=q(a.chunk),a.complete=q(a.complete),a.error=q(a.error),delete a.worker,h.postMessage({input:u,config:a,workerId:h.id})},o.unparse=function(u,a){var h=!1,p=!0,_=",",C=`\r
`,H='"',B=H+H,k=!1,E=null,O=!1,x=((()=>{if(typeof a=="object"){if(typeof a.delimiter!="string"||o.BAD_DELIMITERS.filter(function(T){return a.delimiter.indexOf(T)!==-1}).length||(_=a.delimiter),typeof a.quotes!="boolean"&&typeof a.quotes!="function"&&!Array.isArray(a.quotes)||(h=a.quotes),typeof a.skipEmptyLines!="boolean"&&typeof a.skipEmptyLines!="string"||(k=a.skipEmptyLines),typeof a.newline=="string"&&(C=a.newline),typeof a.quoteChar=="string"&&(H=a.quoteChar),typeof a.header=="boolean"&&(p=a.header),Array.isArray(a.columns)){if(a.columns.length===0)throw new Error("Option columns is empty");E=a.columns}a.escapeChar!==void 0&&(B=a.escapeChar+H),a.escapeFormulae instanceof RegExp?O=a.escapeFormulae:typeof a.escapeFormulae=="boolean"&&a.escapeFormulae&&(O=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(H),"g"));if(typeof u=="string"&&(u=JSON.parse(u)),Array.isArray(u)){if(!u.length||Array.isArray(u[0]))return F(null,u,k);if(typeof u[0]=="object")return F(E||Object.keys(u[0]),u,k)}else if(typeof u=="object")return typeof u.data=="string"&&(u.data=JSON.parse(u.data)),Array.isArray(u.data)&&(u.fields||(u.fields=u.meta&&u.meta.fields||E),u.fields||(u.fields=Array.isArray(u.data[0])?u.fields:typeof u.data[0]=="object"?Object.keys(u.data[0]):[]),Array.isArray(u.data[0])||typeof u.data[0]=="object"||(u.data=[u.data])),F(u.fields||[],u.data||[],k);throw new Error("Unable to serialize unrecognized input");function F(T,R,ie){var $="",M=(typeof T=="string"&&(T=JSON.parse(T)),typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(T)&&0<T.length),D=!Array.isArray(R[0]);if(M&&p){for(var b=0;b<T.length;b++)0<b&&($+=_),$+=N(T[b],b);0<R.length&&($+=C)}for(var I=0;I<R.length;I++){var ne=(M?T:R[I]).length,z=!1,se=M?Object.keys(R[I]).length===0:R[I].length===0;if(ie&&!M&&(z=ie==="greedy"?R[I].join("").trim()==="":R[I].length===1&&R[I][0].length===0),ie==="greedy"&&M){for(var oe=[],ae=0;ae<ne;ae++){var K=D?T[ae]:ae;oe.push(R[I][K])}z=oe.join("").trim()===""}if(!z){for(var V=0;V<ne;V++){0<V&&!se&&($+=_);var he=M&&D?T[V]:V;$+=N(R[I][he],V)}I<R.length-1&&(!ie||0<ne&&!se)&&($+=C)}}return $}function N(T,R){var ie,$;return T==null?"":T.constructor===Date?JSON.stringify(T).slice(1,25):($=!1,O&&typeof T=="string"&&O.test(T)&&(T="'"+T,$=!0),ie=T.toString().replace(x,B),($=$||h===!0||typeof h=="function"&&h(T,R)||Array.isArray(h)&&h[R]||((M,D)=>{for(var b=0;b<D.length;b++)if(-1<M.indexOf(D[b]))return!0;return!1})(ie,o.BAD_DELIMITERS)||-1<ie.indexOf(_)||ie.charAt(0)===" "||ie.charAt(ie.length-1)===" ")?H+ie+H:ie)}},o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\uFEFF",o.BAD_DELIMITERS=["\r",`
`,'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!s&&!!r.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=P,o.ParserHandle=m,o.NetworkStreamer=g,o.FileStreamer=y,o.StringStreamer=j,o.ReadableStreamStreamer=w,r.jQuery&&((i=r.jQuery).fn.parse=function(u){var a=u.config||{},h=[];return this.each(function(C){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var H=0;H<this.files.length;H++)h.push({file:this.files[H],inputElem:this,instanceConfig:i.extend({},a)})}),p(),this;function p(){if(h.length===0)q(u.complete)&&u.complete();else{var C,H,B,k,E=h[0];if(q(u.before)){var O=u.before(E.file,E.inputElem);if(typeof O=="object"){if(O.action==="abort")return C="AbortError",H=E.file,B=E.inputElem,k=O.reason,void(q(u.error)&&u.error({name:C},H,B,k));if(O.action==="skip")return void _();typeof O.config=="object"&&(E.instanceConfig=i.extend(E.instanceConfig,O.config))}else if(O==="skip")return void _()}var x=E.instanceConfig.complete;E.instanceConfig.complete=function(F){q(x)&&x(F,E.file,E.inputElem),_()},o.parse(E.file,E.instanceConfig)}}function _(){h.splice(0,1),p()}}),l&&(r.onmessage=function(u){u=u.data,o.WORKER_ID===void 0&&u&&(o.WORKER_ID=u.workerId),typeof u.input=="string"?r.postMessage({workerId:o.WORKER_ID,results:o.parse(u.input,u.config),finished:!0}):(r.File&&u.input instanceof File||u.input instanceof Object)&&(u=o.parse(u.input,u.config))&&r.postMessage({workerId:o.WORKER_ID,results:u,finished:!0})}),(g.prototype=Object.create(d.prototype)).constructor=g,(y.prototype=Object.create(d.prototype)).constructor=y,(j.prototype=Object.create(j.prototype)).constructor=j,(w.prototype=Object.create(d.prototype)).constructor=w,o})})(kn);const Qn=kn.exports;function st(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xn(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Mn(e){let t,n,r;e.length!==2?(t=st,n=(f,c)=>st(e(f),c),r=(f,c)=>e(f)-c):(t=e===st||e===Xn?e:Yn,n=e,r=e);function i(f,c,o=0,d=f.length){if(o<d){if(t(c,c)!==0)return d;do{const g=o+d>>>1;n(f[g],c)<0?o=g+1:d=g}while(o<d)}return o}function s(f,c,o=0,d=f.length){if(o<d){if(t(c,c)!==0)return d;do{const g=o+d>>>1;n(f[g],c)<=0?o=g+1:d=g}while(o<d)}return o}function l(f,c,o=0,d=f.length){const g=i(f,c,o,d-1);return g>o&&r(f[g-1],c)>-r(f[g],c)?g-1:g}return{left:i,center:l,right:s}}function Yn(){return 0}function Gn(e){return e===null?NaN:+e}const Jn=Mn(st),Zn=Jn.right;Mn(Gn).center;const $n=Zn;class Ut extends Map{constructor(t,n=nr){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Kt(this,t))}has(t){return super.has(Kt(this,t))}set(t,n){return super.set(er(this,t),n)}delete(t){return super.delete(tr(this,t))}}function Kt({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function er({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function tr({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function nr(e){return e!==null&&typeof e=="object"?e.valueOf():e}var St=Math.sqrt(50),Ct=Math.sqrt(10),Rt=Math.sqrt(2);function rr(e,t,n){var r,i=-1,s,l,f;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(s=e,e=t,t=s),(f=En(e,t,n))===0||!isFinite(f))return[];if(f>0){let c=Math.round(e/f),o=Math.round(t/f);for(c*f<e&&++c,o*f>t&&--o,l=new Array(s=o-c+1);++i<s;)l[i]=(c+i)*f}else{f=-f;let c=Math.round(e*f),o=Math.round(t*f);for(c/f<e&&++c,o/f>t&&--o,l=new Array(s=o-c+1);++i<s;)l[i]=(c+i)/f}return r&&l.reverse(),l}function En(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=St?10:s>=Ct?5:s>=Rt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=St?10:s>=Ct?5:s>=Rt?2:1)}function ir(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=St?i*=10:s>=Ct?i*=5:s>=Rt&&(i*=2),t<e?-i:i}function Qt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Xt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Sn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Yt=Symbol("implicit");function Cn(){var e=new Ut,t=[],n=[],r=Yt;function i(s){let l=e.get(s);if(l===void 0){if(r!==Yt)return r;e.set(s,l=t.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Ut;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Cn(t,n).unknown(r)},Sn.apply(i,arguments),i}function Tt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Rn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ge(){}var Qe=.7,ut=1/Qe,He="\\s*([+-]?\\d+)\\s*",Xe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ce="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sr=/^#([0-9a-f]{3,8})$/,ar=new RegExp(`^rgb\\(${He},${He},${He}\\)$`),or=new RegExp(`^rgb\\(${Ce},${Ce},${Ce}\\)$`),lr=new RegExp(`^rgba\\(${He},${He},${He},${Xe}\\)$`),ur=new RegExp(`^rgba\\(${Ce},${Ce},${Ce},${Xe}\\)$`),fr=new RegExp(`^hsl\\(${Xe},${Ce},${Ce}\\)$`),cr=new RegExp(`^hsla\\(${Xe},${Ce},${Ce},${Xe}\\)$`),Gt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Tt(Ge,Ye,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jt,formatHex:Jt,formatHex8:hr,formatHsl:dr,formatRgb:Zt,toString:Zt});function Jt(){return this.rgb().formatHex()}function hr(){return this.rgb().formatHex8()}function dr(){return An(this).formatHsl()}function Zt(){return this.rgb().formatRgb()}function Ye(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=sr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$t(t):n===3?new ye(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?$e(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?$e(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ar.exec(e))?new ye(t[1],t[2],t[3],1):(t=or.exec(e))?new ye(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=lr.exec(e))?$e(t[1],t[2],t[3],t[4]):(t=ur.exec(e))?$e(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fr.exec(e))?nn(t[1],t[2]/100,t[3]/100,1):(t=cr.exec(e))?nn(t[1],t[2]/100,t[3]/100,t[4]):Gt.hasOwnProperty(e)?$t(Gt[e]):e==="transparent"?new ye(NaN,NaN,NaN,0):null}function $t(e){return new ye(e>>16&255,e>>8&255,e&255,1)}function $e(e,t,n,r){return r<=0&&(e=t=n=NaN),new ye(e,t,n,r)}function pr(e){return e instanceof Ge||(e=Ye(e)),e?(e=e.rgb(),new ye(e.r,e.g,e.b,e.opacity)):new ye}function At(e,t,n,r){return arguments.length===1?pr(e):new ye(e,t,n,r==null?1:r)}function ye(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Tt(ye,At,Rn(Ge,{brighter(e){return e=e==null?ut:Math.pow(ut,e),new ye(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qe:Math.pow(Qe,e),new ye(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ye(Pe(this.r),Pe(this.g),Pe(this.b),ft(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:en,formatHex:en,formatHex8:gr,formatRgb:tn,toString:tn}));function en(){return`#${Le(this.r)}${Le(this.g)}${Le(this.b)}`}function gr(){return`#${Le(this.r)}${Le(this.g)}${Le(this.b)}${Le((isNaN(this.opacity)?1:this.opacity)*255)}`}function tn(){const e=ft(this.opacity);return`${e===1?"rgb(":"rgba("}${Pe(this.r)}, ${Pe(this.g)}, ${Pe(this.b)}${e===1?")":`, ${e})`}`}function ft(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Le(e){return e=Pe(e),(e<16?"0":"")+e.toString(16)}function nn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ke(e,t,n,r)}function An(e){if(e instanceof ke)return new ke(e.h,e.s,e.l,e.opacity);if(e instanceof Ge||(e=Ye(e)),!e)return new ke;if(e instanceof ke)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),l=NaN,f=s-i,c=(s+i)/2;return f?(t===s?l=(n-r)/f+(n<r)*6:n===s?l=(r-t)/f+2:l=(t-n)/f+4,f/=c<.5?s+i:2-s-i,l*=60):f=c>0&&c<1?0:l,new ke(l,f,c,e.opacity)}function mr(e,t,n,r){return arguments.length===1?An(e):new ke(e,t,n,r==null?1:r)}function ke(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Tt(ke,mr,Rn(Ge,{brighter(e){return e=e==null?ut:Math.pow(ut,e),new ke(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qe:Math.pow(Qe,e),new ke(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ye(wt(e>=240?e-240:e+120,i,r),wt(e,i,r),wt(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ke(rn(this.h),et(this.s),et(this.l),ft(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ft(this.opacity);return`${e===1?"hsl(":"hsla("}${rn(this.h)}, ${et(this.s)*100}%, ${et(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rn(e){return e=(e||0)%360,e<0?e+360:e}function et(e){return Math.max(0,Math.min(1,e||0))}function wt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Lt=e=>()=>e;function _r(e,t){return function(n){return e+n*t}}function br(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function yr(e){return(e=+e)==1?Nn:function(t,n){return n-t?br(t,n,e):Lt(isNaN(t)?n:t)}}function Nn(e,t){var n=t-e;return n?_r(e,n):Lt(isNaN(e)?t:e)}const sn=function e(t){var n=yr(t);function r(i,s){var l=n((i=At(i)).r,(s=At(s)).r),f=n(i.g,s.g),c=n(i.b,s.b),o=Nn(i.opacity,s.opacity);return function(d){return i.r=l(d),i.g=f(d),i.b=c(d),i.opacity=o(d),i+""}}return r.gamma=e,r}(1);function xr(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function wr(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vr(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=Pt(e[l],t[l]);for(;l<n;++l)s[l]=t[l];return function(f){for(l=0;l<r;++l)s[l]=i[l](f);return s}}function kr(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ct(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Mr(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Pt(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Nt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vt=new RegExp(Nt.source,"g");function Er(e){return function(){return e}}function Sr(e){return function(t){return e(t)+""}}function Cr(e,t){var n=Nt.lastIndex=vt.lastIndex=0,r,i,s,l=-1,f=[],c=[];for(e=e+"",t=t+"";(r=Nt.exec(e))&&(i=vt.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),f[l]?f[l]+=s:f[++l]=s),(r=r[0])===(i=i[0])?f[l]?f[l]+=i:f[++l]=i:(f[++l]=null,c.push({i:l,x:ct(r,i)})),n=vt.lastIndex;return n<t.length&&(s=t.slice(n),f[l]?f[l]+=s:f[++l]=s),f.length<2?c[0]?Sr(c[0].x):Er(t):(t=c.length,function(o){for(var d=0,g;d<t;++d)f[(g=c[d]).i]=g.x(o);return f.join("")})}function Pt(e,t){var n=typeof t,r;return t==null||n==="boolean"?Lt(t):(n==="number"?ct:n==="string"?(r=Ye(t))?(t=r,sn):Cr:t instanceof Ye?sn:t instanceof Date?kr:wr(t)?xr:Array.isArray(t)?vr:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Mr:ct)(e,t)}function Rr(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ar(e){return function(){return e}}function Nr(e){return+e}var an=[0,1];function ze(e){return e}function jt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ar(isNaN(t)?NaN:.5)}function jr(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Dr(e,t,n){var r=e[0],i=e[1],s=t[0],l=t[1];return i<r?(r=jt(i,r),s=n(l,s)):(r=jt(r,i),s=n(s,l)),function(f){return s(r(f))}}function Ir(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=jt(e[l],e[l+1]),s[l]=n(t[l],t[l+1]);return function(f){var c=$n(e,f,1,r)-1;return s[c](i[c](f))}}function Or(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tr(){var e=an,t=an,n=Pt,r,i,s,l=ze,f,c,o;function d(){var y=Math.min(e.length,t.length);return l!==ze&&(l=jr(e[0],e[y-1])),f=y>2?Ir:Dr,c=o=null,g}function g(y){return y==null||isNaN(y=+y)?s:(c||(c=f(e.map(r),t,n)))(r(l(y)))}return g.invert=function(y){return l(i((o||(o=f(t,e.map(r),ct)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,Nr),d()):e.slice()},g.range=function(y){return arguments.length?(t=Array.from(y),d()):t.slice()},g.rangeRound=function(y){return t=Array.from(y),n=Rr,d()},g.clamp=function(y){return arguments.length?(l=y?!0:ze,d()):l!==ze},g.interpolate=function(y){return arguments.length?(n=y,d()):n},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,j){return r=y,i=j,d()}}function Lr(){return Tr()(ze,ze)}function Pr(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ht(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function qe(e){return e=ht(Math.abs(e)),e?e[1]:NaN}function zr(e,t){return function(n,r){for(var i=n.length,s=[],l=0,f=e[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),s.push(n.substring(i-=f,i+f)),!((c+=f+1)>r));)f=e[l=(l+1)%e.length];return s.reverse().join(t)}}function Fr(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Hr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dt(e){if(!(t=Hr.exec(e)))throw new Error("invalid format: "+e);var t;return new zt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dt.prototype=zt.prototype;function zt(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}zt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qr(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var jn;function Vr(e,t){var n=ht(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(jn=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+ht(e,Math.max(0,t+s-1))[0]}function on(e,t){var n=ht(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ln={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Pr,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>on(e*100,t),r:on,s:Vr,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function un(e){return e}var fn=Array.prototype.map,cn=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Br(e){var t=e.grouping===void 0||e.thousands===void 0?un:zr(fn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?un:Fr(fn.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function o(g){g=dt(g);var y=g.fill,j=g.align,w=g.sign,m=g.symbol,v=g.zero,P=g.width,re=g.comma,te=g.precision,G=g.trim,J=g.type;J==="n"?(re=!0,J="g"):ln[J]||(te===void 0&&(te=12),G=!0,J="g"),(v||y==="0"&&j==="=")&&(v=!0,y="0",j="=");var U=m==="$"?n:m==="#"&&/[boxX]/.test(J)?"0"+J.toLowerCase():"",q=m==="$"?r:/[%p]/.test(J)?l:"",u=ln[J],a=/[defgprs%]/.test(J);te=te===void 0?6:/[gprs]/.test(J)?Math.max(1,Math.min(21,te)):Math.max(0,Math.min(20,te));function h(p){var _=U,C=q,H,B,k;if(J==="c")C=u(p)+C,p="";else{p=+p;var E=p<0||1/p<0;if(p=isNaN(p)?c:u(Math.abs(p),te),G&&(p=qr(p)),E&&+p==0&&w!=="+"&&(E=!1),_=(E?w==="("?w:f:w==="-"||w==="("?"":w)+_,C=(J==="s"?cn[8+jn/3]:"")+C+(E&&w==="("?")":""),a){for(H=-1,B=p.length;++H<B;)if(k=p.charCodeAt(H),48>k||k>57){C=(k===46?i+p.slice(H+1):p.slice(H))+C,p=p.slice(0,H);break}}}re&&!v&&(p=t(p,1/0));var O=_.length+p.length+C.length,x=O<P?new Array(P-O+1).join(y):"";switch(re&&v&&(p=t(x+p,x.length?P-C.length:1/0),x=""),j){case"<":p=_+p+C+x;break;case"=":p=_+x+p+C;break;case"^":p=x.slice(0,O=x.length>>1)+_+p+C+x.slice(O);break;default:p=x+_+p+C;break}return s(p)}return h.toString=function(){return g+""},h}function d(g,y){var j=o((g=dt(g),g.type="f",g)),w=Math.max(-8,Math.min(8,Math.floor(qe(y)/3)))*3,m=Math.pow(10,-w),v=cn[8+w/3];return function(P){return j(m*P)+v}}return{format:o,formatPrefix:d}}var tt,Dn,In;Wr({thousands:",",grouping:[3],currency:["$",""]});function Wr(e){return tt=Br(e),Dn=tt.format,In=tt.formatPrefix,tt}function Ur(e){return Math.max(0,-qe(Math.abs(e)))}function Kr(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qe(t)/3)))*3-qe(Math.abs(e)))}function Qr(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qe(t)-qe(e))+1}function Xr(e,t,n,r){var i=ir(e,t,n),s;switch(r=dt(r==null?",f":r),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=Kr(i,l))&&(r.precision=s),In(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Qr(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Ur(i))&&(r.precision=s-(r.type==="%")*2);break}}return Dn(r)}function Yr(e){var t=e.domain;return e.ticks=function(n){var r=t();return rr(r[0],r[r.length-1],n==null?10:n)},e.tickFormat=function(n,r){var i=t();return Xr(i[0],i[i.length-1],n==null?10:n,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,l=r[i],f=r[s],c,o,d=10;for(f<l&&(o=l,l=f,f=o,o=i,i=s,s=o);d-- >0;){if(o=En(l,f,n),o===c)return r[i]=l,r[s]=f,t(r);if(o>0)l=Math.floor(l/o)*o,f=Math.ceil(f/o)*o;else if(o<0)l=Math.ceil(l*o)/o,f=Math.floor(f*o)/o;else break;c=o}return e},e}function Dt(){var e=Lr();return e.copy=function(){return Or(e,Dt())},Sn.apply(e,arguments),Yr(e)}function Gr(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Jr=Gr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Zr(e){let t;return{c(){t=L("p"),t.textContent="Hover over a circle to see details here.",S(t,"class","svelte-60srhh")},m(n,r){ce(n,t,r)},p:Ee,d(n){n&&ue(t)}}}function $r(e){let t,n=e[0].title+"",r,i,s,l=e[0][e[1]]+"",f,c,o,d=e[0].date.toISOString().split("T")[0]+"",g,y,j,w=e[0].text+"",m;return{c(){t=L("h1"),r=Me(n),i=ee(),s=L("span"),f=Me(l),c=ee(),o=L("h2"),g=Me(d),y=ee(),j=L("p"),m=Me(w),S(t,"class","svelte-60srhh"),Se(s,"background",e[2](e[0][e[1]])),S(s,"class","svelte-60srhh"),S(o,"class","svelte-60srhh"),S(j,"class","svelte-60srhh")},m(v,P){ce(v,t,P),A(t,r),ce(v,i,P),ce(v,s,P),A(s,f),ce(v,c,P),ce(v,o,P),A(o,g),ce(v,y,P),ce(v,j,P),A(j,m)},p(v,P){P&1&&n!==(n=v[0].title+"")&&De(r,n),P&3&&l!==(l=v[0][v[1]]+"")&&De(f,l),P&7&&Se(s,"background",v[2](v[0][v[1]])),P&1&&d!==(d=v[0].date.toISOString().split("T")[0]+"")&&De(g,d),P&1&&w!==(w=v[0].text+"")&&De(m,w)},d(v){v&&ue(t),v&&ue(i),v&&ue(s),v&&ue(c),v&&ue(o),v&&ue(y),v&&ue(j)}}}function ei(e){let t;function n(s,l){return s[0]?$r:Zr}let r=n(e),i=r(e);return{c(){t=L("div"),i.c(),S(t,"class","detail-card svelte-60srhh")},m(s,l){ce(s,t,l),i.m(t,null)},p(s,[l]){r===(r=n(s))&&i?i.p(s,l):(i.d(1),i=r(s),i&&(i.c(),i.m(t,null)))},i:Ee,o:Ee,d(s){s&&ue(t),i.d()}}}function ti(e,t,n){let{hoveredData:r}=t,{domainColumn:i}=t,{data:s}=t,{colorScale:l}=t;return It(()=>{l.domain(s.map(f=>f[i]))}),e.$$set=f=>{"hoveredData"in f&&n(0,r=f.hoveredData),"domainColumn"in f&&n(1,i=f.domainColumn),"data"in f&&n(3,s=f.data),"colorScale"in f&&n(2,l=f.colorScale)},[r,i,l,s]}class ni extends bt{constructor(t){super(),_t(this,t,ti,ei,pt,{hoveredData:0,domainColumn:1,data:3,colorScale:2})}}function ri(e){let t,n,r,i,s,l,f;return i=new ni({props:{hoveredData:e[3],data:e[0],domainColumn:e[1],colorScale:e[4]}}),{c(){t=L("div"),n=L("canvas"),r=ee(),Ot(i.$$.fragment),S(n,"width",at),S(n,"height",ot),S(n,"class","svelte-14rtzz4"),S(t,"class","chart-container svelte-14rtzz4")},m(c,o){ce(c,t,o),A(t,n),e[14](n),A(t,r),gt(i,t,null),s=!0,l||(f=[fe(n,"mousemove",e[5]),fe(n,"mouseleave",e[6])],l=!0)},p(c,[o]){const d={};o&8&&(d.hoveredData=c[3]),o&1&&(d.data=c[0]),o&2&&(d.domainColumn=c[1]),i.$set(d)},i(c){s||(Fe(i.$$.fragment,c),s=!0)},o(c){Ue(i.$$.fragment,c),s=!1},d(c){c&&ue(t),e[14](null),mt(i),l=!1,Ae(f)}}}let at=800,ot=600;const kt=6;let nt=1;function ii(e,t,n){let r,i,s,l,{data:f=[]}=t,{domainColumn:c=""}=t,{opacity:o=1}=t,{selectedValues:d=new Set}=t,{searchQuery:g=""}=t,{showAnnotations:y=!0}=t,j=[{x:500,y:400,radius:30,label:"Border Belt Independent and North Carolina Coastal Federation have both published about GenX \u2014 an industrial chemical.",label_x:-400,label_y:-80},{x:720,y:170,radius:50,label:"Only Carolina Peacemaker seems to be publishing about personal health.",label_x:-100,label_y:130}],w,m;const v={top:20,right:20,bottom:20,left:20};let P=null,re=null,te={x:0,y:0};const G=Cn().domain([...new Set(f.map(a=>a[c]))]).range(Jr);function J(){m.clearRect(0,0,at,ot),m.save(),m.translate(te.x,te.y),m.scale(nt,nt),m.translate(-te.x,-te.y),f.forEach(a=>{const h=g&&a.title&&a.title.toLowerCase().includes(g.toLowerCase()),p=d.has(a[c]);m.beginPath(),m.arc(v.left+s(a.x),v.top+l(a.y),kt,0,Math.PI*2),n(11,m.fillStyle=G(a[c]),m),n(11,m.globalAlpha=h||p?1:o*.4,m),m.fill()}),y&&j.forEach(a=>{n(11,m.globalAlpha=1,m),m.beginPath(),m.arc(a.x,a.y,a.radius,0,Math.PI*2),n(11,m.strokeStyle="red",m),n(11,m.lineWidth=2,m),m.setLineDash([5,5]),m.stroke();const h=180,p=12;n(11,m.font="16px Arial",m);const _=a.x+a.label_x,C=a.y+a.label_y;let H=0,B=0,k=[];if(a.label){const M=a.label.split(" ");let D="";M.forEach((b,I)=>{const ne=D+b+" ";m.measureText(ne).width>h&&I>0?(k.push(D),H=Math.max(H,m.measureText(D).width),D=b+" "):D=ne}),k.push(D),H=Math.max(H,m.measureText(D).width),B=p*k.length}const E=_,O=C-p,x=H,F=B;let N,T;a.x<E?N=E:a.x>E+x?N=E+x:N=a.x,a.y<O?T=O:a.y>O+F?T=O+F:T=a.y;const R=Math.atan2(T-a.y,N-a.x),ie=a.x+a.radius*Math.cos(R),$=a.y+a.radius*Math.sin(R);if(m.setLineDash([]),m.beginPath(),m.moveTo(ie,$),m.lineTo(N,T),n(11,m.strokeStyle="red",m),n(11,m.lineWidth=1,m),m.stroke(),a.label){n(11,m.font="16px Arial",m),n(11,m.fillStyle="red",m);const M=16;k.forEach((D,b)=>{m.fillText(D,_,C+b*M)})}}),m.setLineDash([]),P&&(m.beginPath(),m.arc(v.left+s(P.x),v.top+l(P.y),kt,0,Math.PI*2),n(11,m.fillStyle=G(P[c]),m),n(11,m.globalAlpha=1,m),m.fill(),n(11,m.strokeStyle="black",m),n(11,m.lineWidth=2,m),m.stroke()),m.restore()}function U(a){const h=w.getBoundingClientRect(),p=at/h.width,_=ot/h.height,C=(a.clientX-h.left)*p-v.left,H=(a.clientY-h.top)*_-v.top,B=(C-te.x)/nt+te.x,k=(H-te.y)/nt+te.y,E=f.find(O=>{const x=s(O.x)-B,F=l(O.y)-k;return Math.sqrt(x*x+F*F)<kt+3});E?(n(3,P=E),re=E):n(3,P=re),J()}function q(){n(3,P=re),J()}It(()=>{n(11,m=w.getContext("2d")),J()});function u(a){Ie[a?"unshift":"push"](()=>{w=a,n(2,w)})}return e.$$set=a=>{"data"in a&&n(0,f=a.data),"domainColumn"in a&&n(1,c=a.domainColumn),"opacity"in a&&n(7,o=a.opacity),"selectedValues"in a&&n(8,d=a.selectedValues),"searchQuery"in a&&n(9,g=a.searchQuery),"showAnnotations"in a&&n(10,y=a.showAnnotations)},e.$$.update=()=>{e.$$.dirty&8193&&(s=Dt().domain([Xt(f,a=>a.x),Qt(f,a=>a.x)]).range([0,r])),e.$$.dirty&4097&&(l=Dt().domain([Xt(f,a=>a.y),Qt(f,a=>a.y)]).range([i,0])),e.$$.dirty&2049&&m&&f.length&&J(),e.$$.dirty&3971&&m&&f.length&&J()},n(13,r=at-v.left-v.right),n(12,i=ot-v.top-v.bottom),[f,c,w,P,G,U,q,o,d,g,y,m,i,r,u]}class si extends bt{constructor(t){super(),_t(this,t,ii,ri,pt,{data:0,domainColumn:1,opacity:7,selectedValues:8,searchQuery:9,showAnnotations:10})}}function ai(e){let t,n,r,i,s,l,f,c,o;return{c(){t=L("div"),n=L("div"),r=L("div"),i=ee(),s=L("div"),l=ee(),f=L("div"),S(r,"class","track-inner svelte-vytkle"),S(n,"class","track svelte-vytkle"),S(s,"class","thumb start-thumb svelte-vytkle"),Se(s,"left",e[4]+"%"),S(f,"class","thumb end-thumb svelte-vytkle"),Se(f,"left",e[3]+"%"),S(t,"class","range-slider svelte-vytkle"),Se(t,"--start-percent",e[4]+"%"),Se(t,"--end-percent",e[3]+"%")},m(d,g){ce(d,t,g),A(t,n),A(n,r),A(t,i),A(t,s),e[13](s),A(t,l),A(t,f),e[16](f),e[19](t),c||(o=[fe(r,"mousedown",e[11]),fe(r,"touchstart",e[12]),fe(s,"mousedown",e[14]),fe(s,"touchstart",e[15]),fe(f,"mousedown",e[17]),fe(f,"touchstart",e[18])],c=!0)},p(d,[g]){g&16&&Se(s,"left",d[4]+"%"),g&8&&Se(f,"left",d[3]+"%"),g&16&&Se(t,"--start-percent",d[4]+"%"),g&8&&Se(t,"--end-percent",d[3]+"%")},i:Ee,o:Ee,d(d){d&&ue(t),e[13](null),e[16](null),e[19](null),c=!1,Ae(o)}}}function oi(e,t,n){let r,i,{min:s=0}=t,{max:l=100}=t,{startValue:f}=t,{endValue:c}=t;const o=Fn();let d,g,y,j=!1,w=null,m=null,v=0;function P(k,E){j=!0,w=E,m=d.getBoundingClientRect(),E==="range"&&(v=c-f),window.addEventListener("mousemove",re),window.addEventListener("mouseup",te)}function re(k){if(!j)return;const E=Math.min(Math.max(0,(k.clientX-m.left)/m.width),1),O=Math.round(E*(l-s)+s);if(w==="start")n(7,f=Math.min(O,c)),o("startChange",f);else if(w==="end")n(8,c=Math.max(O,f)),o("endChange",c);else if(w==="range"){let x=O-Math.floor(v/2),F=O+Math.ceil(v/2);x<s&&(x=s,F=s+v),F>l&&(F=l,x=l-v),x=Math.max(s,x),F=Math.min(l,F),n(7,f=x),n(8,c=F),o("startChange",f),o("endChange",c)}}function te(){j=!1,window.removeEventListener("mousemove",re),window.removeEventListener("mouseup",te)}function G(k,E){k.preventDefault(),j=!0,w=E,m=d.getBoundingClientRect(),E==="range"&&(v=c-f),window.addEventListener("touchmove",J,{passive:!1}),window.addEventListener("touchend",U)}function J(k){if(k.preventDefault(),!j)return;const E=k.touches[0],O=Math.min(Math.max(0,(E.clientX-m.left)/m.width),1),x=Math.round(O*(l-s)+s);if(w==="start")n(7,f=Math.min(x,c)),o("startChange",f);else if(w==="end")n(8,c=Math.max(x,f)),o("endChange",c);else if(w==="range"){let F=x-Math.floor(v/2),N=x+Math.ceil(v/2);F<s&&(F=s,N=s+v),N>l&&(N=l,F=l-v),F=Math.max(s,F),N=Math.min(l,N),n(7,f=F),n(8,c=N),o("startChange",f),o("endChange",c)}}function U(){j=!1,window.removeEventListener("touchmove",J),window.removeEventListener("touchend",U)}const q=k=>P(k,"range"),u=k=>G(k,"range");function a(k){Ie[k?"unshift":"push"](()=>{g=k,n(1,g)})}const h=k=>P(k,"start"),p=k=>G(k,"start");function _(k){Ie[k?"unshift":"push"](()=>{y=k,n(2,y)})}const C=k=>P(k,"end"),H=k=>G(k,"end");function B(k){Ie[k?"unshift":"push"](()=>{d=k,n(0,d)})}return e.$$set=k=>{"min"in k&&n(9,s=k.min),"max"in k&&n(10,l=k.max),"startValue"in k&&n(7,f=k.startValue),"endValue"in k&&n(8,c=k.endValue)},e.$$.update=()=>{e.$$.dirty&1664&&n(4,r=l>s?(f-s)/(l-s)*100:0),e.$$.dirty&1792&&n(3,i=l>s?(c-s)/(l-s)*100:100)},[d,g,y,i,r,P,G,f,c,s,l,q,u,a,h,p,_,C,H,B]}class li extends bt{constructor(t){super(),_t(this,t,oi,ai,pt,{min:9,max:10,startValue:7,endValue:8})}}function hn(e,t,n){const r=e.slice();return r[41]=t[n],r}function dn(e,t,n){const r=e.slice();return r[44]=t[n],r}function pn(e){let t,n,r,i,s,l,f=e[5],c=[];for(let o=0;o<f.length;o+=1)c[o]=gn(dn(e,f,o));return{c(){t=L("label"),t.textContent="\u{1F3A8} Color by Column:",n=ee(),r=L("select"),i=L("option"),i.textContent="Select column";for(let o=0;o<c.length;o+=1)c[o].c();S(t,"for","domain-column"),S(t,"class","svelte-bcjotp"),i.__value="",i.value=i.__value,i.disabled=!0,S(r,"id","domain-column"),S(r,"class","svelte-bcjotp"),e[6]===void 0&&lt(()=>e[23].call(r))},m(o,d){ce(o,t,d),ce(o,n,d),ce(o,r,d),A(r,i);for(let g=0;g<c.length;g+=1)c[g].m(r,null);Vt(r,e[6]),s||(l=[fe(r,"change",e[14]),fe(r,"change",e[23])],s=!0)},p(o,d){if(d[0]&32){f=o[5];let g;for(g=0;g<f.length;g+=1){const y=dn(o,f,g);c[g]?c[g].p(y,d):(c[g]=gn(y),c[g].c(),c[g].m(r,null))}for(;g<c.length;g+=1)c[g].d(1);c.length=f.length}d[0]&96&&Vt(r,o[6])},d(o){o&&ue(t),o&&ue(n),o&&ue(r),xn(c,o),s=!1,Ae(l)}}}function gn(e){let t,n=e[44]+"",r,i;return{c(){t=L("option"),r=Me(n),t.__value=i=e[44],t.value=t.__value},m(s,l){ce(s,t,l),A(t,r)},p(s,l){l[0]&32&&n!==(n=s[44]+"")&&De(r,n),l[0]&32&&i!==(i=s[44])&&(t.__value=i,t.value=t.__value)},d(s){s&&ue(t)}}}function mn(e){let t,n,r,i,s,l=e[7],f=[];for(let c=0;c<l.length;c+=1)f[c]=_n(hn(e,l,c));return{c(){t=L("label"),t.textContent="\u2728 Highlight Values:",n=ee(),r=L("select");for(let c=0;c<f.length;c+=1)f[c].c();S(t,"for","value-select"),S(t,"class","svelte-bcjotp"),S(r,"id","value-select"),r.multiple=!0,S(r,"size","5"),S(r,"class","multi-select svelte-bcjotp")},m(c,o){ce(c,t,o),ce(c,n,o),ce(c,r,o);for(let d=0;d<f.length;d+=1)f[d].m(r,null);i||(s=fe(r,"change",e[15]),i=!0)},p(c,o){if(o[0]&128){l=c[7];let d;for(d=0;d<l.length;d+=1){const g=hn(c,l,d);f[d]?f[d].p(g,o):(f[d]=_n(g),f[d].c(),f[d].m(r,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=l.length}},d(c){c&&ue(t),c&&ue(n),c&&ue(r),xn(f,c),i=!1,s()}}}function _n(e){let t,n=e[41]+"",r,i;return{c(){t=L("option"),r=Me(n),t.__value=i=e[41],t.value=t.__value},m(s,l){ce(s,t,l),A(t,r)},p(s,l){l[0]&128&&n!==(n=s[41]+"")&&De(r,n),l[0]&128&&i!==(i=s[41])&&(t.__value=i,t.value=t.__value)},d(s){s&&ue(t)}}}function ui(e){let t;return{c(){t=Me("\u25B6")},m(n,r){ce(n,t,r)},d(n){n&&ue(t)}}}function fi(e){let t;return{c(){t=Me("\u275A\u275A")},m(n,r){ce(n,t,r)},d(n){n&&ue(t)}}}function ci(e){let t;return{c(){t=L("p"),t.textContent="Loading data..."},m(n,r){ce(n,t,r)},p:Ee,i:Ee,o:Ee,d(n){n&&ue(t)}}}function hi(e){let t,n;return t=new si({props:{data:e[10],domainColumn:e[6],selectedValues:e[8],opacity:e[9],searchQuery:e[12],showAnnotations:e[13]}}),{c(){Ot(t.$$.fragment)},m(r,i){gt(t,r,i),n=!0},p(r,i){const s={};i[0]&1024&&(s.data=r[10]),i[0]&64&&(s.domainColumn=r[6]),i[0]&256&&(s.selectedValues=r[8]),i[0]&512&&(s.opacity=r[9]),i[0]&4096&&(s.searchQuery=r[12]),i[0]&8192&&(s.showAnnotations=r[13]),t.$set(s)},i(r){n||(Fe(t.$$.fragment,r),n=!0)},o(r){Ue(t.$$.fragment,r),n=!1},d(r){mt(t,r)}}}function di(e){let t,n,r,i,s,l,f,c,o,d,g,y,j,w,m,v,P,re,te,G,J,U,q,u,a,h,p,_,C,H,B,k,E,O,x,F,N=je(e[0])+"",T,R,ie,$=je(e[1])+"",M,D,b,I,ne,z,se,oe,ae,K,V,he,Q,Z,Y,me,de,Re,pe,le=e[5].length&&pn(e),X=e[7].length&&mn(e);function _e(W){e[27](W)}function xe(W){e[28](W)}let Oe={min:0,max:e[2].length-1};e[3]!==void 0&&(Oe.startValue=e[3]),e[4]!==void 0&&(Oe.endValue=e[4]),B=new li({props:Oe}),Ie.push(()=>Wt(B,"startValue",_e)),Ie.push(()=>Wt(B,"endValue",xe)),B.$on("startChange",e[29]),B.$on("endChange",e[30]);function Ve(W,be){return W[11]?fi:ui}let we=Ve(e),ge=we(e);const Ne=[hi,ci],ve=[];function Ft(W,be){return W[10].length?0:1}return Y=Ft(e),me=ve[Y]=Ne[Y](e),{c(){t=L("div"),n=L("div"),n.innerHTML=`<h1 class="title svelte-bcjotp">North Carolina Semantic Map [DEMO]</h1> 
    <p class="subtitle svelte-bcjotp">This semantic map contains data from three organizations in North Carolina. <a href="https://peacemakeronline.com/">Carolina Peacemaker</a> and <a href="https://borderbelt.org">Border Belt</a> are local news organizations and <a href="https://www.nccoast.org/about-us/">NC Coastal Federation</a> is a nonprofit focused on coastal restoration.</p>`,r=ee(),i=L("div"),s=L("div"),l=L("div"),l.innerHTML=`<details open=""><summary class="svelte-bcjotp">\u2795 What is a Semantic Map?</summary> 
          <div class="nerd-box-content svelte-bcjotp"><p class="svelte-bcjotp">Semantic maps are tools that allow users to visually explore how different topics and ideas are connected. 
              By analyzing the relationships between articles, these maps can reveal patterns and clusters in the data.</p> 
            <p class="svelte-bcjotp">Each dot in this semantic map represents an article. When the dots are closer together, the articles are similar in meaning.</p> 
            <p class="svelte-bcjotp">Newsrooms can use semantic maps to:</p> 
            <ul class="svelte-bcjotp"><li class="svelte-bcjotp">Audit their coverage by identifying themes that may be underrepresented or overlooked.</li> 
              <li class="svelte-bcjotp">Track how their editorial focus evolves over time.</li> 
              <li class="svelte-bcjotp">Discover which topics are being covered by other outlets, offering opportunities to adjust their editorial focus or collaborate.</li></ul></div></details>`,f=ee(),c=L("label"),c.textContent="\u{1F4C1} Upload CSV:",o=ee(),d=L("input"),g=ee(),y=L("label"),y.textContent="\u{1F50D} Search Title:",j=ee(),w=L("input"),m=ee(),le&&le.c(),v=ee(),X&&X.c(),P=ee(),re=L("label"),re.textContent="\u{1F4A1} Adjust Opacity:",te=ee(),G=L("input"),J=ee(),U=L("div"),q=L("label"),q.textContent="\u{1F4C5} Date Range:",u=ee(),a=L("input"),p=ee(),_=L("input"),H=ee(),Ot(B.$$.fragment),O=ee(),x=L("div"),F=L("span"),T=Me(N),R=ee(),ie=L("span"),M=Me($),D=ee(),b=L("div"),I=L("button"),I.textContent="-1W",ne=ee(),z=L("button"),z.textContent="-1D",se=ee(),oe=L("button"),ge.c(),ae=ee(),K=L("button"),K.textContent="+1D",V=ee(),he=L("button"),he.textContent="+1W",Q=ee(),Z=L("div"),me.c(),S(n,"class","title-section svelte-bcjotp"),S(l,"class","nerd-box svelte-bcjotp"),S(c,"for","file-upload"),S(c,"class","svelte-bcjotp"),S(d,"id","file-upload"),S(d,"type","file"),S(d,"accept",".csv"),S(d,"class","svelte-bcjotp"),S(y,"for","search-input"),S(y,"class","svelte-bcjotp"),S(w,"id","search-input"),S(w,"type","text"),S(w,"placeholder","Search..."),S(w,"class","svelte-bcjotp"),S(re,"for","opacity-slider"),S(re,"class","svelte-bcjotp"),S(G,"id","opacity-slider"),S(G,"type","range"),S(G,"min","0.01"),S(G,"max","1"),S(G,"step","0.1"),S(G,"class","svelte-bcjotp"),S(q,"for","start-date"),S(q,"class","svelte-bcjotp"),S(a,"id","start-date"),S(a,"type","date"),a.value=h=je(e[0]),S(a,"class","svelte-bcjotp"),S(_,"id","end-date"),S(_,"type","date"),_.value=C=je(e[1]),S(_,"class","svelte-bcjotp"),S(x,"class","date-range-labels svelte-bcjotp"),S(I,"class","svelte-bcjotp"),S(z,"class","svelte-bcjotp"),S(oe,"class","play-button svelte-bcjotp"),S(K,"class","svelte-bcjotp"),S(he,"class","svelte-bcjotp"),S(b,"class","date-navigation svelte-bcjotp"),S(U,"class","date-controls svelte-bcjotp"),S(s,"class","filter-panel svelte-bcjotp"),S(Z,"class","scatterplot-container svelte-bcjotp"),S(i,"class","content svelte-bcjotp"),S(t,"class","container svelte-bcjotp")},m(W,be){ce(W,t,be),A(t,n),A(t,r),A(t,i),A(i,s),A(s,l),A(s,f),A(s,c),A(s,o),A(s,d),A(s,g),A(s,y),A(s,j),A(s,w),A(s,m),le&&le.m(s,null),A(s,v),X&&X.m(s,null),A(s,P),A(s,re),A(s,te),A(s,G),qt(G,e[9]),A(s,J),A(s,U),A(U,q),A(U,u),A(U,a),A(U,p),A(U,_),A(U,H),gt(B,U,null),A(U,O),A(U,x),A(x,F),A(F,T),A(x,R),A(x,ie),A(ie,M),A(U,D),A(U,b),A(b,I),A(b,ne),A(b,z),A(b,se),A(b,oe),ge.m(oe,null),A(b,ae),A(b,K),A(b,V),A(b,he),A(i,Q),A(i,Z),ve[Y].m(Z,null),de=!0,Re||(pe=[fe(d,"change",e[17]),fe(w,"input",e[20]),fe(G,"change",e[24]),fe(G,"input",e[24]),fe(G,"input",e[21]),fe(a,"change",e[25]),fe(_,"change",e[26]),fe(I,"click",e[31]),fe(z,"click",e[32]),fe(oe,"click",e[19]),fe(K,"click",e[33]),fe(he,"click",e[34])],Re=!0)},p(W,be){W[5].length?le?le.p(W,be):(le=pn(W),le.c(),le.m(s,v)):le&&(le.d(1),le=null),W[7].length?X?X.p(W,be):(X=mn(W),X.c(),X.m(s,P)):X&&(X.d(1),X=null),be[0]&512&&qt(G,W[9]),(!de||be[0]&1&&h!==(h=je(W[0])))&&(a.value=h),(!de||be[0]&2&&C!==(C=je(W[1])))&&(_.value=C);const Je={};be[0]&4&&(Je.max=W[2].length-1),!k&&be[0]&8&&(k=!0,Je.startValue=W[3],Bt(()=>k=!1)),!E&&be[0]&16&&(E=!0,Je.endValue=W[4],Bt(()=>E=!1)),B.$set(Je),(!de||be[0]&1)&&N!==(N=je(W[0])+"")&&De(T,N),(!de||be[0]&2)&&$!==($=je(W[1])+"")&&De(M,$),we!==(we=Ve(W))&&(ge.d(1),ge=we(W),ge&&(ge.c(),ge.m(oe,null)));let yt=Y;Y=Ft(W),Y===yt?ve[Y].p(W,be):(Bn(),Ue(ve[yt],1,1,()=>{ve[yt]=null}),Wn(),me=ve[Y],me?me.p(W,be):(me=ve[Y]=Ne[Y](W),me.c()),Fe(me,1),me.m(Z,null))},i(W){de||(Fe(B.$$.fragment,W),Fe(me),de=!0)},o(W){Ue(B.$$.fragment,W),Ue(me),de=!1},d(W){W&&ue(t),le&&le.d(),X&&X.d(),mt(B),ge.d(),ve[Y].d(),Re=!1,Ae(pe)}}}function je(e){return e?e.toISOString().split("T")[0]:""}function pi(e,t,n){let r=[],i=[],s="org",l=[],f=new Set,c=.5,o=null,d=null,g=[],y=[],j=0,w=0,m=!1,v=null,P="",re=!0;It(async()=>{const D=await(await fetch("/semantic-maps/data.csv")).text();return te(D),()=>{v&&clearInterval(v)}});function te(M){const D=Qn.parse(M,{header:!0});n(22,r=D.data.filter(b=>b.x&&b.y&&b.date).map(b=>({...b,x:+b.x,y:+b.y,date:new Date(b.date)}))),n(5,i=D.meta.fields||[]),n(2,y=[...new Set(r.map(b=>b.date.getTime()))].sort((b,I)=>b-I).map(b=>new Date(b))),n(0,o=y[0]),n(1,d=y[y.length-1]),n(3,j=0),n(4,w=y.length-1),s&&n(7,l=[...new Set(r.map(b=>b[s]).filter(Boolean))])}function G(M){n(6,s=M.target.value),n(7,l=s?[...new Set(r.map(D=>D[s]).filter(Boolean))]:[]),n(8,f=new Set),n(13,re=!1)}function J(M){n(8,f=new Set([...M.target.selectedOptions].map(D=>D.value))),n(13,re=!1)}function U(M,D,b=!1){b?(n(0,o=y[M]||y[0]),n(1,d=y[D]||y[y.length-1])):(n(0,o=M),n(1,d=D)),n(13,re=!1)}function q(){if(o){const M=o.getTime();n(3,j=Math.max(0,y.findIndex(D=>D.getTime()>=M)))}else n(3,j=0);if(d){const M=d.getTime(),D=y.findIndex(b=>b.getTime()>=M);n(4,w=D>=0?D:y.length>0?y.length-1:0)}else n(4,w=y.length-1);j>w&&n(3,j=w),w<j&&n(4,w=j)}function u(M,D){if(M.detail!==void 0)D==="start"?(n(3,j=M.detail),j>w&&n(3,j=w)):(n(4,w=M.detail),w<j&&n(4,w=j)),U(j,w,!0);else{const b=M.target.value?new Date(M.target.value):null;D==="start"?U(b,d):U(o,b),q()}}function a(M){const D=M.target.files[0];if(D){const b=new FileReader;n(13,re=!1),b.onload=I=>te(I.target.result),b.readAsText(D)}}function h(M){const D=w-j;let b=j+M,I=w+M;b<0&&(b=0,I=D),I>=y.length&&(I=y.length-1,b=Math.max(0,I-D)),n(3,j=b),n(4,w=I),U(j,w,!0)}function p(){m?(clearInterval(v),n(11,m=!1)):(n(11,m=!0),n(13,re=!1),v=setInterval(()=>{if(w>=y.length-1){clearInterval(v),n(11,m=!1);return}h(1)},500))}function _(M){n(12,P=M.target.value),n(13,re=!1)}function C(){n(13,re=!1)}function H(){s=Pn(this),n(6,s),n(5,i)}function B(){c=Tn(this.value),n(9,c)}const k=M=>u(M,"start"),E=M=>u(M,"end");function O(M){j=M,n(3,j)}function x(M){w=M,n(4,w)}const F=M=>u(M,"start"),N=M=>u(M,"end"),T=()=>h(-7),R=()=>h(-1),ie=()=>h(1),$=()=>h(7);return e.$$.update=()=>{e.$$.dirty[0]&4194307&&n(10,g=r.filter(M=>(!o||M.date>=o)&&(!d||M.date<=d))),e.$$.dirty[0]&12&&y.length>1&&j/(y.length-1)*100,e.$$.dirty[0]&20&&y.length>1&&w/(y.length-1)*100},[o,d,y,j,w,i,s,l,f,c,g,m,P,re,G,J,u,a,h,p,_,C,r,H,B,k,E,O,x,F,N,T,R,ie,$]}class gi extends bt{constructor(t){super(),_t(this,t,pi,di,pt,{},null,[-1,-1])}}new gi({target:document.getElementById("app")});
