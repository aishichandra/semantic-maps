(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Re(){}function gn(e){return e()}function Ft(){return Object.create(null)}function De(e){e.forEach(gn)}function mn(e){return typeof e=="function"}function Rt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function On(e){return Object.keys(e).length===0}function M(e,t){e.appendChild(t)}function ce(e,t,n){e.insertBefore(t,n||null)}function ue(e){e.parentNode.removeChild(e)}function _n(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function T(e){return document.createElement(e)}function Se(e){return document.createTextNode(e)}function ne(){return Se(" ")}function le(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function S(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function pt(e){return e===""?null:+e}function Dn(e){return Array.from(e.childNodes)}function Oe(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Pe(e,t){e.value=t==null?"":t}function je(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Ht(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t){r.selected=!0;return}}e.selectedIndex=-1}function In(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let Ue;function We(e){Ue=e}function Tn(){if(!Ue)throw new Error("Function called outside component initialization");return Ue}function At(e){Tn().$$.on_mount.push(e)}const Be=[],bt=[],tt=[],qt=[],Ln=Promise.resolve();let xt=!1;function Pn(){xt||(xt=!0,Ln.then(yn))}function at(e){tt.push(e)}const gt=new Set;let Ge=0;function yn(){const e=Ue;do{for(;Ge<Be.length;){const t=Be[Ge];Ge++,We(t),jn(t.$$)}for(We(null),Be.length=0,Ge=0;bt.length;)bt.pop()();for(let t=0;t<tt.length;t+=1){const n=tt[t];gt.has(n)||(gt.add(n),n())}tt.length=0}while(Be.length);for(;qt.length;)qt.pop()();xt=!1,gt.clear(),We(e)}function jn(e){if(e.fragment!==null){e.update(),De(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(at)}}const nt=new Set;let Ie;function zn(){Ie={r:0,c:[],p:Ie}}function Fn(){Ie.r||De(Ie.c),Ie=Ie.p}function Ke(e,t){e&&e.i&&(nt.delete(e),e.i(t))}function ot(e,t,n,r){if(e&&e.o){if(nt.has(e))return;nt.add(e),Ie.c.push(()=>{nt.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function bn(e){e&&e.c()}function Nt(e,t,n,r){const{fragment:i,after_update:a}=e.$$;i&&i.m(t,n),r||at(()=>{const u=e.$$.on_mount.map(gn).filter(mn);e.$$.on_destroy?e.$$.on_destroy.push(...u):De(u),e.$$.on_mount=[]}),a.forEach(at)}function Ot(e,t){const n=e.$$;n.fragment!==null&&(De(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Hn(e,t){e.$$.dirty[0]===-1&&(Be.push(e),Pn(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Dt(e,t,n,r,i,a,u,f=[-1]){const c=Ue;We(e);const l=e.$$={fragment:null,ctx:[],props:a,update:Re,not_equal:i,bound:Ft(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Ft(),dirty:f,skip_bound:!1,root:t.target||c.$$.root};u&&u(l.root);let g=!1;if(l.ctx=n?n(e,t.props||{},(p,k,...Q)=>{const E=Q.length?Q[0]:k;return l.ctx&&i(l.ctx[p],l.ctx[p]=E)&&(!l.skip_bound&&l.bound[p]&&l.bound[p](E),g&&Hn(e,p)),k}):[],l.update(),g=!0,De(l.before_update),l.fragment=r?r(l.ctx):!1,t.target){if(t.hydrate){const p=Dn(t.target);l.fragment&&l.fragment.l(p),p.forEach(ue)}else l.fragment&&l.fragment.c();t.intro&&Ke(e.$$.fragment),Nt(e,t.target,t.anchor,t.customElement),yn()}We(c)}class It{$destroy(){Ot(this,1),this.$destroy=Re}$on(t,n){if(!mn(n))return Re;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!On(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var qn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xn={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(qn,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,a=!r.document&&!!r.postMessage,u=r.IS_PAPA_WORKER||!1,f={},c=0,l={};function g(o){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(s){var h=J(s);h.chunkSize=parseInt(h.chunkSize),s.step||s.chunk||(h.chunkSize=null),this._handle=new m(h),(this._handle.streamer=this)._config=h}.call(this,o),this.parseChunk=function(s,h){var d=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<d){let v=this._config.newline;v||(_=this._config.quoteChar||'"',v=this._handle.guessLineEndings(s,_)),s=[...s.split(v).slice(d)].join(v)}this.isFirstChunk&&H(this._config.beforeFirstChunk)&&(_=this._config.beforeFirstChunk(s))!==void 0&&(s=_),this.isFirstChunk=!1,this._halted=!1;var d=this._partialLine+s,_=(this._partialLine="",this._handle.parse(d,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(s=_.meta.cursor,d=(this._finished||(this._partialLine=d.substring(s-this._baseIndex),this._baseIndex=s),_&&_.data&&(this._rowCount+=_.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),u)r.postMessage({results:_,workerId:l.WORKER_ID,finished:d});else if(H(this._config.chunk)&&!h){if(this._config.chunk(_,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=_=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(_.data),this._completeResults.errors=this._completeResults.errors.concat(_.errors),this._completeResults.meta=_.meta),this._completed||!d||!H(this._config.complete)||_&&_.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),d||_&&_.meta.paused||this._nextChunk(),_}this._halted=!0},this._sendError=function(s){H(this._config.error)?this._config.error(s):u&&this._config.error&&r.postMessage({workerId:l.WORKER_ID,error:s,finished:!1})}}function p(o){var s;(o=o||{}).chunkSize||(o.chunkSize=l.RemoteChunkSize),g.call(this,o),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(h){this._input=h,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(s=new XMLHttpRequest,this._config.withCredentials&&(s.withCredentials=this._config.withCredentials),a||(s.onload=Y(this._chunkLoaded,this),s.onerror=Y(this._chunkError,this)),s.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var h,d=this._config.downloadRequestHeaders;for(h in d)s.setRequestHeader(h,d[h])}var _;this._config.chunkSize&&(_=this._start+this._config.chunkSize-1,s.setRequestHeader("Range","bytes="+this._start+"-"+_));try{s.send(this._config.downloadRequestBody)}catch(v){this._chunkError(v.message)}a&&s.status===0&&this._chunkError()}},this._chunkLoaded=function(){s.readyState===4&&(s.status<200||400<=s.status?this._chunkError():(this._start+=this._config.chunkSize||s.responseText.length,this._finished=!this._config.chunkSize||this._start>=(h=>(h=h.getResponseHeader("Content-Range"))!==null?parseInt(h.substring(h.lastIndexOf("/")+1)):-1)(s),this.parseChunk(s.responseText)))},this._chunkError=function(h){h=s.statusText||h,this._sendError(new Error(h))}}function k(o){(o=o||{}).chunkSize||(o.chunkSize=l.LocalChunkSize),g.call(this,o);var s,h,d=typeof FileReader<"u";this.stream=function(_){this._input=_,h=_.slice||_.webkitSlice||_.mozSlice,d?((s=new FileReader).onload=Y(this._chunkLoaded,this),s.onerror=Y(this._chunkError,this)):s=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var _=this._input,v=(this._config.chunkSize&&(v=Math.min(this._start+this._config.chunkSize,this._input.size),_=h.call(_,this._start,v)),s.readAsText(_,this._config.encoding));d||this._chunkLoaded({target:{result:v}})},this._chunkLoaded=function(_){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(_.target.result)},this._chunkError=function(){this._sendError(s.error)}}function Q(o){var s;g.call(this,o=o||{}),this.stream=function(h){return s=h,this._nextChunk()},this._nextChunk=function(){var h,d;if(!this._finished)return h=this._config.chunkSize,s=h?(d=s.substring(0,h),s.substring(h)):(d=s,""),this._finished=!s,this.parseChunk(d)}}function E(o){g.call(this,o=o||{});var s=[],h=!0,d=!1;this.pause=function(){g.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){g.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(_){this._input=_,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){d&&s.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),s.length?this.parseChunk(s.shift()):h=!0},this._streamData=Y(function(_){try{s.push(typeof _=="string"?_:_.toString(this._config.encoding)),h&&(h=!1,this._checkIsFinished(),this.parseChunk(s.shift()))}catch(v){this._streamError(v)}},this),this._streamError=Y(function(_){this._streamCleanUp(),this._sendError(_)},this),this._streamEnd=Y(function(){this._streamCleanUp(),d=!0,this._streamData("")},this),this._streamCleanUp=Y(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(o){var s,h,d,_,v=Math.pow(2,53),z=-v,W=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,F=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,C=this,j=0,y=0,G=!1,R=!1,A=[],w={data:[],errors:[],meta:{}};function Z(b){return o.skipEmptyLines==="greedy"?b.join("").trim()==="":b.length===1&&b[0].length===0}function $(){if(w&&d&&(L("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),d=!1),o.skipEmptyLines&&(w.data=w.data.filter(function(V){return!Z(V)})),O()){let V=function(he,X){H(o.transformHeader)&&(he=o.transformHeader(he,X)),A.push(he)};var N=V;if(w)if(Array.isArray(w.data[0])){for(var b=0;O()&&b<w.data.length;b++)w.data[b].forEach(V);w.data.splice(0,1)}else w.data.forEach(V)}function D(V,he){for(var X=o.header?{}:[],K=0;K<V.length;K++){var I=K,pe=V[K],pe=((q,re)=>(se=>(o.dynamicTypingFunction&&o.dynamicTyping[se]===void 0&&(o.dynamicTyping[se]=o.dynamicTypingFunction(se)),(o.dynamicTyping[se]||o.dynamicTyping)===!0))(q)?re==="true"||re==="TRUE"||re!=="false"&&re!=="FALSE"&&((se=>{if(W.test(se)&&(se=parseFloat(se),z<se&&se<v))return 1})(re)?parseFloat(re):F.test(re)?new Date(re):re===""?null:re):re)(I=o.header?K>=A.length?"__parsed_extra":A[K]:I,pe=o.transform?o.transform(pe,I):pe);I==="__parsed_extra"?(X[I]=X[I]||[],X[I].push(pe)):X[I]=pe}return o.header&&(K>A.length?L("FieldMismatch","TooManyFields","Too many fields: expected "+A.length+" fields but parsed "+K,y+he):K<A.length&&L("FieldMismatch","TooFewFields","Too few fields: expected "+A.length+" fields but parsed "+K,y+he)),X}var ee;w&&(o.header||o.dynamicTyping||o.transform)&&(ee=1,!w.data.length||Array.isArray(w.data[0])?(w.data=w.data.map(D),ee=w.data.length):w.data=D(w.data,0),o.header&&w.meta&&(w.meta.fields=A),y+=ee)}function O(){return o.header&&A.length===0}function L(b,D,ee,N){b={type:b,code:D,message:ee},N!==void 0&&(b.row=N),w.errors.push(b)}H(o.step)&&(_=o.step,o.step=function(b){w=b,O()?$():($(),w.data.length!==0&&(j+=b.data.length,o.preview&&j>o.preview?h.abort():(w.data=w.data[0],_(w,C))))}),this.parse=function(b,D,ee){var N=o.quoteChar||'"',N=(o.newline||(o.newline=this.guessLineEndings(b,N)),d=!1,o.delimiter?H(o.delimiter)&&(o.delimiter=o.delimiter(b),w.meta.delimiter=o.delimiter):((N=((V,he,X,K,I)=>{var pe,q,re,se;I=I||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var Ce=0;Ce<I.length;Ce++){for(var xe,_e=I[Ce],te=0,oe=0,fe=0,be=(re=void 0,new P({comments:K,delimiter:_e,newline:he,preview:10}).parse(V)),ae=0;ae<be.data.length;ae++)X&&Z(be.data[ae])?fe++:(xe=be.data[ae].length,oe+=xe,re===void 0?re=xe:0<xe&&(te+=Math.abs(xe-re),re=xe));0<be.data.length&&(oe/=be.data.length-fe),(q===void 0||te<=q)&&(se===void 0||se<oe)&&1.99<oe&&(q=te,pe=_e,se=oe)}return{successful:!!(o.delimiter=pe),bestDelimiter:pe}})(b,o.newline,o.skipEmptyLines,o.comments,o.delimitersToGuess)).successful?o.delimiter=N.bestDelimiter:(d=!0,o.delimiter=l.DefaultDelimiter),w.meta.delimiter=o.delimiter),J(o));return o.preview&&o.header&&N.preview++,s=b,h=new P(N),w=h.parse(s,D,ee),$(),G?{meta:{paused:!0}}:w||{meta:{paused:!1}}},this.paused=function(){return G},this.pause=function(){G=!0,h.abort(),s=H(o.chunk)?"":s.substring(h.getCharIndex())},this.resume=function(){C.streamer._halted?(G=!1,C.streamer.parseChunk(s,!0)):setTimeout(C.resume,3)},this.aborted=function(){return R},this.abort=function(){R=!0,h.abort(),w.meta.aborted=!0,H(o.complete)&&o.complete(w),s=""},this.guessLineEndings=function(V,N){V=V.substring(0,1048576);var N=new RegExp(x(N)+"([^]*?)"+x(N),"gm"),ee=(V=V.replace(N,"")).split("\r"),N=V.split(`
`),V=1<N.length&&N[0].length<ee[0].length;if(ee.length===1||V)return`
`;for(var he=0,X=0;X<ee.length;X++)ee[X][0]===`
`&&he++;return he>=ee.length/2?`\r
`:"\r"}}function x(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function P(o){var s=(o=o||{}).delimiter,h=o.newline,d=o.comments,_=o.step,v=o.preview,z=o.fastMode,W=null,F=!1,C=o.quoteChar==null?'"':o.quoteChar,j=C;if(o.escapeChar!==void 0&&(j=o.escapeChar),(typeof s!="string"||-1<l.BAD_DELIMITERS.indexOf(s))&&(s=","),d===s)throw new Error("Comment character same as delimiter");d===!0?d="#":(typeof d!="string"||-1<l.BAD_DELIMITERS.indexOf(d))&&(d=!1),h!==`
`&&h!=="\r"&&h!==`\r
`&&(h=`
`);var y=0,G=!1;this.parse=function(R,A,w){if(typeof R!="string")throw new Error("Input must be a string");var Z=R.length,$=s.length,O=h.length,L=d.length,b=H(_),D=[],ee=[],N=[],V=y=0;if(!R)return te();if(z||z!==!1&&R.indexOf(C)===-1){for(var he=R.split(h),X=0;X<he.length;X++){if(N=he[X],y+=N.length,X!==he.length-1)y+=h.length;else if(w)return te();if(!d||N.substring(0,L)!==d){if(b){if(D=[],se(N.split(s)),oe(),G)return te()}else se(N.split(s));if(v&&v<=X)return D=D.slice(0,v),te(!0)}}return te()}for(var K=R.indexOf(s,y),I=R.indexOf(h,y),pe=new RegExp(x(j)+x(C),"g"),q=R.indexOf(C,y);;)if(R[y]===C)for(q=y,y++;;){if((q=R.indexOf(C,q+1))===-1)return w||ee.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:D.length,index:y}),xe();if(q===Z-1)return xe(R.substring(y,q).replace(pe,C));if(C===j&&R[q+1]===j)q++;else if(C===j||q===0||R[q-1]!==j){K!==-1&&K<q+1&&(K=R.indexOf(s,q+1));var re=Ce((I=I!==-1&&I<q+1?R.indexOf(h,q+1):I)===-1?K:Math.min(K,I));if(R.substr(q+1+re,$)===s){N.push(R.substring(y,q).replace(pe,C)),R[y=q+1+re+$]!==C&&(q=R.indexOf(C,y)),K=R.indexOf(s,y),I=R.indexOf(h,y);break}if(re=Ce(I),R.substring(q+1+re,q+1+re+O)===h){if(N.push(R.substring(y,q).replace(pe,C)),_e(q+1+re+O),K=R.indexOf(s,y),q=R.indexOf(C,y),b&&(oe(),G))return te();if(v&&D.length>=v)return te(!0);break}ee.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:D.length,index:y}),q++}}else if(d&&N.length===0&&R.substring(y,y+L)===d){if(I===-1)return te();y=I+O,I=R.indexOf(h,y),K=R.indexOf(s,y)}else if(K!==-1&&(K<I||I===-1))N.push(R.substring(y,K)),y=K+$,K=R.indexOf(s,y);else{if(I===-1)break;if(N.push(R.substring(y,I)),_e(I+O),b&&(oe(),G))return te();if(v&&D.length>=v)return te(!0)}return xe();function se(fe){D.push(fe),V=y}function Ce(fe){var be=0;return be=fe!==-1&&(fe=R.substring(q+1,fe))&&fe.trim()===""?fe.length:be}function xe(fe){return w||(fe===void 0&&(fe=R.substring(y)),N.push(fe),y=Z,se(N),b&&oe()),te()}function _e(fe){y=fe,se(N),N=[],I=R.indexOf(h,y)}function te(fe){if(o.header&&!A&&D.length&&!F){var be=D[0],ae={},ye=new Set(be);let qe=!1;for(let ve=0;ve<be.length;ve++){let ge=be[ve];if(ae[ge=H(o.transformHeader)?o.transformHeader(ge,ve):ge]){let Ae,ke=ae[ge];for(;Ae=ge+"_"+ke,ke++,ye.has(Ae););ye.add(Ae),be[ve]=Ae,ae[ge]++,qe=!0,(W=W===null?{}:W)[Ae]=ge}else ae[ge]=1,be[ve]=ge;ye.add(ge)}qe&&console.warn("Duplicate headers found and renamed."),F=!0}return{data:D,errors:ee,meta:{delimiter:s,linebreak:h,aborted:G,truncated:!!fe,cursor:V+(A||0),renamedHeaders:W}}}function oe(){_(te()),D=[],ee=[]}},this.abort=function(){G=!0},this.getCharIndex=function(){return y}}function de(o){var s=o.data,h=f[s.workerId],d=!1;if(s.error)h.userError(s.error,s.file);else if(s.results&&s.results.data){var _={abort:function(){d=!0,ie(s.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:B,resume:B};if(H(h.userStep)){for(var v=0;v<s.results.data.length&&(h.userStep({data:s.results.data[v],errors:s.results.errors,meta:s.results.meta},_),!d);v++);delete s.results}else H(h.userChunk)&&(h.userChunk(s.results,_,s.file),delete s.results)}s.finished&&!d&&ie(s.workerId,s.results)}function ie(o,s){var h=f[o];H(h.userComplete)&&h.userComplete(s),h.terminate(),delete f[o]}function B(){throw new Error("Not implemented.")}function J(o){if(typeof o!="object"||o===null)return o;var s,h=Array.isArray(o)?[]:{};for(s in o)h[s]=J(o[s]);return h}function Y(o,s){return function(){o.apply(s,arguments)}}function H(o){return typeof o=="function"}return l.parse=function(o,s){var h=(s=s||{}).dynamicTyping||!1;if(H(h)&&(s.dynamicTypingFunction=h,h={}),s.dynamicTyping=h,s.transform=!!H(s.transform)&&s.transform,!s.worker||!l.WORKERS_SUPPORTED)return h=null,l.NODE_STREAM_INPUT,typeof o=="string"?(o=(d=>d.charCodeAt(0)!==65279?d:d.slice(1))(o),h=new(s.download?p:Q)(s)):o.readable===!0&&H(o.read)&&H(o.on)?h=new E(s):(r.File&&o instanceof File||o instanceof Object)&&(h=new k(s)),h.stream(o);(h=(()=>{var d;return!!l.WORKERS_SUPPORTED&&(d=(()=>{var _=r.URL||r.webkitURL||null,v=n.toString();return l.BLOB_URL||(l.BLOB_URL=_.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",v,")();"],{type:"text/javascript"})))})(),(d=new r.Worker(d)).onmessage=de,d.id=c++,f[d.id]=d)})()).userStep=s.step,h.userChunk=s.chunk,h.userComplete=s.complete,h.userError=s.error,s.step=H(s.step),s.chunk=H(s.chunk),s.complete=H(s.complete),s.error=H(s.error),delete s.worker,h.postMessage({input:o,config:s,workerId:h.id})},l.unparse=function(o,s){var h=!1,d=!0,_=",",v=`\r
`,z='"',W=z+z,F=!1,C=null,j=!1,y=((()=>{if(typeof s=="object"){if(typeof s.delimiter!="string"||l.BAD_DELIMITERS.filter(function(A){return s.delimiter.indexOf(A)!==-1}).length||(_=s.delimiter),typeof s.quotes!="boolean"&&typeof s.quotes!="function"&&!Array.isArray(s.quotes)||(h=s.quotes),typeof s.skipEmptyLines!="boolean"&&typeof s.skipEmptyLines!="string"||(F=s.skipEmptyLines),typeof s.newline=="string"&&(v=s.newline),typeof s.quoteChar=="string"&&(z=s.quoteChar),typeof s.header=="boolean"&&(d=s.header),Array.isArray(s.columns)){if(s.columns.length===0)throw new Error("Option columns is empty");C=s.columns}s.escapeChar!==void 0&&(W=s.escapeChar+z),s.escapeFormulae instanceof RegExp?j=s.escapeFormulae:typeof s.escapeFormulae=="boolean"&&s.escapeFormulae&&(j=/^[=+\-@\t\r].*$/)}})(),new RegExp(x(z),"g"));if(typeof o=="string"&&(o=JSON.parse(o)),Array.isArray(o)){if(!o.length||Array.isArray(o[0]))return G(null,o,F);if(typeof o[0]=="object")return G(C||Object.keys(o[0]),o,F)}else if(typeof o=="object")return typeof o.data=="string"&&(o.data=JSON.parse(o.data)),Array.isArray(o.data)&&(o.fields||(o.fields=o.meta&&o.meta.fields||C),o.fields||(o.fields=Array.isArray(o.data[0])?o.fields:typeof o.data[0]=="object"?Object.keys(o.data[0]):[]),Array.isArray(o.data[0])||typeof o.data[0]=="object"||(o.data=[o.data])),G(o.fields||[],o.data||[],F);throw new Error("Unable to serialize unrecognized input");function G(A,w,Z){var $="",O=(typeof A=="string"&&(A=JSON.parse(A)),typeof w=="string"&&(w=JSON.parse(w)),Array.isArray(A)&&0<A.length),L=!Array.isArray(w[0]);if(O&&d){for(var b=0;b<A.length;b++)0<b&&($+=_),$+=R(A[b],b);0<w.length&&($+=v)}for(var D=0;D<w.length;D++){var ee=(O?A:w[D]).length,N=!1,V=O?Object.keys(w[D]).length===0:w[D].length===0;if(Z&&!O&&(N=Z==="greedy"?w[D].join("").trim()==="":w[D].length===1&&w[D][0].length===0),Z==="greedy"&&O){for(var he=[],X=0;X<ee;X++){var K=L?A[X]:X;he.push(w[D][K])}N=he.join("").trim()===""}if(!N){for(var I=0;I<ee;I++){0<I&&!V&&($+=_);var pe=O&&L?A[I]:I;$+=R(w[D][pe],I)}D<w.length-1&&(!Z||0<ee&&!V)&&($+=v)}}return $}function R(A,w){var Z,$;return A==null?"":A.constructor===Date?JSON.stringify(A).slice(1,25):($=!1,j&&typeof A=="string"&&j.test(A)&&(A="'"+A,$=!0),Z=A.toString().replace(y,W),($=$||h===!0||typeof h=="function"&&h(A,w)||Array.isArray(h)&&h[w]||((O,L)=>{for(var b=0;b<L.length;b++)if(-1<O.indexOf(L[b]))return!0;return!1})(Z,l.BAD_DELIMITERS)||-1<Z.indexOf(_)||Z.charAt(0)===" "||Z.charAt(Z.length-1)===" ")?z+Z+z:Z)}},l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!a&&!!r.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=P,l.ParserHandle=m,l.NetworkStreamer=p,l.FileStreamer=k,l.StringStreamer=Q,l.ReadableStreamStreamer=E,r.jQuery&&((i=r.jQuery).fn.parse=function(o){var s=o.config||{},h=[];return this.each(function(v){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var z=0;z<this.files.length;z++)h.push({file:this.files[z],inputElem:this,instanceConfig:i.extend({},s)})}),d(),this;function d(){if(h.length===0)H(o.complete)&&o.complete();else{var v,z,W,F,C=h[0];if(H(o.before)){var j=o.before(C.file,C.inputElem);if(typeof j=="object"){if(j.action==="abort")return v="AbortError",z=C.file,W=C.inputElem,F=j.reason,void(H(o.error)&&o.error({name:v},z,W,F));if(j.action==="skip")return void _();typeof j.config=="object"&&(C.instanceConfig=i.extend(C.instanceConfig,j.config))}else if(j==="skip")return void _()}var y=C.instanceConfig.complete;C.instanceConfig.complete=function(G){H(y)&&y(G,C.file,C.inputElem),_()},l.parse(C.file,C.instanceConfig)}}function _(){h.splice(0,1),d()}}),u&&(r.onmessage=function(o){o=o.data,l.WORKER_ID===void 0&&o&&(l.WORKER_ID=o.workerId),typeof o.input=="string"?r.postMessage({workerId:l.WORKER_ID,results:l.parse(o.input,o.config),finished:!0}):(r.File&&o.input instanceof File||o.input instanceof Object)&&(o=l.parse(o.input,o.config))&&r.postMessage({workerId:l.WORKER_ID,results:o,finished:!0})}),(p.prototype=Object.create(g.prototype)).constructor=p,(k.prototype=Object.create(g.prototype)).constructor=k,(Q.prototype=Object.create(Q.prototype)).constructor=Q,(E.prototype=Object.create(g.prototype)).constructor=E,l})})(xn);const Bn=xn.exports;function rt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Wn(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wn(e){let t,n,r;e.length!==2?(t=rt,n=(f,c)=>rt(e(f),c),r=(f,c)=>e(f)-c):(t=e===rt||e===Wn?e:Un,n=e,r=e);function i(f,c,l=0,g=f.length){if(l<g){if(t(c,c)!==0)return g;do{const p=l+g>>>1;n(f[p],c)<0?l=p+1:g=p}while(l<g)}return l}function a(f,c,l=0,g=f.length){if(l<g){if(t(c,c)!==0)return g;do{const p=l+g>>>1;n(f[p],c)<=0?l=p+1:g=p}while(l<g)}return l}function u(f,c,l=0,g=f.length){const p=i(f,c,l,g-1);return p>l&&r(f[p-1],c)>-r(f[p],c)?p-1:p}return{left:i,center:u,right:a}}function Un(){return 0}function Kn(e){return e===null?NaN:+e}const Qn=wn(rt),Vn=Qn.right;wn(Kn).center;const Xn=Vn;class Bt extends Map{constructor(t,n=Jn){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Wt(this,t))}has(t){return super.has(Wt(this,t))}set(t,n){return super.set(Yn(this,t),n)}delete(t){return super.delete(Gn(this,t))}}function Wt({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Yn({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Gn({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Jn(e){return e!==null&&typeof e=="object"?e.valueOf():e}var wt=Math.sqrt(50),vt=Math.sqrt(10),kt=Math.sqrt(2);function Zn(e,t,n){var r,i=-1,a,u,f;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(a=e,e=t,t=a),(f=vn(e,t,n))===0||!isFinite(f))return[];if(f>0){let c=Math.round(e/f),l=Math.round(t/f);for(c*f<e&&++c,l*f>t&&--l,u=new Array(a=l-c+1);++i<a;)u[i]=(c+i)*f}else{f=-f;let c=Math.round(e*f),l=Math.round(t*f);for(c/f<e&&++c,l/f>t&&--l,u=new Array(a=l-c+1);++i<a;)u[i]=(c+i)/f}return r&&u.reverse(),u}function vn(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=wt?10:a>=vt?5:a>=kt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=wt?10:a>=vt?5:a>=kt?2:1)}function $n(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=wt?i*=10:a>=vt?i*=5:a>=kt&&(i*=2),t<e?-i:i}function Ut(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Kt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function kn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Qt=Symbol("implicit");function Mn(){var e=new Bt,t=[],n=[],r=Qt;function i(a){let u=e.get(a);if(u===void 0){if(r!==Qt)return r;e.set(a,u=t.push(a)-1)}return n[u%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Bt;for(const u of a)e.has(u)||e.set(u,t.push(u)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Mn(t,n).unknown(r)},kn.apply(i,arguments),i}function Tt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Sn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ye(){}var Qe=.7,lt=1/Qe,Fe="\\s*([+-]?\\d+)\\s*",Ve="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ee="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",er=/^#([0-9a-f]{3,8})$/,tr=new RegExp(`^rgb\\(${Fe},${Fe},${Fe}\\)$`),nr=new RegExp(`^rgb\\(${Ee},${Ee},${Ee}\\)$`),rr=new RegExp(`^rgba\\(${Fe},${Fe},${Fe},${Ve}\\)$`),ir=new RegExp(`^rgba\\(${Ee},${Ee},${Ee},${Ve}\\)$`),sr=new RegExp(`^hsl\\(${Ve},${Ee},${Ee}\\)$`),ar=new RegExp(`^hsla\\(${Ve},${Ee},${Ee},${Ve}\\)$`),Vt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Tt(Ye,Xe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Xt,formatHex:Xt,formatHex8:or,formatHsl:lr,formatRgb:Yt,toString:Yt});function Xt(){return this.rgb().formatHex()}function or(){return this.rgb().formatHex8()}function lr(){return En(this).formatHsl()}function Yt(){return this.rgb().formatRgb()}function Xe(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=er.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Gt(t):n===3?new we(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Je(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Je(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tr.exec(e))?new we(t[1],t[2],t[3],1):(t=nr.exec(e))?new we(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=rr.exec(e))?Je(t[1],t[2],t[3],t[4]):(t=ir.exec(e))?Je(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sr.exec(e))?$t(t[1],t[2]/100,t[3]/100,1):(t=ar.exec(e))?$t(t[1],t[2]/100,t[3]/100,t[4]):Vt.hasOwnProperty(e)?Gt(Vt[e]):e==="transparent"?new we(NaN,NaN,NaN,0):null}function Gt(e){return new we(e>>16&255,e>>8&255,e&255,1)}function Je(e,t,n,r){return r<=0&&(e=t=n=NaN),new we(e,t,n,r)}function ur(e){return e instanceof Ye||(e=Xe(e)),e?(e=e.rgb(),new we(e.r,e.g,e.b,e.opacity)):new we}function Mt(e,t,n,r){return arguments.length===1?ur(e):new we(e,t,n,r==null?1:r)}function we(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Tt(we,Mt,Sn(Ye,{brighter(e){return e=e==null?lt:Math.pow(lt,e),new we(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qe:Math.pow(Qe,e),new we(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new we(Le(this.r),Le(this.g),Le(this.b),ut(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jt,formatHex:Jt,formatHex8:fr,formatRgb:Zt,toString:Zt}));function Jt(){return`#${Te(this.r)}${Te(this.g)}${Te(this.b)}`}function fr(){return`#${Te(this.r)}${Te(this.g)}${Te(this.b)}${Te((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zt(){const e=ut(this.opacity);return`${e===1?"rgb(":"rgba("}${Le(this.r)}, ${Le(this.g)}, ${Le(this.b)}${e===1?")":`, ${e})`}`}function ut(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Le(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Te(e){return e=Le(e),(e<16?"0":"")+e.toString(16)}function $t(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Me(e,t,n,r)}function En(e){if(e instanceof Me)return new Me(e.h,e.s,e.l,e.opacity);if(e instanceof Ye||(e=Xe(e)),!e)return new Me;if(e instanceof Me)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),u=NaN,f=a-i,c=(a+i)/2;return f?(t===a?u=(n-r)/f+(n<r)*6:n===a?u=(r-t)/f+2:u=(t-n)/f+4,f/=c<.5?a+i:2-a-i,u*=60):f=c>0&&c<1?0:u,new Me(u,f,c,e.opacity)}function cr(e,t,n,r){return arguments.length===1?En(e):new Me(e,t,n,r==null?1:r)}function Me(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Tt(Me,cr,Sn(Ye,{brighter(e){return e=e==null?lt:Math.pow(lt,e),new Me(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qe:Math.pow(Qe,e),new Me(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new we(mt(e>=240?e-240:e+120,i,r),mt(e,i,r),mt(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Me(en(this.h),Ze(this.s),Ze(this.l),ut(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ut(this.opacity);return`${e===1?"hsl(":"hsla("}${en(this.h)}, ${Ze(this.s)*100}%, ${Ze(this.l)*100}%${e===1?")":`, ${e})`}`}}));function en(e){return e=(e||0)%360,e<0?e+360:e}function Ze(e){return Math.max(0,Math.min(1,e||0))}function mt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Lt=e=>()=>e;function hr(e,t){return function(n){return e+n*t}}function dr(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function pr(e){return(e=+e)==1?Cn:function(t,n){return n-t?dr(t,n,e):Lt(isNaN(t)?n:t)}}function Cn(e,t){var n=t-e;return n?hr(e,n):Lt(isNaN(e)?t:e)}const tn=function e(t){var n=pr(t);function r(i,a){var u=n((i=Mt(i)).r,(a=Mt(a)).r),f=n(i.g,a.g),c=n(i.b,a.b),l=Cn(i.opacity,a.opacity);return function(g){return i.r=u(g),i.g=f(g),i.b=c(g),i.opacity=l(g),i+""}}return r.gamma=e,r}(1);function gr(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function mr(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _r(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),u;for(u=0;u<r;++u)i[u]=Pt(e[u],t[u]);for(;u<n;++u)a[u]=t[u];return function(f){for(u=0;u<r;++u)a[u]=i[u](f);return a}}function yr(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ft(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function br(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Pt(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var St=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_t=new RegExp(St.source,"g");function xr(e){return function(){return e}}function wr(e){return function(t){return e(t)+""}}function vr(e,t){var n=St.lastIndex=_t.lastIndex=0,r,i,a,u=-1,f=[],c=[];for(e=e+"",t=t+"";(r=St.exec(e))&&(i=_t.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),f[u]?f[u]+=a:f[++u]=a),(r=r[0])===(i=i[0])?f[u]?f[u]+=i:f[++u]=i:(f[++u]=null,c.push({i:u,x:ft(r,i)})),n=_t.lastIndex;return n<t.length&&(a=t.slice(n),f[u]?f[u]+=a:f[++u]=a),f.length<2?c[0]?wr(c[0].x):xr(t):(t=c.length,function(l){for(var g=0,p;g<t;++g)f[(p=c[g]).i]=p.x(l);return f.join("")})}function Pt(e,t){var n=typeof t,r;return t==null||n==="boolean"?Lt(t):(n==="number"?ft:n==="string"?(r=Xe(t))?(t=r,tn):vr:t instanceof Xe?tn:t instanceof Date?yr:mr(t)?gr:Array.isArray(t)?_r:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?br:ft)(e,t)}function kr(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Mr(e){return function(){return e}}function Sr(e){return+e}var nn=[0,1];function ze(e){return e}function Et(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Mr(isNaN(t)?NaN:.5)}function Er(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Cr(e,t,n){var r=e[0],i=e[1],a=t[0],u=t[1];return i<r?(r=Et(i,r),a=n(u,a)):(r=Et(r,i),a=n(a,u)),function(f){return a(r(f))}}function Rr(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)i[u]=Et(e[u],e[u+1]),a[u]=n(t[u],t[u+1]);return function(f){var c=Xn(e,f,1,r)-1;return a[c](i[c](f))}}function Ar(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Nr(){var e=nn,t=nn,n=Pt,r,i,a,u=ze,f,c,l;function g(){var k=Math.min(e.length,t.length);return u!==ze&&(u=Er(e[0],e[k-1])),f=k>2?Rr:Cr,c=l=null,p}function p(k){return k==null||isNaN(k=+k)?a:(c||(c=f(e.map(r),t,n)))(r(u(k)))}return p.invert=function(k){return u(i((l||(l=f(t,e.map(r),ft)))(k)))},p.domain=function(k){return arguments.length?(e=Array.from(k,Sr),g()):e.slice()},p.range=function(k){return arguments.length?(t=Array.from(k),g()):t.slice()},p.rangeRound=function(k){return t=Array.from(k),n=kr,g()},p.clamp=function(k){return arguments.length?(u=k?!0:ze,g()):u!==ze},p.interpolate=function(k){return arguments.length?(n=k,g()):n},p.unknown=function(k){return arguments.length?(a=k,p):a},function(k,Q){return r=k,i=Q,g()}}function Or(){return Nr()(ze,ze)}function Dr(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ct(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function He(e){return e=ct(Math.abs(e)),e?e[1]:NaN}function Ir(e,t){return function(n,r){for(var i=n.length,a=[],u=0,f=e[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),a.push(n.substring(i-=f,i+f)),!((c+=f+1)>r));)f=e[u=(u+1)%e.length];return a.reverse().join(t)}}function Tr(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Lr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ht(e){if(!(t=Lr.exec(e)))throw new Error("invalid format: "+e);var t;return new jt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ht.prototype=jt.prototype;function jt(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}jt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pr(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Rn;function jr(e,t){var n=ct(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Rn=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return a===u?r:a>u?r+new Array(a-u+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ct(e,Math.max(0,t+a-1))[0]}function rn(e,t){var n=ct(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const sn={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Dr,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>rn(e*100,t),r:rn,s:jr,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function an(e){return e}var on=Array.prototype.map,ln=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function zr(e){var t=e.grouping===void 0||e.thousands===void 0?an:Ir(on.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?an:Tr(on.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(p){p=ht(p);var k=p.fill,Q=p.align,E=p.sign,m=p.symbol,x=p.zero,P=p.width,de=p.comma,ie=p.precision,B=p.trim,J=p.type;J==="n"?(de=!0,J="g"):sn[J]||(ie===void 0&&(ie=12),B=!0,J="g"),(x||k==="0"&&Q==="=")&&(x=!0,k="0",Q="=");var Y=m==="$"?n:m==="#"&&/[boxX]/.test(J)?"0"+J.toLowerCase():"",H=m==="$"?r:/[%p]/.test(J)?u:"",o=sn[J],s=/[defgprs%]/.test(J);ie=ie===void 0?6:/[gprs]/.test(J)?Math.max(1,Math.min(21,ie)):Math.max(0,Math.min(20,ie));function h(d){var _=Y,v=H,z,W,F;if(J==="c")v=o(d)+v,d="";else{d=+d;var C=d<0||1/d<0;if(d=isNaN(d)?c:o(Math.abs(d),ie),B&&(d=Pr(d)),C&&+d==0&&E!=="+"&&(C=!1),_=(C?E==="("?E:f:E==="-"||E==="("?"":E)+_,v=(J==="s"?ln[8+Rn/3]:"")+v+(C&&E==="("?")":""),s){for(z=-1,W=d.length;++z<W;)if(F=d.charCodeAt(z),48>F||F>57){v=(F===46?i+d.slice(z+1):d.slice(z))+v,d=d.slice(0,z);break}}}de&&!x&&(d=t(d,1/0));var j=_.length+d.length+v.length,y=j<P?new Array(P-j+1).join(k):"";switch(de&&x&&(d=t(y+d,y.length?P-v.length:1/0),y=""),Q){case"<":d=_+d+v+y;break;case"=":d=_+y+d+v;break;case"^":d=y.slice(0,j=y.length>>1)+_+d+v+y.slice(j);break;default:d=y+_+d+v;break}return a(d)}return h.toString=function(){return p+""},h}function g(p,k){var Q=l((p=ht(p),p.type="f",p)),E=Math.max(-8,Math.min(8,Math.floor(He(k)/3)))*3,m=Math.pow(10,-E),x=ln[8+E/3];return function(P){return Q(m*P)+x}}return{format:l,formatPrefix:g}}var $e,An,Nn;Fr({thousands:",",grouping:[3],currency:["$",""]});function Fr(e){return $e=zr(e),An=$e.format,Nn=$e.formatPrefix,$e}function Hr(e){return Math.max(0,-He(Math.abs(e)))}function qr(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(He(t)/3)))*3-He(Math.abs(e)))}function Br(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,He(t)-He(e))+1}function Wr(e,t,n,r){var i=$n(e,t,n),a;switch(r=ht(r==null?",f":r),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=qr(i,u))&&(r.precision=a),Nn(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Br(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Hr(i))&&(r.precision=a-(r.type==="%")*2);break}}return An(r)}function Ur(e){var t=e.domain;return e.ticks=function(n){var r=t();return Zn(r[0],r[r.length-1],n==null?10:n)},e.tickFormat=function(n,r){var i=t();return Wr(i[0],i[i.length-1],n==null?10:n,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,u=r[i],f=r[a],c,l,g=10;for(f<u&&(l=u,u=f,f=l,l=i,i=a,a=l);g-- >0;){if(l=vn(u,f,n),l===c)return r[i]=u,r[a]=f,t(r);if(l>0)u=Math.floor(u/l)*l,f=Math.ceil(f/l)*l;else if(l<0)u=Math.ceil(u*l)/l,f=Math.floor(f*l)/l;else break;c=l}return e},e}function Ct(){var e=Or();return e.copy=function(){return Ar(e,Ct())},kn.apply(e,arguments),Ur(e)}function Kr(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Qr=Kr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Vr(e){let t;return{c(){t=T("p"),t.textContent="Hover over a circle to see details here.",S(t,"class","svelte-60srhh")},m(n,r){ce(n,t,r)},p:Re,d(n){n&&ue(t)}}}function Xr(e){let t,n=e[0].title+"",r,i,a,u=e[0][e[1]]+"",f,c,l,g=e[0].date.toISOString().split("T")[0]+"",p,k,Q,E=e[0].text+"",m;return{c(){t=T("h1"),r=Se(n),i=ne(),a=T("span"),f=Se(u),c=ne(),l=T("h2"),p=Se(g),k=ne(),Q=T("p"),m=Se(E),S(t,"class","svelte-60srhh"),je(a,"background",e[2](e[0][e[1]])),S(a,"class","svelte-60srhh"),S(l,"class","svelte-60srhh"),S(Q,"class","svelte-60srhh")},m(x,P){ce(x,t,P),M(t,r),ce(x,i,P),ce(x,a,P),M(a,f),ce(x,c,P),ce(x,l,P),M(l,p),ce(x,k,P),ce(x,Q,P),M(Q,m)},p(x,P){P&1&&n!==(n=x[0].title+"")&&Oe(r,n),P&3&&u!==(u=x[0][x[1]]+"")&&Oe(f,u),P&7&&je(a,"background",x[2](x[0][x[1]])),P&1&&g!==(g=x[0].date.toISOString().split("T")[0]+"")&&Oe(p,g),P&1&&E!==(E=x[0].text+"")&&Oe(m,E)},d(x){x&&ue(t),x&&ue(i),x&&ue(a),x&&ue(c),x&&ue(l),x&&ue(k),x&&ue(Q)}}}function Yr(e){let t;function n(a,u){return a[0]?Xr:Vr}let r=n(e),i=r(e);return{c(){t=T("div"),i.c(),S(t,"class","detail-card svelte-60srhh")},m(a,u){ce(a,t,u),i.m(t,null)},p(a,[u]){r===(r=n(a))&&i?i.p(a,u):(i.d(1),i=r(a),i&&(i.c(),i.m(t,null)))},i:Re,o:Re,d(a){a&&ue(t),i.d()}}}function Gr(e,t,n){let{hoveredData:r}=t,{domainColumn:i}=t,{data:a}=t,{colorScale:u}=t;return At(()=>{u.domain(a.map(f=>f[i]))}),e.$$set=f=>{"hoveredData"in f&&n(0,r=f.hoveredData),"domainColumn"in f&&n(1,i=f.domainColumn),"data"in f&&n(3,a=f.data),"colorScale"in f&&n(2,u=f.colorScale)},[r,i,u,a]}class Jr extends It{constructor(t){super(),Dt(this,t,Gr,Yr,Rt,{hoveredData:0,domainColumn:1,data:3,colorScale:2})}}function Zr(e){let t,n,r,i,a,u,f;return i=new Jr({props:{hoveredData:e[3],data:e[0],domainColumn:e[1],colorScale:e[4]}}),{c(){t=T("div"),n=T("canvas"),r=ne(),bn(i.$$.fragment),S(n,"width",it),S(n,"height",st),S(n,"class","svelte-14rtzz4"),S(t,"class","chart-container svelte-14rtzz4")},m(c,l){ce(c,t,l),M(t,n),e[14](n),M(t,r),Nt(i,t,null),a=!0,u||(f=[le(n,"mousemove",e[5]),le(n,"mouseleave",e[6])],u=!0)},p(c,[l]){const g={};l&8&&(g.hoveredData=c[3]),l&1&&(g.data=c[0]),l&2&&(g.domainColumn=c[1]),i.$set(g)},i(c){a||(Ke(i.$$.fragment,c),a=!0)},o(c){ot(i.$$.fragment,c),a=!1},d(c){c&&ue(t),e[14](null),Ot(i),u=!1,De(f)}}}let it=800,st=600;const yt=6;let et=1;function $r(e,t,n){let r,i,a,u,{data:f=[]}=t,{domainColumn:c=""}=t,{opacity:l=1}=t,{selectedValues:g=new Set}=t,{searchQuery:p=""}=t,{showAnnotations:k=!0}=t,Q=[{x:500,y:400,radius:30,label:"Border Belt Independent and North Carolina Coastal Federation have both published about GenX \u2014 an industrial chemical",label_x:100,label_y:-90},{x:720,y:170,radius:50,label:"Only Carolina Peacemaker seems to be publishing about personal health",label_x:-70,label_y:80}],E,m;const x={top:20,right:20,bottom:20,left:20};let P=null,de=null,ie={x:0,y:0};const B=Mn().domain([...new Set(f.map(s=>s[c]))]).range(Qr);function J(){m.clearRect(0,0,it,st),m.save(),m.translate(ie.x,ie.y),m.scale(et,et),m.translate(-ie.x,-ie.y),f.forEach(s=>{const h=p&&s.title&&s.title.toLowerCase().includes(p.toLowerCase()),d=g.has(s[c]);m.beginPath(),m.arc(x.left+a(s.x),x.top+u(s.y),yt,0,Math.PI*2),n(11,m.fillStyle=B(s[c]),m),n(11,m.globalAlpha=h||d?1:l*.4,m),m.fill()}),k&&Q.forEach(s=>{n(11,m.globalAlpha=1,m),m.beginPath(),m.arc(s.x,s.y,s.radius,0,Math.PI*2),n(11,m.strokeStyle="red",m),n(11,m.lineWidth=2,m),m.setLineDash([5,5]),m.stroke();const h=150,d=12;n(11,m.font="11px Arial",m);const _=s.x+s.label_x,v=s.y+s.label_y;let z=0,W=0,F=[];if(s.label){const O=s.label.split(" ");let L="";O.forEach((b,D)=>{const ee=L+b+" ";m.measureText(ee).width>h&&D>0?(F.push(L),z=Math.max(z,m.measureText(L).width),L=b+" "):L=ee}),F.push(L),z=Math.max(z,m.measureText(L).width),W=d*F.length}const C=_,j=v-d,y=z,G=W;let R,A;s.x<C?R=C:s.x>C+y?R=C+y:R=s.x,s.y<j?A=j:s.y>j+G?A=j+G:A=s.y;const w=Math.atan2(A-s.y,R-s.x),Z=s.x+s.radius*Math.cos(w),$=s.y+s.radius*Math.sin(w);m.setLineDash([]),m.beginPath(),m.moveTo(Z,$),m.lineTo(R,A),n(11,m.strokeStyle="red",m),n(11,m.lineWidth=1,m),m.stroke(),s.label&&(n(11,m.font="11px Arial",m),n(11,m.fillStyle="red",m),F.forEach((O,L)=>{m.fillText(O,_,v+L*d)}))}),m.setLineDash([]),P&&(m.beginPath(),m.arc(x.left+a(P.x),x.top+u(P.y),yt,0,Math.PI*2),n(11,m.fillStyle=B(P[c]),m),n(11,m.globalAlpha=1,m),m.fill(),n(11,m.strokeStyle="black",m),n(11,m.lineWidth=2,m),m.stroke()),m.restore()}function Y(s){const h=E.getBoundingClientRect(),d=it/h.width,_=st/h.height,v=(s.clientX-h.left)*d-x.left,z=(s.clientY-h.top)*_-x.top,W=(v-ie.x)/et+ie.x,F=(z-ie.y)/et+ie.y,C=f.find(j=>{const y=a(j.x)-W,G=u(j.y)-F;return Math.sqrt(y*y+G*G)<yt+3});C?(n(3,P=C),de=C):n(3,P=de),J()}function H(){n(3,P=de),J()}At(()=>{n(11,m=E.getContext("2d")),J()});function o(s){bt[s?"unshift":"push"](()=>{E=s,n(2,E)})}return e.$$set=s=>{"data"in s&&n(0,f=s.data),"domainColumn"in s&&n(1,c=s.domainColumn),"opacity"in s&&n(7,l=s.opacity),"selectedValues"in s&&n(8,g=s.selectedValues),"searchQuery"in s&&n(9,p=s.searchQuery),"showAnnotations"in s&&n(10,k=s.showAnnotations)},e.$$.update=()=>{e.$$.dirty&8193&&(a=Ct().domain([Kt(f,s=>s.x),Ut(f,s=>s.x)]).range([0,r])),e.$$.dirty&4097&&(u=Ct().domain([Kt(f,s=>s.y),Ut(f,s=>s.y)]).range([i,0])),e.$$.dirty&2049&&m&&f.length&&J(),e.$$.dirty&3971&&m&&f.length&&J()},n(13,r=it-x.left-x.right),n(12,i=st-x.top-x.bottom),[f,c,E,P,B,Y,H,l,g,p,k,m,i,r,o]}class ei extends It{constructor(t){super(),Dt(this,t,$r,Zr,Rt,{data:0,domainColumn:1,opacity:7,selectedValues:8,searchQuery:9,showAnnotations:10})}}function un(e,t,n){const r=e.slice();return r[39]=t[n],r}function fn(e,t,n){const r=e.slice();return r[42]=t[n],r}function cn(e){let t,n,r,i,a,u,f=e[5],c=[];for(let l=0;l<f.length;l+=1)c[l]=hn(fn(e,f,l));return{c(){t=T("label"),t.textContent="\u{1F3A8} Color by Column:",n=ne(),r=T("select"),i=T("option"),i.textContent="Select column";for(let l=0;l<c.length;l+=1)c[l].c();S(t,"class","svelte-lotiap"),i.__value="",i.value=i.__value,i.disabled=!0,S(r,"class","svelte-lotiap"),e[6]===void 0&&at(()=>e[25].call(r))},m(l,g){ce(l,t,g),ce(l,n,g),ce(l,r,g),M(r,i);for(let p=0;p<c.length;p+=1)c[p].m(r,null);Ht(r,e[6]),a||(u=[le(r,"change",e[16]),le(r,"change",e[25])],a=!0)},p(l,g){if(g[0]&32){f=l[5];let p;for(p=0;p<f.length;p+=1){const k=fn(l,f,p);c[p]?c[p].p(k,g):(c[p]=hn(k),c[p].c(),c[p].m(r,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}g[0]&96&&Ht(r,l[6])},d(l){l&&ue(t),l&&ue(n),l&&ue(r),_n(c,l),a=!1,De(u)}}}function hn(e){let t,n=e[42]+"",r,i;return{c(){t=T("option"),r=Se(n),t.__value=i=e[42],t.value=t.__value},m(a,u){ce(a,t,u),M(t,r)},p(a,u){u[0]&32&&n!==(n=a[42]+"")&&Oe(r,n),u[0]&32&&i!==(i=a[42])&&(t.__value=i,t.value=t.__value)},d(a){a&&ue(t)}}}function dn(e){let t,n,r,i,a,u=e[7],f=[];for(let c=0;c<u.length;c+=1)f[c]=pn(un(e,u,c));return{c(){t=T("label"),t.textContent="\u2728 Highlight Values:",n=ne(),r=T("select");for(let c=0;c<f.length;c+=1)f[c].c();S(t,"class","svelte-lotiap"),r.multiple=!0,S(r,"size","5"),S(r,"class","multi-select svelte-lotiap")},m(c,l){ce(c,t,l),ce(c,n,l),ce(c,r,l);for(let g=0;g<f.length;g+=1)f[g].m(r,null);i||(a=le(r,"change",e[17]),i=!0)},p(c,l){if(l[0]&128){u=c[7];let g;for(g=0;g<u.length;g+=1){const p=un(c,u,g);f[g]?f[g].p(p,l):(f[g]=pn(p),f[g].c(),f[g].m(r,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=u.length}},d(c){c&&ue(t),c&&ue(n),c&&ue(r),_n(f,c),i=!1,a()}}}function pn(e){let t,n=e[39]+"",r,i;return{c(){t=T("option"),r=Se(n),t.__value=i=e[39],t.value=t.__value},m(a,u){ce(a,t,u),M(t,r)},p(a,u){u[0]&128&&n!==(n=a[39]+"")&&Oe(r,n),u[0]&128&&i!==(i=a[39])&&(t.__value=i,t.value=t.__value)},d(a){a&&ue(t)}}}function ti(e){let t;return{c(){t=Se("\u25B6")},m(n,r){ce(n,t,r)},d(n){n&&ue(t)}}}function ni(e){let t;return{c(){t=Se("\u275A\u275A")},m(n,r){ce(n,t,r)},d(n){n&&ue(t)}}}function ri(e){let t;return{c(){t=T("p"),t.textContent="Loading data..."},m(n,r){ce(n,t,r)},p:Re,i:Re,o:Re,d(n){n&&ue(t)}}}function ii(e){let t,n;return t=new ei({props:{data:e[10],domainColumn:e[6],selectedValues:e[8],opacity:e[9],searchQuery:e[12],showAnnotations:e[13]}}),{c(){bn(t.$$.fragment)},m(r,i){Nt(t,r,i),n=!0},p(r,i){const a={};i[0]&1024&&(a.data=r[10]),i[0]&64&&(a.domainColumn=r[6]),i[0]&256&&(a.selectedValues=r[8]),i[0]&512&&(a.opacity=r[9]),i[0]&4096&&(a.searchQuery=r[12]),i[0]&8192&&(a.showAnnotations=r[13]),t.$set(a)},i(r){n||(Ke(t.$$.fragment,r),n=!0)},o(r){ot(t.$$.fragment,r),n=!1},d(r){Ot(t,r)}}}function si(e){let t,n,r,i,a,u,f,c,l,g,p,k,Q,E,m,x,P,de,ie,B,J,Y,H,o,s,h,d,_,v,z,W,F,C,j,y,G,R,A,w,Z=Ne(e[0])+"",$,O,L,b=Ne(e[1])+"",D,ee,N,V,he,X,K,I,pe,q,re,se,Ce,xe,_e,te,oe,fe,be,ae=e[5].length&&cn(e),ye=e[7].length&&dn(e);function qe(U,me){return U[11]?ni:ti}let ve=qe(e),ge=ve(e);const Ae=[ii,ri],ke=[];function zt(U,me){return U[10].length?0:1}return _e=zt(e),te=ke[_e]=Ae[_e](e),{c(){t=T("div"),n=T("div"),n.innerHTML=`<h1 class="title svelte-lotiap">North Carolina Semantic Map [DEMO]</h1> 
    <p class="subtitle svelte-lotiap">This semantic map contains data from three organizations in North Carolina. <a href="https://peacemakeronline.com/">Carolina Peacemaker</a> and <a href="https://borderbelt.org">Border Belt</a> are local news organizations and <a href="https://www.nccoast.org/about-us/">NC Coastal Federation</a> is a nonprofit focused on coastal restoration.</p>`,r=ne(),i=T("div"),a=T("div"),u=T("div"),u.innerHTML=`<details open=""><summary class="svelte-lotiap">\u2795 What is a Semantic Map?</summary> 
          <div class="nerd-box-content svelte-lotiap"><p class="svelte-lotiap">Semantic maps are tools that allow users to visually explore how different topics and ideas are connected. 
              By analyzing the relationships between articles, these maps can reveal patterns and clusters in the data.</p> 
            <p class="svelte-lotiap">Each dot in this semantic map represents an article. When the dots are closer together, the articles are similar in meaning.</p> 
            <p class="svelte-lotiap">Newsrooms can use semantic maps to:</p> 
            <ul class="svelte-lotiap"><li class="svelte-lotiap">Audit their coverage by identifying themes that may be underrepresented or overlooked.</li> 
              <li class="svelte-lotiap">Track how their editorial focus evolves over time.</li> 
              <li class="svelte-lotiap">Discover which topics are being covered by other outlets, offering opportunities to adjust their editorial focus or collaborate.</li></ul></div></details>`,f=ne(),c=T("label"),c.textContent="\u{1F4C1} Upload CSV:",l=ne(),g=T("input"),p=ne(),k=T("label"),k.textContent="\u{1F50D} Search Title:",Q=ne(),E=T("input"),m=ne(),ae&&ae.c(),x=ne(),ye&&ye.c(),P=ne(),de=T("label"),de.textContent="\u{1F4A1} Adjust Opacity:",ie=ne(),B=T("input"),J=ne(),Y=T("div"),H=T("label"),H.textContent="\u{1F4C5} Date Range:",o=ne(),s=T("input"),d=ne(),_=T("input"),z=ne(),W=T("div"),F=T("input"),j=ne(),y=T("input"),R=ne(),A=T("div"),w=T("span"),$=Se(Z),O=ne(),L=T("span"),D=Se(b),ee=ne(),N=T("div"),V=T("button"),V.textContent="-1W",he=ne(),X=T("button"),X.textContent="-1D",K=ne(),I=T("button"),ge.c(),pe=ne(),q=T("button"),q.textContent="+1D",re=ne(),se=T("button"),se.textContent="+1W",Ce=ne(),xe=T("div"),te.c(),S(n,"class","title-section svelte-lotiap"),S(u,"class","nerd-box svelte-lotiap"),S(c,"class","svelte-lotiap"),S(g,"type","file"),S(g,"accept",".csv"),S(g,"class","svelte-lotiap"),S(k,"class","svelte-lotiap"),S(E,"type","text"),S(E,"placeholder","Search..."),S(E,"class","svelte-lotiap"),S(de,"class","svelte-lotiap"),S(B,"type","range"),S(B,"min","0.01"),S(B,"max","1"),S(B,"step","0.1"),S(B,"class","svelte-lotiap"),S(H,"class","svelte-lotiap"),S(s,"type","date"),s.value=h=Ne(e[0]),S(s,"class","svelte-lotiap"),S(_,"type","date"),_.value=v=Ne(e[1]),S(_,"class","svelte-lotiap"),S(F,"type","range"),S(F,"min","0"),S(F,"max",C=e[2].length-1),S(F,"class","slider start-slider svelte-lotiap"),S(y,"type","range"),S(y,"min","0"),S(y,"max",G=e[2].length-1),S(y,"class","slider end-slider svelte-lotiap"),S(W,"class","date-range-slider svelte-lotiap"),je(W,"--start-percent",e[15]+"%"),je(W,"--end-percent",e[14]+"%"),S(A,"class","date-range-labels svelte-lotiap"),S(V,"class","svelte-lotiap"),S(X,"class","svelte-lotiap"),S(I,"class","play-button svelte-lotiap"),S(q,"class","svelte-lotiap"),S(se,"class","svelte-lotiap"),S(N,"class","date-navigation svelte-lotiap"),S(Y,"class","date-controls svelte-lotiap"),S(a,"class","filter-panel svelte-lotiap"),S(xe,"class","scatterplot-container svelte-lotiap"),S(i,"class","content svelte-lotiap"),S(t,"class","container svelte-lotiap")},m(U,me){ce(U,t,me),M(t,n),M(t,r),M(t,i),M(i,a),M(a,u),M(a,f),M(a,c),M(a,l),M(a,g),M(a,p),M(a,k),M(a,Q),M(a,E),M(a,m),ae&&ae.m(a,null),M(a,x),ye&&ye.m(a,null),M(a,P),M(a,de),M(a,ie),M(a,B),Pe(B,e[9]),M(a,J),M(a,Y),M(Y,H),M(Y,o),M(Y,s),M(Y,d),M(Y,_),M(Y,z),M(Y,W),M(W,F),Pe(F,e[3]),M(W,j),M(W,y),Pe(y,e[4]),M(Y,R),M(Y,A),M(A,w),M(w,$),M(A,O),M(A,L),M(L,D),M(Y,ee),M(Y,N),M(N,V),M(N,he),M(N,X),M(N,K),M(N,I),ge.m(I,null),M(N,pe),M(N,q),M(N,re),M(N,se),M(i,Ce),M(i,xe),ke[_e].m(xe,null),oe=!0,fe||(be=[le(g,"change",e[19]),le(E,"input",e[22]),le(B,"change",e[26]),le(B,"input",e[26]),le(B,"input",e[23]),le(s,"change",e[27]),le(_,"change",e[28]),le(F,"change",e[29]),le(F,"input",e[29]),le(F,"input",e[30]),le(y,"change",e[31]),le(y,"input",e[31]),le(y,"input",e[32]),le(V,"click",e[33]),le(X,"click",e[34]),le(I,"click",e[21]),le(q,"click",e[35]),le(se,"click",e[36])],fe=!0)},p(U,me){U[5].length?ae?ae.p(U,me):(ae=cn(U),ae.c(),ae.m(a,x)):ae&&(ae.d(1),ae=null),U[7].length?ye?ye.p(U,me):(ye=dn(U),ye.c(),ye.m(a,P)):ye&&(ye.d(1),ye=null),me[0]&512&&Pe(B,U[9]),(!oe||me[0]&1&&h!==(h=Ne(U[0])))&&(s.value=h),(!oe||me[0]&2&&v!==(v=Ne(U[1])))&&(_.value=v),(!oe||me[0]&4&&C!==(C=U[2].length-1))&&S(F,"max",C),me[0]&8&&Pe(F,U[3]),(!oe||me[0]&4&&G!==(G=U[2].length-1))&&S(y,"max",G),me[0]&16&&Pe(y,U[4]),(!oe||me[0]&32768)&&je(W,"--start-percent",U[15]+"%"),(!oe||me[0]&16384)&&je(W,"--end-percent",U[14]+"%"),(!oe||me[0]&1)&&Z!==(Z=Ne(U[0])+"")&&Oe($,Z),(!oe||me[0]&2)&&b!==(b=Ne(U[1])+"")&&Oe(D,b),ve!==(ve=qe(U))&&(ge.d(1),ge=ve(U),ge&&(ge.c(),ge.m(I,null)));let dt=_e;_e=zt(U),_e===dt?ke[_e].p(U,me):(zn(),ot(ke[dt],1,1,()=>{ke[dt]=null}),Fn(),te=ke[_e],te?te.p(U,me):(te=ke[_e]=Ae[_e](U),te.c()),Ke(te,1),te.m(xe,null))},i(U){oe||(Ke(te),oe=!0)},o(U){ot(te),oe=!1},d(U){U&&ue(t),ae&&ae.d(),ye&&ye.d(),ge.d(),ke[_e].d(),fe=!1,De(be)}}}function Ne(e){return e?e.toISOString().split("T")[0]:""}function ai(e,t,n){let r,i,a=[],u=[],f="org",c=[],l=new Set,g=.5,p=null,k=null,Q=[],E=[],m=0,x=0,P=!1,de=null,ie="",B=!0;At(async()=>{const L=await(await fetch("/semantic-maps/data.csv")).text();return J(L),()=>{de&&clearInterval(de)}});function J(O){const L=Bn.parse(O,{header:!0});n(24,a=L.data.filter(b=>b.x&&b.y&&b.date).map(b=>({...b,x:+b.x,y:+b.y,date:new Date(b.date)}))),n(5,u=L.meta.fields||[]),n(2,E=[...new Set(a.map(b=>b.date.getTime()))].sort((b,D)=>b-D).map(b=>new Date(b))),n(0,p=E[0]),n(1,k=E[E.length-1]),n(3,m=0),n(4,x=E.length-1),f&&n(7,c=[...new Set(a.map(b=>b[f]).filter(Boolean))])}function Y(O){n(6,f=O.target.value),n(7,c=f?[...new Set(a.map(L=>L[f]).filter(Boolean))]:[]),n(8,l=new Set),n(13,B=!1)}function H(O){n(8,l=new Set([...O.target.selectedOptions].map(L=>L.value))),n(13,B=!1)}function o(O,L){const b=O.target.value?new Date(O.target.value):null;L==="start"?n(0,p=b):n(1,k=b),n(13,B=!1)}function s(O){const L=O.target.files[0];if(L){const b=new FileReader;n(13,B=!1),b.onload=D=>J(D.target.result),b.readAsText(L)}}function h(O){const L=x-m;let b=m+O,D=x+O;b<0&&(b=0,D=L),D>=E.length&&(D=E.length-1,b=Math.max(0,D-L)),n(3,m=b),n(4,x=D),n(0,p=E[m]||E[0]),n(1,k=E[x]||E[E.length-1]),n(13,B=!1)}function d(){P?(clearInterval(de),n(11,P=!1)):(n(11,P=!0),n(13,B=!1),de=setInterval(()=>{if(x>=E.length-1){clearInterval(de),n(11,P=!1);return}h(1)},500))}function _(O){n(12,ie=O.target.value),n(13,B=!1)}function v(){n(13,B=!1)}function z(){f=In(this),n(6,f),n(5,u)}function W(){g=pt(this.value),n(9,g)}const F=O=>o(O,"start"),C=O=>o(O,"end");function j(){m=pt(this.value),n(3,m)}const y=()=>{m>x&&n(3,m=x),n(0,p=E[m]),n(13,B=!1)};function G(){x=pt(this.value),n(4,x)}const R=()=>{x<m&&n(4,x=m),n(1,k=E[x]),n(13,B=!1)},A=()=>h(-7),w=()=>h(-1),Z=()=>h(1),$=()=>h(7);return e.$$.update=()=>{e.$$.dirty[0]&16777219&&n(10,Q=a.filter(O=>(!p||O.date>=p)&&(!k||O.date<=k))),e.$$.dirty[0]&12&&n(15,r=E.length>1?m/(E.length-1)*100:0),e.$$.dirty[0]&20&&n(14,i=E.length>1?x/(E.length-1)*100:100)},[p,k,E,m,x,u,f,c,l,g,Q,P,ie,B,i,r,Y,H,o,s,h,d,_,v,a,z,W,F,C,j,y,G,R,A,w,Z,$]}class oi extends It{constructor(t){super(),Dt(this,t,ai,si,Rt,{},null,[-1,-1])}}new oi({target:document.getElementById("app")});
