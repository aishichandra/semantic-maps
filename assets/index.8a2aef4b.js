(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ee(){}function yn(e){return e()}function Ht(){return Object.create(null)}function Ae(e){e.forEach(yn)}function bn(e){return typeof e=="function"}function gt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Tn(e){return Object.keys(e).length===0}function R(e,t){e.appendChild(t)}function ce(e,t,n){e.insertBefore(t,n||null)}function ue(e){e.parentNode.removeChild(e)}function xn(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function P(e){return document.createElement(e)}function Me(e){return document.createTextNode(e)}function ee(){return Me(" ")}function fe(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function D(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ln(e){return e===""?null:+e}function Pn(e){return Array.from(e.childNodes)}function Ie(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function qt(e,t){e.value=t==null?"":t}function Se(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Vt(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t){r.selected=!0;return}}e.selectedIndex=-1}function jn(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function Fn(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}let Ke;function We(e){Ke=e}function wn(){if(!Ke)throw new Error("Function called outside component initialization");return Ke}function Ot(e){wn().$$.on_mount.push(e)}function zn(){const e=wn();return(t,n,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const s=Fn(t,n,{cancelable:r});return i.slice().forEach(l=>{l.call(e,s)}),!s.defaultPrevented}return!0}}const Be=[],Oe=[],rt=[],Mt=[],Hn=Promise.resolve();let Et=!1;function qn(){Et||(Et=!0,Hn.then(vn))}function lt(e){rt.push(e)}function Bt(e){Mt.push(e)}const xt=new Set;let Ze=0;function vn(){const e=Ke;do{for(;Ze<Be.length;){const t=Be[Ze];Ze++,We(t),Vn(t.$$)}for(We(null),Be.length=0,Ze=0;Oe.length;)Oe.pop()();for(let t=0;t<rt.length;t+=1){const n=rt[t];xt.has(n)||(xt.add(n),n())}rt.length=0}while(Be.length);for(;Mt.length;)Mt.pop()();Et=!1,xt.clear(),We(e)}function Vn(e){if(e.fragment!==null){e.update(),Ae(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(lt)}}const it=new Set;let Le;function Bn(){Le={r:0,c:[],p:Le}}function Wn(){Le.r||Ae(Le.c),Le=Le.p}function ze(e,t){e&&e.i&&(it.delete(e),e.i(t))}function Ue(e,t,n,r){if(e&&e.o){if(it.has(e))return;it.add(e),Le.c.push(()=>{it.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function Wt(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function Tt(e){e&&e.c()}function pt(e,t,n,r){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),r||lt(()=>{const l=e.$$.on_mount.map(yn).filter(bn);e.$$.on_destroy?e.$$.on_destroy.push(...l):Ae(l),e.$$.on_mount=[]}),s.forEach(lt)}function mt(e,t){const n=e.$$;n.fragment!==null&&(Ae(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Un(e,t){e.$$.dirty[0]===-1&&(Be.push(e),qn(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function _t(e,t,n,r,i,s,l,f=[-1]){const c=Ke;We(e);const o=e.$$={fragment:null,ctx:[],props:s,update:Ee,not_equal:i,bound:Ht(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Ht(),dirty:f,skip_bound:!1,root:t.target||c.$$.root};l&&l(o.root);let d=!1;if(o.ctx=n?n(e,t.props||{},(p,b,...N)=>{const v=N.length?N[0]:b;return o.ctx&&i(o.ctx[p],o.ctx[p]=v)&&(!o.skip_bound&&o.bound[p]&&o.bound[p](v),d&&Un(e,p)),b}):[],o.update(),d=!0,Ae(o.before_update),o.fragment=r?r(o.ctx):!1,t.target){if(t.hydrate){const p=Pn(t.target);o.fragment&&o.fragment.l(p),p.forEach(ue)}else o.fragment&&o.fragment.c();t.intro&&ze(e.$$.fragment),pt(e,t.target,t.anchor,t.customElement),vn()}We(c)}class yt{$destroy(){mt(this,1),this.$destroy=Ee}$on(t,n){if(!bn(n))return Ee;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Tn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var Kn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kn={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(Kn,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,l=r.IS_PAPA_WORKER||!1,f={},c=0,o={};function d(u){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(a){var h=G(a);h.chunkSize=parseInt(h.chunkSize),a.step||a.chunk||(h.chunkSize=null),this._handle=new m(h),(this._handle.streamer=this)._config=h}.call(this,u),this.parseChunk=function(a,h){var g=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<g){let S=this._config.newline;S||(_=this._config.quoteChar||'"',S=this._handle.guessLineEndings(a,_)),a=[...a.split(S).slice(g)].join(S)}this.isFirstChunk&&V(this._config.beforeFirstChunk)&&(_=this._config.beforeFirstChunk(a))!==void 0&&(a=_),this.isFirstChunk=!1,this._halted=!1;var g=this._partialLine+a,_=(this._partialLine="",this._handle.parse(g,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(a=_.meta.cursor,g=(this._finished||(this._partialLine=g.substring(a-this._baseIndex),this._baseIndex=a),_&&_.data&&(this._rowCount+=_.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)r.postMessage({results:_,workerId:o.WORKER_ID,finished:g});else if(V(this._config.chunk)&&!h){if(this._config.chunk(_,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=_=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(_.data),this._completeResults.errors=this._completeResults.errors.concat(_.errors),this._completeResults.meta=_.meta),this._completed||!g||!V(this._config.complete)||_&&_.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),g||_&&_.meta.paused||this._nextChunk(),_}this._halted=!0},this._sendError=function(a){V(this._config.error)?this._config.error(a):l&&this._config.error&&r.postMessage({workerId:o.WORKER_ID,error:a,finished:!1})}}function p(u){var a;(u=u||{}).chunkSize||(u.chunkSize=o.RemoteChunkSize),d.call(this,u),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(h){this._input=h,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(a=new XMLHttpRequest,this._config.withCredentials&&(a.withCredentials=this._config.withCredentials),s||(a.onload=U(this._chunkLoaded,this),a.onerror=U(this._chunkError,this)),a.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var h,g=this._config.downloadRequestHeaders;for(h in g)a.setRequestHeader(h,g[h])}var _;this._config.chunkSize&&(_=this._start+this._config.chunkSize-1,a.setRequestHeader("Range","bytes="+this._start+"-"+_));try{a.send(this._config.downloadRequestBody)}catch(S){this._chunkError(S.message)}s&&a.status===0&&this._chunkError()}},this._chunkLoaded=function(){a.readyState===4&&(a.status<200||400<=a.status?this._chunkError():(this._start+=this._config.chunkSize||a.responseText.length,this._finished=!this._config.chunkSize||this._start>=(h=>(h=h.getResponseHeader("Content-Range"))!==null?parseInt(h.substring(h.lastIndexOf("/")+1)):-1)(a),this.parseChunk(a.responseText)))},this._chunkError=function(h){h=a.statusText||h,this._sendError(new Error(h))}}function b(u){(u=u||{}).chunkSize||(u.chunkSize=o.LocalChunkSize),d.call(this,u);var a,h,g=typeof FileReader<"u";this.stream=function(_){this._input=_,h=_.slice||_.webkitSlice||_.mozSlice,g?((a=new FileReader).onload=U(this._chunkLoaded,this),a.onerror=U(this._chunkError,this)):a=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var _=this._input,S=(this._config.chunkSize&&(S=Math.min(this._start+this._config.chunkSize,this._input.size),_=h.call(_,this._start,S)),a.readAsText(_,this._config.encoding));g||this._chunkLoaded({target:{result:S}})},this._chunkLoaded=function(_){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(_.target.result)},this._chunkError=function(){this._sendError(a.error)}}function N(u){var a;d.call(this,u=u||{}),this.stream=function(h){return a=h,this._nextChunk()},this._nextChunk=function(){var h,g;if(!this._finished)return h=this._config.chunkSize,a=h?(g=a.substring(0,h),a.substring(h)):(g=a,""),this._finished=!a,this.parseChunk(g)}}function v(u){d.call(this,u=u||{});var a=[],h=!0,g=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(_){this._input=_,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){g&&a.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),a.length?this.parseChunk(a.shift()):h=!0},this._streamData=U(function(_){try{a.push(typeof _=="string"?_:_.toString(this._config.encoding)),h&&(h=!1,this._checkIsFinished(),this.parseChunk(a.shift()))}catch(S){this._streamError(S)}},this),this._streamError=U(function(_){this._streamCleanUp(),this._sendError(_)},this),this._streamEnd=U(function(){this._streamCleanUp(),g=!0,this._streamData("")},this),this._streamCleanUp=U(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(u){var a,h,g,_,S=Math.pow(2,53),H=-S,B=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,k=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,E=this,T=0,x=0,z=!1,A=!1,L=[],C={data:[],errors:[],meta:{}};function re(y){return u.skipEmptyLines==="greedy"?y.join("").trim()==="":y.length===1&&y[0].length===0}function $(){if(C&&g&&(I("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),g=!1),u.skipEmptyLines&&(C.data=C.data.filter(function(ie){return!re(ie)})),M()){let ie=function(oe,se){V(u.transformHeader)&&(oe=u.transformHeader(oe,se)),L.push(oe)};var F=ie;if(C)if(Array.isArray(C.data[0])){for(var y=0;M()&&y<C.data.length;y++)C.data[y].forEach(ie);C.data.splice(0,1)}else C.data.forEach(ie)}function O(ie,oe){for(var se=u.header?{}:[],K=0;K<ie.length;K++){var q=K,he=ie[K],he=((Q,J)=>(Y=>(u.dynamicTypingFunction&&u.dynamicTyping[Y]===void 0&&(u.dynamicTyping[Y]=u.dynamicTypingFunction(Y)),(u.dynamicTyping[Y]||u.dynamicTyping)===!0))(Q)?J==="true"||J==="TRUE"||J!=="false"&&J!=="FALSE"&&((Y=>{if(B.test(Y)&&(Y=parseFloat(Y),H<Y&&Y<S))return 1})(J)?parseFloat(J):k.test(J)?new Date(J):J===""?null:J):J)(q=u.header?K>=L.length?"__parsed_extra":L[K]:q,he=u.transform?u.transform(he,q):he);q==="__parsed_extra"?(se[q]=se[q]||[],se[q].push(he)):se[q]=he}return u.header&&(K>L.length?I("FieldMismatch","TooManyFields","Too many fields: expected "+L.length+" fields but parsed "+K,x+oe):K<L.length&&I("FieldMismatch","TooFewFields","Too few fields: expected "+L.length+" fields but parsed "+K,x+oe)),se}var ne;C&&(u.header||u.dynamicTyping||u.transform)&&(ne=1,!C.data.length||Array.isArray(C.data[0])?(C.data=C.data.map(O),ne=C.data.length):C.data=O(C.data,0),u.header&&C.meta&&(C.meta.fields=L),x+=ne)}function M(){return u.header&&L.length===0}function I(y,O,ne,F){y={type:y,code:O,message:ne},F!==void 0&&(y.row=F),C.errors.push(y)}V(u.step)&&(_=u.step,u.step=function(y){C=y,M()?$():($(),C.data.length!==0&&(T+=y.data.length,u.preview&&T>u.preview?h.abort():(C.data=C.data[0],_(C,E))))}),this.parse=function(y,O,ne){var F=u.quoteChar||'"',F=(u.newline||(u.newline=this.guessLineEndings(y,F)),g=!1,u.delimiter?V(u.delimiter)&&(u.delimiter=u.delimiter(y),C.meta.delimiter=u.delimiter):((F=((ie,oe,se,K,q)=>{var he,Q,J,Y;q=q||[",","	","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var me=0;me<q.length;me++){for(var de,Re=q[me],ge=0,le=0,X=0,_e=(J=void 0,new j({comments:K,delimiter:Re,newline:oe,preview:10}).parse(ie)),xe=0;xe<_e.data.length;xe++)se&&re(_e.data[xe])?X++:(de=_e.data[xe].length,le+=de,J===void 0?J=de:0<de&&(ge+=Math.abs(de-J),J=de));0<_e.data.length&&(le/=_e.data.length-X),(Q===void 0||ge<=Q)&&(Y===void 0||Y<le)&&1.99<le&&(Q=ge,he=Re,Y=le)}return{successful:!!(u.delimiter=he),bestDelimiter:he}})(y,u.newline,u.skipEmptyLines,u.comments,u.delimitersToGuess)).successful?u.delimiter=F.bestDelimiter:(g=!0,u.delimiter=o.DefaultDelimiter),C.meta.delimiter=u.delimiter),G(u));return u.preview&&u.header&&F.preview++,a=y,h=new j(F),C=h.parse(a,O,ne),$(),z?{meta:{paused:!0}}:C||{meta:{paused:!1}}},this.paused=function(){return z},this.pause=function(){z=!0,h.abort(),a=V(u.chunk)?"":a.substring(h.getCharIndex())},this.resume=function(){E.streamer._halted?(z=!1,E.streamer.parseChunk(a,!0)):setTimeout(E.resume,3)},this.aborted=function(){return A},this.abort=function(){A=!0,h.abort(),C.meta.aborted=!0,V(u.complete)&&u.complete(C),a=""},this.guessLineEndings=function(ie,F){ie=ie.substring(0,1048576);var F=new RegExp(w(F)+"([^]*?)"+w(F),"gm"),ne=(ie=ie.replace(F,"")).split("\r"),F=ie.split(`
`),ie=1<F.length&&F[0].length<ne[0].length;if(ne.length===1||ie)return`
`;for(var oe=0,se=0;se<ne.length;se++)ne[se][0]===`
`&&oe++;return oe>=ne.length/2?`\r
`:"\r"}}function w(u){return u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function j(u){var a=(u=u||{}).delimiter,h=u.newline,g=u.comments,_=u.step,S=u.preview,H=u.fastMode,B=null,k=!1,E=u.quoteChar==null?'"':u.quoteChar,T=E;if(u.escapeChar!==void 0&&(T=u.escapeChar),(typeof a!="string"||-1<o.BAD_DELIMITERS.indexOf(a))&&(a=","),g===a)throw new Error("Comment character same as delimiter");g===!0?g="#":(typeof g!="string"||-1<o.BAD_DELIMITERS.indexOf(g))&&(g=!1),h!==`
`&&h!=="\r"&&h!==`\r
`&&(h=`
`);var x=0,z=!1;this.parse=function(A,L,C){if(typeof A!="string")throw new Error("Input must be a string");var re=A.length,$=a.length,M=h.length,I=g.length,y=V(_),O=[],ne=[],F=[],ie=x=0;if(!A)return ge();if(H||H!==!1&&A.indexOf(E)===-1){for(var oe=A.split(h),se=0;se<oe.length;se++){if(F=oe[se],x+=F.length,se!==oe.length-1)x+=h.length;else if(C)return ge();if(!g||F.substring(0,I)!==g){if(y){if(O=[],Y(F.split(a)),le(),z)return ge()}else Y(F.split(a));if(S&&S<=se)return O=O.slice(0,S),ge(!0)}}return ge()}for(var K=A.indexOf(a,x),q=A.indexOf(h,x),he=new RegExp(w(T)+w(E),"g"),Q=A.indexOf(E,x);;)if(A[x]===E)for(Q=x,x++;;){if((Q=A.indexOf(E,Q+1))===-1)return C||ne.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:O.length,index:x}),de();if(Q===re-1)return de(A.substring(x,Q).replace(he,E));if(E===T&&A[Q+1]===T)Q++;else if(E===T||Q===0||A[Q-1]!==T){K!==-1&&K<Q+1&&(K=A.indexOf(a,Q+1));var J=me((q=q!==-1&&q<Q+1?A.indexOf(h,Q+1):q)===-1?K:Math.min(K,q));if(A.substr(Q+1+J,$)===a){F.push(A.substring(x,Q).replace(he,E)),A[x=Q+1+J+$]!==E&&(Q=A.indexOf(E,x)),K=A.indexOf(a,x),q=A.indexOf(h,x);break}if(J=me(q),A.substring(Q+1+J,Q+1+J+M)===h){if(F.push(A.substring(x,Q).replace(he,E)),Re(Q+1+J+M),K=A.indexOf(a,x),Q=A.indexOf(E,x),y&&(le(),z))return ge();if(S&&O.length>=S)return ge(!0);break}ne.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:O.length,index:x}),Q++}}else if(g&&F.length===0&&A.substring(x,x+I)===g){if(q===-1)return ge();x=q+M,q=A.indexOf(h,x),K=A.indexOf(a,x)}else if(K!==-1&&(K<q||q===-1))F.push(A.substring(x,K)),x=K+$,K=A.indexOf(a,x);else{if(q===-1)break;if(F.push(A.substring(x,q)),Re(q+M),y&&(le(),z))return ge();if(S&&O.length>=S)return ge(!0)}return de();function Y(X){O.push(X),ie=x}function me(X){var _e=0;return _e=X!==-1&&(X=A.substring(Q+1,X))&&X.trim()===""?X.length:_e}function de(X){return C||(X===void 0&&(X=A.substring(x)),F.push(X),x=re,Y(F),y&&le()),ge()}function Re(X){x=X,Y(F),F=[],q=A.indexOf(h,x)}function ge(X){if(u.header&&!L&&O.length&&!k){var _e=O[0],xe={},Te=new Set(_e);let Ve=!1;for(let we=0;we<_e.length;we++){let pe=_e[we];if(xe[pe=V(u.transformHeader)?u.transformHeader(pe,we):pe]){let Ne,ve=xe[pe];for(;Ne=pe+"_"+ve,ve++,Te.has(Ne););Te.add(Ne),_e[we]=Ne,xe[pe]++,Ve=!0,(B=B===null?{}:B)[Ne]=pe}else xe[pe]=1,_e[we]=pe;Te.add(pe)}Ve&&console.warn("Duplicate headers found and renamed."),k=!0}return{data:O,errors:ne,meta:{delimiter:a,linebreak:h,aborted:z,truncated:!!X,cursor:ie+(L||0),renamedHeaders:B}}}function le(){_(ge()),O=[],ne=[]}},this.abort=function(){z=!0},this.getCharIndex=function(){return x}}function ae(u){var a=u.data,h=f[a.workerId],g=!1;if(a.error)h.userError(a.error,a.file);else if(a.results&&a.results.data){var _={abort:function(){g=!0,te(a.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Z,resume:Z};if(V(h.userStep)){for(var S=0;S<a.results.data.length&&(h.userStep({data:a.results.data[S],errors:a.results.errors,meta:a.results.meta},_),!g);S++);delete a.results}else V(h.userChunk)&&(h.userChunk(a.results,_,a.file),delete a.results)}a.finished&&!g&&te(a.workerId,a.results)}function te(u,a){var h=f[u];V(h.userComplete)&&h.userComplete(a),h.terminate(),delete f[u]}function Z(){throw new Error("Not implemented.")}function G(u){if(typeof u!="object"||u===null)return u;var a,h=Array.isArray(u)?[]:{};for(a in u)h[a]=G(u[a]);return h}function U(u,a){return function(){u.apply(a,arguments)}}function V(u){return typeof u=="function"}return o.parse=function(u,a){var h=(a=a||{}).dynamicTyping||!1;if(V(h)&&(a.dynamicTypingFunction=h,h={}),a.dynamicTyping=h,a.transform=!!V(a.transform)&&a.transform,!a.worker||!o.WORKERS_SUPPORTED)return h=null,o.NODE_STREAM_INPUT,typeof u=="string"?(u=(g=>g.charCodeAt(0)!==65279?g:g.slice(1))(u),h=new(a.download?p:N)(a)):u.readable===!0&&V(u.read)&&V(u.on)?h=new v(a):(r.File&&u instanceof File||u instanceof Object)&&(h=new b(a)),h.stream(u);(h=(()=>{var g;return!!o.WORKERS_SUPPORTED&&(g=(()=>{var _=r.URL||r.webkitURL||null,S=n.toString();return o.BLOB_URL||(o.BLOB_URL=_.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",S,")();"],{type:"text/javascript"})))})(),(g=new r.Worker(g)).onmessage=ae,g.id=c++,f[g.id]=g)})()).userStep=a.step,h.userChunk=a.chunk,h.userComplete=a.complete,h.userError=a.error,a.step=V(a.step),a.chunk=V(a.chunk),a.complete=V(a.complete),a.error=V(a.error),delete a.worker,h.postMessage({input:u,config:a,workerId:h.id})},o.unparse=function(u,a){var h=!1,g=!0,_=",",S=`\r
`,H='"',B=H+H,k=!1,E=null,T=!1,x=((()=>{if(typeof a=="object"){if(typeof a.delimiter!="string"||o.BAD_DELIMITERS.filter(function(L){return a.delimiter.indexOf(L)!==-1}).length||(_=a.delimiter),typeof a.quotes!="boolean"&&typeof a.quotes!="function"&&!Array.isArray(a.quotes)||(h=a.quotes),typeof a.skipEmptyLines!="boolean"&&typeof a.skipEmptyLines!="string"||(k=a.skipEmptyLines),typeof a.newline=="string"&&(S=a.newline),typeof a.quoteChar=="string"&&(H=a.quoteChar),typeof a.header=="boolean"&&(g=a.header),Array.isArray(a.columns)){if(a.columns.length===0)throw new Error("Option columns is empty");E=a.columns}a.escapeChar!==void 0&&(B=a.escapeChar+H),a.escapeFormulae instanceof RegExp?T=a.escapeFormulae:typeof a.escapeFormulae=="boolean"&&a.escapeFormulae&&(T=/^[=+\-@\t\r].*$/)}})(),new RegExp(w(H),"g"));if(typeof u=="string"&&(u=JSON.parse(u)),Array.isArray(u)){if(!u.length||Array.isArray(u[0]))return z(null,u,k);if(typeof u[0]=="object")return z(E||Object.keys(u[0]),u,k)}else if(typeof u=="object")return typeof u.data=="string"&&(u.data=JSON.parse(u.data)),Array.isArray(u.data)&&(u.fields||(u.fields=u.meta&&u.meta.fields||E),u.fields||(u.fields=Array.isArray(u.data[0])?u.fields:typeof u.data[0]=="object"?Object.keys(u.data[0]):[]),Array.isArray(u.data[0])||typeof u.data[0]=="object"||(u.data=[u.data])),z(u.fields||[],u.data||[],k);throw new Error("Unable to serialize unrecognized input");function z(L,C,re){var $="",M=(typeof L=="string"&&(L=JSON.parse(L)),typeof C=="string"&&(C=JSON.parse(C)),Array.isArray(L)&&0<L.length),I=!Array.isArray(C[0]);if(M&&g){for(var y=0;y<L.length;y++)0<y&&($+=_),$+=A(L[y],y);0<C.length&&($+=S)}for(var O=0;O<C.length;O++){var ne=(M?L:C[O]).length,F=!1,ie=M?Object.keys(C[O]).length===0:C[O].length===0;if(re&&!M&&(F=re==="greedy"?C[O].join("").trim()==="":C[O].length===1&&C[O][0].length===0),re==="greedy"&&M){for(var oe=[],se=0;se<ne;se++){var K=I?L[se]:se;oe.push(C[O][K])}F=oe.join("").trim()===""}if(!F){for(var q=0;q<ne;q++){0<q&&!ie&&($+=_);var he=M&&I?L[q]:q;$+=A(C[O][he],q)}O<C.length-1&&(!re||0<ne&&!ie)&&($+=S)}}return $}function A(L,C){var re,$;return L==null?"":L.constructor===Date?JSON.stringify(L).slice(1,25):($=!1,T&&typeof L=="string"&&T.test(L)&&(L="'"+L,$=!0),re=L.toString().replace(x,B),($=$||h===!0||typeof h=="function"&&h(L,C)||Array.isArray(h)&&h[C]||((M,I)=>{for(var y=0;y<I.length;y++)if(-1<M.indexOf(I[y]))return!0;return!1})(re,o.BAD_DELIMITERS)||-1<re.indexOf(_)||re.charAt(0)===" "||re.charAt(re.length-1)===" ")?H+re+H:re)}},o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\uFEFF",o.BAD_DELIMITERS=["\r",`
`,'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!s&&!!r.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=j,o.ParserHandle=m,o.NetworkStreamer=p,o.FileStreamer=b,o.StringStreamer=N,o.ReadableStreamStreamer=v,r.jQuery&&((i=r.jQuery).fn.parse=function(u){var a=u.config||{},h=[];return this.each(function(S){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var H=0;H<this.files.length;H++)h.push({file:this.files[H],inputElem:this,instanceConfig:i.extend({},a)})}),g(),this;function g(){if(h.length===0)V(u.complete)&&u.complete();else{var S,H,B,k,E=h[0];if(V(u.before)){var T=u.before(E.file,E.inputElem);if(typeof T=="object"){if(T.action==="abort")return S="AbortError",H=E.file,B=E.inputElem,k=T.reason,void(V(u.error)&&u.error({name:S},H,B,k));if(T.action==="skip")return void _();typeof T.config=="object"&&(E.instanceConfig=i.extend(E.instanceConfig,T.config))}else if(T==="skip")return void _()}var x=E.instanceConfig.complete;E.instanceConfig.complete=function(z){V(x)&&x(z,E.file,E.inputElem),_()},o.parse(E.file,E.instanceConfig)}}function _(){h.splice(0,1),g()}}),l&&(r.onmessage=function(u){u=u.data,o.WORKER_ID===void 0&&u&&(o.WORKER_ID=u.workerId),typeof u.input=="string"?r.postMessage({workerId:o.WORKER_ID,results:o.parse(u.input,u.config),finished:!0}):(r.File&&u.input instanceof File||u.input instanceof Object)&&(u=o.parse(u.input,u.config))&&r.postMessage({workerId:o.WORKER_ID,results:u,finished:!0})}),(p.prototype=Object.create(d.prototype)).constructor=p,(b.prototype=Object.create(d.prototype)).constructor=b,(N.prototype=Object.create(N.prototype)).constructor=N,(v.prototype=Object.create(d.prototype)).constructor=v,o})})(kn);const Qn=kn.exports;function st(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xn(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Mn(e){let t,n,r;e.length!==2?(t=st,n=(f,c)=>st(e(f),c),r=(f,c)=>e(f)-c):(t=e===st||e===Xn?e:Yn,n=e,r=e);function i(f,c,o=0,d=f.length){if(o<d){if(t(c,c)!==0)return d;do{const p=o+d>>>1;n(f[p],c)<0?o=p+1:d=p}while(o<d)}return o}function s(f,c,o=0,d=f.length){if(o<d){if(t(c,c)!==0)return d;do{const p=o+d>>>1;n(f[p],c)<=0?o=p+1:d=p}while(o<d)}return o}function l(f,c,o=0,d=f.length){const p=i(f,c,o,d-1);return p>o&&r(f[p-1],c)>-r(f[p],c)?p-1:p}return{left:i,center:l,right:s}}function Yn(){return 0}function Gn(e){return e===null?NaN:+e}const Jn=Mn(st),Zn=Jn.right;Mn(Gn).center;const $n=Zn;class Ut extends Map{constructor(t,n=nr){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Kt(this,t))}has(t){return super.has(Kt(this,t))}set(t,n){return super.set(er(this,t),n)}delete(t){return super.delete(tr(this,t))}}function Kt({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function er({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function tr({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function nr(e){return e!==null&&typeof e=="object"?e.valueOf():e}var St=Math.sqrt(50),Ct=Math.sqrt(10),Rt=Math.sqrt(2);function rr(e,t,n){var r,i=-1,s,l,f;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(s=e,e=t,t=s),(f=En(e,t,n))===0||!isFinite(f))return[];if(f>0){let c=Math.round(e/f),o=Math.round(t/f);for(c*f<e&&++c,o*f>t&&--o,l=new Array(s=o-c+1);++i<s;)l[i]=(c+i)*f}else{f=-f;let c=Math.round(e*f),o=Math.round(t*f);for(c/f<e&&++c,o/f>t&&--o,l=new Array(s=o-c+1);++i<s;)l[i]=(c+i)/f}return r&&l.reverse(),l}function En(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=St?10:s>=Ct?5:s>=Rt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=St?10:s>=Ct?5:s>=Rt?2:1)}function ir(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=St?i*=10:s>=Ct?i*=5:s>=Rt&&(i*=2),t<e?-i:i}function Qt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Xt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Sn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Yt=Symbol("implicit");function Cn(){var e=new Ut,t=[],n=[],r=Yt;function i(s){let l=e.get(s);if(l===void 0){if(r!==Yt)return r;e.set(s,l=t.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Ut;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Cn(t,n).unknown(r)},Sn.apply(i,arguments),i}function Lt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Rn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ge(){}var Qe=.7,ut=1/Qe,He="\\s*([+-]?\\d+)\\s*",Xe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ce="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sr=/^#([0-9a-f]{3,8})$/,ar=new RegExp(`^rgb\\(${He},${He},${He}\\)$`),or=new RegExp(`^rgb\\(${Ce},${Ce},${Ce}\\)$`),lr=new RegExp(`^rgba\\(${He},${He},${He},${Xe}\\)$`),ur=new RegExp(`^rgba\\(${Ce},${Ce},${Ce},${Xe}\\)$`),fr=new RegExp(`^hsl\\(${Xe},${Ce},${Ce}\\)$`),cr=new RegExp(`^hsla\\(${Xe},${Ce},${Ce},${Xe}\\)$`),Gt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Lt(Ge,Ye,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jt,formatHex:Jt,formatHex8:hr,formatHsl:dr,formatRgb:Zt,toString:Zt});function Jt(){return this.rgb().formatHex()}function hr(){return this.rgb().formatHex8()}function dr(){return An(this).formatHsl()}function Zt(){return this.rgb().formatRgb()}function Ye(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=sr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$t(t):n===3?new be(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?$e(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?$e(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ar.exec(e))?new be(t[1],t[2],t[3],1):(t=or.exec(e))?new be(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=lr.exec(e))?$e(t[1],t[2],t[3],t[4]):(t=ur.exec(e))?$e(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fr.exec(e))?nn(t[1],t[2]/100,t[3]/100,1):(t=cr.exec(e))?nn(t[1],t[2]/100,t[3]/100,t[4]):Gt.hasOwnProperty(e)?$t(Gt[e]):e==="transparent"?new be(NaN,NaN,NaN,0):null}function $t(e){return new be(e>>16&255,e>>8&255,e&255,1)}function $e(e,t,n,r){return r<=0&&(e=t=n=NaN),new be(e,t,n,r)}function gr(e){return e instanceof Ge||(e=Ye(e)),e?(e=e.rgb(),new be(e.r,e.g,e.b,e.opacity)):new be}function At(e,t,n,r){return arguments.length===1?gr(e):new be(e,t,n,r==null?1:r)}function be(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Lt(be,At,Rn(Ge,{brighter(e){return e=e==null?ut:Math.pow(ut,e),new be(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qe:Math.pow(Qe,e),new be(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new be(je(this.r),je(this.g),je(this.b),ft(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:en,formatHex:en,formatHex8:pr,formatRgb:tn,toString:tn}));function en(){return`#${Pe(this.r)}${Pe(this.g)}${Pe(this.b)}`}function pr(){return`#${Pe(this.r)}${Pe(this.g)}${Pe(this.b)}${Pe((isNaN(this.opacity)?1:this.opacity)*255)}`}function tn(){const e=ft(this.opacity);return`${e===1?"rgb(":"rgba("}${je(this.r)}, ${je(this.g)}, ${je(this.b)}${e===1?")":`, ${e})`}`}function ft(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function je(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pe(e){return e=je(e),(e<16?"0":"")+e.toString(16)}function nn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ke(e,t,n,r)}function An(e){if(e instanceof ke)return new ke(e.h,e.s,e.l,e.opacity);if(e instanceof Ge||(e=Ye(e)),!e)return new ke;if(e instanceof ke)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),l=NaN,f=s-i,c=(s+i)/2;return f?(t===s?l=(n-r)/f+(n<r)*6:n===s?l=(r-t)/f+2:l=(t-n)/f+4,f/=c<.5?s+i:2-s-i,l*=60):f=c>0&&c<1?0:l,new ke(l,f,c,e.opacity)}function mr(e,t,n,r){return arguments.length===1?An(e):new ke(e,t,n,r==null?1:r)}function ke(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Lt(ke,mr,Rn(Ge,{brighter(e){return e=e==null?ut:Math.pow(ut,e),new ke(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qe:Math.pow(Qe,e),new ke(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new be(wt(e>=240?e-240:e+120,i,r),wt(e,i,r),wt(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ke(rn(this.h),et(this.s),et(this.l),ft(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ft(this.opacity);return`${e===1?"hsl(":"hsla("}${rn(this.h)}, ${et(this.s)*100}%, ${et(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rn(e){return e=(e||0)%360,e<0?e+360:e}function et(e){return Math.max(0,Math.min(1,e||0))}function wt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Pt=e=>()=>e;function _r(e,t){return function(n){return e+n*t}}function yr(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function br(e){return(e=+e)==1?Nn:function(t,n){return n-t?yr(t,n,e):Pt(isNaN(t)?n:t)}}function Nn(e,t){var n=t-e;return n?_r(e,n):Pt(isNaN(e)?t:e)}const sn=function e(t){var n=br(t);function r(i,s){var l=n((i=At(i)).r,(s=At(s)).r),f=n(i.g,s.g),c=n(i.b,s.b),o=Nn(i.opacity,s.opacity);return function(d){return i.r=l(d),i.g=f(d),i.b=c(d),i.opacity=o(d),i+""}}return r.gamma=e,r}(1);function xr(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function wr(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vr(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=jt(e[l],t[l]);for(;l<n;++l)s[l]=t[l];return function(f){for(l=0;l<r;++l)s[l]=i[l](f);return s}}function kr(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ct(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Mr(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=jt(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Nt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vt=new RegExp(Nt.source,"g");function Er(e){return function(){return e}}function Sr(e){return function(t){return e(t)+""}}function Cr(e,t){var n=Nt.lastIndex=vt.lastIndex=0,r,i,s,l=-1,f=[],c=[];for(e=e+"",t=t+"";(r=Nt.exec(e))&&(i=vt.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),f[l]?f[l]+=s:f[++l]=s),(r=r[0])===(i=i[0])?f[l]?f[l]+=i:f[++l]=i:(f[++l]=null,c.push({i:l,x:ct(r,i)})),n=vt.lastIndex;return n<t.length&&(s=t.slice(n),f[l]?f[l]+=s:f[++l]=s),f.length<2?c[0]?Sr(c[0].x):Er(t):(t=c.length,function(o){for(var d=0,p;d<t;++d)f[(p=c[d]).i]=p.x(o);return f.join("")})}function jt(e,t){var n=typeof t,r;return t==null||n==="boolean"?Pt(t):(n==="number"?ct:n==="string"?(r=Ye(t))?(t=r,sn):Cr:t instanceof Ye?sn:t instanceof Date?kr:wr(t)?xr:Array.isArray(t)?vr:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Mr:ct)(e,t)}function Rr(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ar(e){return function(){return e}}function Nr(e){return+e}var an=[0,1];function Fe(e){return e}function Dt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ar(isNaN(t)?NaN:.5)}function Dr(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Ir(e,t,n){var r=e[0],i=e[1],s=t[0],l=t[1];return i<r?(r=Dt(i,r),s=n(l,s)):(r=Dt(r,i),s=n(s,l)),function(f){return s(r(f))}}function Or(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=Dt(e[l],e[l+1]),s[l]=n(t[l],t[l+1]);return function(f){var c=$n(e,f,1,r)-1;return s[c](i[c](f))}}function Tr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Lr(){var e=an,t=an,n=jt,r,i,s,l=Fe,f,c,o;function d(){var b=Math.min(e.length,t.length);return l!==Fe&&(l=Dr(e[0],e[b-1])),f=b>2?Or:Ir,c=o=null,p}function p(b){return b==null||isNaN(b=+b)?s:(c||(c=f(e.map(r),t,n)))(r(l(b)))}return p.invert=function(b){return l(i((o||(o=f(t,e.map(r),ct)))(b)))},p.domain=function(b){return arguments.length?(e=Array.from(b,Nr),d()):e.slice()},p.range=function(b){return arguments.length?(t=Array.from(b),d()):t.slice()},p.rangeRound=function(b){return t=Array.from(b),n=Rr,d()},p.clamp=function(b){return arguments.length?(l=b?!0:Fe,d()):l!==Fe},p.interpolate=function(b){return arguments.length?(n=b,d()):n},p.unknown=function(b){return arguments.length?(s=b,p):s},function(b,N){return r=b,i=N,d()}}function Pr(){return Lr()(Fe,Fe)}function jr(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ht(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function qe(e){return e=ht(Math.abs(e)),e?e[1]:NaN}function Fr(e,t){return function(n,r){for(var i=n.length,s=[],l=0,f=e[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),s.push(n.substring(i-=f,i+f)),!((c+=f+1)>r));)f=e[l=(l+1)%e.length];return s.reverse().join(t)}}function zr(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Hr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dt(e){if(!(t=Hr.exec(e)))throw new Error("invalid format: "+e);var t;return new Ft({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dt.prototype=Ft.prototype;function Ft(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ft.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qr(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Dn;function Vr(e,t){var n=ht(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(Dn=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+ht(e,Math.max(0,t+s-1))[0]}function on(e,t){var n=ht(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ln={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:jr,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>on(e*100,t),r:on,s:Vr,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function un(e){return e}var fn=Array.prototype.map,cn=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Br(e){var t=e.grouping===void 0||e.thousands===void 0?un:Fr(fn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?un:zr(fn.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function o(p){p=dt(p);var b=p.fill,N=p.align,v=p.sign,m=p.symbol,w=p.zero,j=p.width,ae=p.comma,te=p.precision,Z=p.trim,G=p.type;G==="n"?(ae=!0,G="g"):ln[G]||(te===void 0&&(te=12),Z=!0,G="g"),(w||b==="0"&&N==="=")&&(w=!0,b="0",N="=");var U=m==="$"?n:m==="#"&&/[boxX]/.test(G)?"0"+G.toLowerCase():"",V=m==="$"?r:/[%p]/.test(G)?l:"",u=ln[G],a=/[defgprs%]/.test(G);te=te===void 0?6:/[gprs]/.test(G)?Math.max(1,Math.min(21,te)):Math.max(0,Math.min(20,te));function h(g){var _=U,S=V,H,B,k;if(G==="c")S=u(g)+S,g="";else{g=+g;var E=g<0||1/g<0;if(g=isNaN(g)?c:u(Math.abs(g),te),Z&&(g=qr(g)),E&&+g==0&&v!=="+"&&(E=!1),_=(E?v==="("?v:f:v==="-"||v==="("?"":v)+_,S=(G==="s"?cn[8+Dn/3]:"")+S+(E&&v==="("?")":""),a){for(H=-1,B=g.length;++H<B;)if(k=g.charCodeAt(H),48>k||k>57){S=(k===46?i+g.slice(H+1):g.slice(H))+S,g=g.slice(0,H);break}}}ae&&!w&&(g=t(g,1/0));var T=_.length+g.length+S.length,x=T<j?new Array(j-T+1).join(b):"";switch(ae&&w&&(g=t(x+g,x.length?j-S.length:1/0),x=""),N){case"<":g=_+g+S+x;break;case"=":g=_+x+g+S;break;case"^":g=x.slice(0,T=x.length>>1)+_+g+S+x.slice(T);break;default:g=x+_+g+S;break}return s(g)}return h.toString=function(){return p+""},h}function d(p,b){var N=o((p=dt(p),p.type="f",p)),v=Math.max(-8,Math.min(8,Math.floor(qe(b)/3)))*3,m=Math.pow(10,-v),w=cn[8+v/3];return function(j){return N(m*j)+w}}return{format:o,formatPrefix:d}}var tt,In,On;Wr({thousands:",",grouping:[3],currency:["$",""]});function Wr(e){return tt=Br(e),In=tt.format,On=tt.formatPrefix,tt}function Ur(e){return Math.max(0,-qe(Math.abs(e)))}function Kr(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qe(t)/3)))*3-qe(Math.abs(e)))}function Qr(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qe(t)-qe(e))+1}function Xr(e,t,n,r){var i=ir(e,t,n),s;switch(r=dt(r==null?",f":r),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=Kr(i,l))&&(r.precision=s),On(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Qr(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Ur(i))&&(r.precision=s-(r.type==="%")*2);break}}return In(r)}function Yr(e){var t=e.domain;return e.ticks=function(n){var r=t();return rr(r[0],r[r.length-1],n==null?10:n)},e.tickFormat=function(n,r){var i=t();return Xr(i[0],i[i.length-1],n==null?10:n,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,l=r[i],f=r[s],c,o,d=10;for(f<l&&(o=l,l=f,f=o,o=i,i=s,s=o);d-- >0;){if(o=En(l,f,n),o===c)return r[i]=l,r[s]=f,t(r);if(o>0)l=Math.floor(l/o)*o,f=Math.ceil(f/o)*o;else if(o<0)l=Math.ceil(l*o)/o,f=Math.floor(f*o)/o;else break;c=o}return e},e}function It(){var e=Pr();return e.copy=function(){return Tr(e,It())},Sn.apply(e,arguments),Yr(e)}function Gr(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Jr=Gr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Zr(e){let t;return{c(){t=P("p"),t.textContent="Hover over a circle to see details here.",D(t,"class","svelte-60srhh")},m(n,r){ce(n,t,r)},p:Ee,d(n){n&&ue(t)}}}function $r(e){let t,n=e[0].title+"",r,i,s,l=e[0][e[1]]+"",f,c,o,d=e[0].date.toISOString().split("T")[0]+"",p,b,N,v=e[0].text+"",m;return{c(){t=P("h1"),r=Me(n),i=ee(),s=P("span"),f=Me(l),c=ee(),o=P("h2"),p=Me(d),b=ee(),N=P("p"),m=Me(v),D(t,"class","svelte-60srhh"),Se(s,"background",e[2](e[0][e[1]])),D(s,"class","svelte-60srhh"),D(o,"class","svelte-60srhh"),D(N,"class","svelte-60srhh")},m(w,j){ce(w,t,j),R(t,r),ce(w,i,j),ce(w,s,j),R(s,f),ce(w,c,j),ce(w,o,j),R(o,p),ce(w,b,j),ce(w,N,j),R(N,m)},p(w,j){j&1&&n!==(n=w[0].title+"")&&Ie(r,n),j&3&&l!==(l=w[0][w[1]]+"")&&Ie(f,l),j&7&&Se(s,"background",w[2](w[0][w[1]])),j&1&&d!==(d=w[0].date.toISOString().split("T")[0]+"")&&Ie(p,d),j&1&&v!==(v=w[0].text+"")&&Ie(m,v)},d(w){w&&ue(t),w&&ue(i),w&&ue(s),w&&ue(c),w&&ue(o),w&&ue(b),w&&ue(N)}}}function ei(e){let t;function n(s,l){return s[0]?$r:Zr}let r=n(e),i=r(e);return{c(){t=P("div"),i.c(),D(t,"class","detail-card svelte-60srhh")},m(s,l){ce(s,t,l),i.m(t,null)},p(s,[l]){r===(r=n(s))&&i?i.p(s,l):(i.d(1),i=r(s),i&&(i.c(),i.m(t,null)))},i:Ee,o:Ee,d(s){s&&ue(t),i.d()}}}function ti(e,t,n){let{hoveredData:r}=t,{domainColumn:i}=t,{data:s}=t,{colorScale:l}=t;return Ot(()=>{l.domain(s.map(f=>f[i]))}),e.$$set=f=>{"hoveredData"in f&&n(0,r=f.hoveredData),"domainColumn"in f&&n(1,i=f.domainColumn),"data"in f&&n(3,s=f.data),"colorScale"in f&&n(2,l=f.colorScale)},[r,i,l,s]}class ni extends yt{constructor(t){super(),_t(this,t,ti,ei,gt,{hoveredData:0,domainColumn:1,data:3,colorScale:2})}}function ri(e){let t,n,r,i,s,l,f;return i=new ni({props:{hoveredData:e[3],data:e[0],domainColumn:e[1],colorScale:e[4]}}),{c(){t=P("div"),n=P("canvas"),r=ee(),Tt(i.$$.fragment),D(n,"width",at),D(n,"height",ot),D(n,"class","svelte-e10mpv"),D(t,"class","chart-container svelte-e10mpv")},m(c,o){ce(c,t,o),R(t,n),e[14](n),R(t,r),pt(i,t,null),s=!0,l||(f=[fe(n,"mousemove",e[5]),fe(n,"mouseleave",e[6])],l=!0)},p(c,[o]){const d={};o&8&&(d.hoveredData=c[3]),o&1&&(d.data=c[0]),o&2&&(d.domainColumn=c[1]),i.$set(d)},i(c){s||(ze(i.$$.fragment,c),s=!0)},o(c){Ue(i.$$.fragment,c),s=!1},d(c){c&&ue(t),e[14](null),mt(i),l=!1,Ae(f)}}}let at=800,ot=600;const kt=6;let nt=1;function ii(e,t,n){let r,i,s,l,{data:f=[]}=t,{domainColumn:c=""}=t,{opacity:o=1}=t,{selectedValues:d=new Set}=t,{searchQuery:p=""}=t,{showAnnotations:b=!0}=t,N=[{x:500,y:400,radius:30,label:"Border Belt Independent and North Carolina Coastal Federation have both published about GenX \u2014 an industrial chemical.",label_x:-400,label_y:-80},{x:720,y:170,radius:50,label:"Only Carolina Peacemaker seems to be publishing about personal health.",label_x:-100,label_y:130}],v,m;const w={top:20,right:20,bottom:20,left:20};let j=null,ae=null,te={x:0,y:0};const Z=Cn().domain([...new Set(f.map(a=>a[c]))]).range(Jr);function G(){m.clearRect(0,0,at,ot),m.save(),m.translate(te.x,te.y),m.scale(nt,nt),m.translate(-te.x,-te.y),f.forEach(a=>{const h=p&&a.title&&a.title.toLowerCase().includes(p.toLowerCase()),g=d.has(a[c]);m.beginPath(),m.arc(w.left+s(a.x),w.top+l(a.y),kt,0,Math.PI*2),n(11,m.fillStyle=Z(a[c]),m),n(11,m.globalAlpha=h||g?1:o*.4,m),m.fill()}),b&&N.forEach(a=>{n(11,m.globalAlpha=1,m),m.beginPath(),m.arc(a.x,a.y,a.radius,0,Math.PI*2),n(11,m.strokeStyle="red",m),n(11,m.lineWidth=2,m),m.setLineDash([5,5]),m.stroke();const h=180,g=12;n(11,m.font="16px Arial",m);const _=a.x+a.label_x,S=a.y+a.label_y;let H=0,B=0,k=[];if(a.label){const M=a.label.split(" ");let I="";M.forEach((y,O)=>{const ne=I+y+" ";m.measureText(ne).width>h&&O>0?(k.push(I),H=Math.max(H,m.measureText(I).width),I=y+" "):I=ne}),k.push(I),H=Math.max(H,m.measureText(I).width),B=g*k.length}const E=_,T=S-g,x=H,z=B;let A,L;a.x<E?A=E:a.x>E+x?A=E+x:A=a.x,a.y<T?L=T:a.y>T+z?L=T+z:L=a.y;const C=Math.atan2(L-a.y,A-a.x),re=a.x+a.radius*Math.cos(C),$=a.y+a.radius*Math.sin(C);if(m.setLineDash([]),m.beginPath(),m.moveTo(re,$),m.lineTo(A,L),n(11,m.strokeStyle="red",m),n(11,m.lineWidth=1,m),m.stroke(),a.label){n(11,m.font="16px Arial",m),n(11,m.fillStyle="red",m);const M=16;k.forEach((I,y)=>{m.fillText(I,_,S+y*M)})}}),m.setLineDash([]),j&&(m.beginPath(),m.arc(w.left+s(j.x),w.top+l(j.y),kt,0,Math.PI*2),n(11,m.fillStyle=Z(j[c]),m),n(11,m.globalAlpha=1,m),m.fill(),n(11,m.strokeStyle="black",m),n(11,m.lineWidth=2,m),m.stroke()),m.restore()}function U(a){const h=v.getBoundingClientRect(),g=at/h.width,_=ot/h.height,S=(a.clientX-h.left)*g-w.left,H=(a.clientY-h.top)*_-w.top,B=(S-te.x)/nt+te.x,k=(H-te.y)/nt+te.y,E=f.find(T=>{const x=s(T.x)-B,z=l(T.y)-k;return Math.sqrt(x*x+z*z)<kt+3});E?(n(3,j=E),ae=E):n(3,j=ae),G()}function V(){n(3,j=ae),G()}Ot(()=>{n(11,m=v.getContext("2d")),G()});function u(a){Oe[a?"unshift":"push"](()=>{v=a,n(2,v)})}return e.$$set=a=>{"data"in a&&n(0,f=a.data),"domainColumn"in a&&n(1,c=a.domainColumn),"opacity"in a&&n(7,o=a.opacity),"selectedValues"in a&&n(8,d=a.selectedValues),"searchQuery"in a&&n(9,p=a.searchQuery),"showAnnotations"in a&&n(10,b=a.showAnnotations)},e.$$.update=()=>{e.$$.dirty&8193&&(s=It().domain([Xt(f,a=>a.x),Qt(f,a=>a.x)]).range([0,r])),e.$$.dirty&4097&&(l=It().domain([Xt(f,a=>a.y),Qt(f,a=>a.y)]).range([i,0])),e.$$.dirty&2049&&m&&f.length&&G(),e.$$.dirty&3971&&m&&f.length&&G()},n(13,r=at-w.left-w.right),n(12,i=ot-w.top-w.bottom),[f,c,v,j,Z,U,V,o,d,p,b,m,i,r,u]}class si extends yt{constructor(t){super(),_t(this,t,ii,ri,gt,{data:0,domainColumn:1,opacity:7,selectedValues:8,searchQuery:9,showAnnotations:10})}}function ai(e){let t,n,r,i,s,l,f,c,o;return{c(){t=P("div"),n=P("div"),r=P("div"),i=ee(),s=P("div"),l=ee(),f=P("div"),D(r,"class","track-inner svelte-vytkle"),D(n,"class","track svelte-vytkle"),D(s,"class","thumb start-thumb svelte-vytkle"),Se(s,"left",e[4]+"%"),D(f,"class","thumb end-thumb svelte-vytkle"),Se(f,"left",e[3]+"%"),D(t,"class","range-slider svelte-vytkle"),Se(t,"--start-percent",e[4]+"%"),Se(t,"--end-percent",e[3]+"%")},m(d,p){ce(d,t,p),R(t,n),R(n,r),R(t,i),R(t,s),e[13](s),R(t,l),R(t,f),e[16](f),e[19](t),c||(o=[fe(r,"mousedown",e[11]),fe(r,"touchstart",e[12]),fe(s,"mousedown",e[14]),fe(s,"touchstart",e[15]),fe(f,"mousedown",e[17]),fe(f,"touchstart",e[18])],c=!0)},p(d,[p]){p&16&&Se(s,"left",d[4]+"%"),p&8&&Se(f,"left",d[3]+"%"),p&16&&Se(t,"--start-percent",d[4]+"%"),p&8&&Se(t,"--end-percent",d[3]+"%")},i:Ee,o:Ee,d(d){d&&ue(t),e[13](null),e[16](null),e[19](null),c=!1,Ae(o)}}}function oi(e,t,n){let r,i,{min:s=0}=t,{max:l=100}=t,{startValue:f}=t,{endValue:c}=t;const o=zn();let d,p,b,N=!1,v=null,m=null,w=0;function j(k,E){N=!0,v=E,m=d.getBoundingClientRect(),E==="range"&&(w=c-f),window.addEventListener("mousemove",ae),window.addEventListener("mouseup",te)}function ae(k){if(!N)return;const E=Math.min(Math.max(0,(k.clientX-m.left)/m.width),1),T=Math.round(E*(l-s)+s);if(v==="start")n(7,f=Math.min(T,c)),o("startChange",f);else if(v==="end")n(8,c=Math.max(T,f)),o("endChange",c);else if(v==="range"){let x=T-Math.floor(w/2),z=T+Math.ceil(w/2);x<s&&(x=s,z=s+w),z>l&&(z=l,x=l-w),x=Math.max(s,x),z=Math.min(l,z),n(7,f=x),n(8,c=z),o("startChange",f),o("endChange",c)}}function te(){N=!1,window.removeEventListener("mousemove",ae),window.removeEventListener("mouseup",te)}function Z(k,E){k.preventDefault(),N=!0,v=E,m=d.getBoundingClientRect(),E==="range"&&(w=c-f),window.addEventListener("touchmove",G,{passive:!1}),window.addEventListener("touchend",U)}function G(k){if(k.preventDefault(),!N)return;const E=k.touches[0],T=Math.min(Math.max(0,(E.clientX-m.left)/m.width),1),x=Math.round(T*(l-s)+s);if(v==="start")n(7,f=Math.min(x,c)),o("startChange",f);else if(v==="end")n(8,c=Math.max(x,f)),o("endChange",c);else if(v==="range"){let z=x-Math.floor(w/2),A=x+Math.ceil(w/2);z<s&&(z=s,A=s+w),A>l&&(A=l,z=l-w),z=Math.max(s,z),A=Math.min(l,A),n(7,f=z),n(8,c=A),o("startChange",f),o("endChange",c)}}function U(){N=!1,window.removeEventListener("touchmove",G),window.removeEventListener("touchend",U)}const V=k=>j(k,"range"),u=k=>Z(k,"range");function a(k){Oe[k?"unshift":"push"](()=>{p=k,n(1,p)})}const h=k=>j(k,"start"),g=k=>Z(k,"start");function _(k){Oe[k?"unshift":"push"](()=>{b=k,n(2,b)})}const S=k=>j(k,"end"),H=k=>Z(k,"end");function B(k){Oe[k?"unshift":"push"](()=>{d=k,n(0,d)})}return e.$$set=k=>{"min"in k&&n(9,s=k.min),"max"in k&&n(10,l=k.max),"startValue"in k&&n(7,f=k.startValue),"endValue"in k&&n(8,c=k.endValue)},e.$$.update=()=>{e.$$.dirty&1664&&n(4,r=l>s?(f-s)/(l-s)*100:0),e.$$.dirty&1792&&n(3,i=l>s?(c-s)/(l-s)*100:100)},[d,p,b,i,r,j,Z,f,c,s,l,V,u,a,h,g,_,S,H,B]}class li extends yt{constructor(t){super(),_t(this,t,oi,ai,gt,{min:9,max:10,startValue:7,endValue:8})}}function hn(e,t,n){const r=e.slice();return r[41]=t[n],r}function dn(e,t,n){const r=e.slice();return r[44]=t[n],r}function gn(e){let t,n,r,i,s,l,f=e[5],c=[];for(let o=0;o<f.length;o+=1)c[o]=pn(dn(e,f,o));return{c(){t=P("label"),t.textContent="\u{1F3A8} Color by Column:",n=ee(),r=P("select"),i=P("option"),i.textContent="Select column";for(let o=0;o<c.length;o+=1)c[o].c();D(t,"class","svelte-1tfrac"),i.__value="",i.value=i.__value,i.disabled=!0,D(r,"class","svelte-1tfrac"),e[6]===void 0&&lt(()=>e[23].call(r))},m(o,d){ce(o,t,d),ce(o,n,d),ce(o,r,d),R(r,i);for(let p=0;p<c.length;p+=1)c[p].m(r,null);Vt(r,e[6]),s||(l=[fe(r,"change",e[14]),fe(r,"change",e[23])],s=!0)},p(o,d){if(d[0]&32){f=o[5];let p;for(p=0;p<f.length;p+=1){const b=dn(o,f,p);c[p]?c[p].p(b,d):(c[p]=pn(b),c[p].c(),c[p].m(r,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}d[0]&96&&Vt(r,o[6])},d(o){o&&ue(t),o&&ue(n),o&&ue(r),xn(c,o),s=!1,Ae(l)}}}function pn(e){let t,n=e[44]+"",r,i;return{c(){t=P("option"),r=Me(n),t.__value=i=e[44],t.value=t.__value},m(s,l){ce(s,t,l),R(t,r)},p(s,l){l[0]&32&&n!==(n=s[44]+"")&&Ie(r,n),l[0]&32&&i!==(i=s[44])&&(t.__value=i,t.value=t.__value)},d(s){s&&ue(t)}}}function mn(e){let t,n,r,i,s,l=e[7],f=[];for(let c=0;c<l.length;c+=1)f[c]=_n(hn(e,l,c));return{c(){t=P("label"),t.textContent="\u2728 Highlight Values:",n=ee(),r=P("select");for(let c=0;c<f.length;c+=1)f[c].c();D(t,"class","svelte-1tfrac"),r.multiple=!0,D(r,"size","5"),D(r,"class","multi-select svelte-1tfrac")},m(c,o){ce(c,t,o),ce(c,n,o),ce(c,r,o);for(let d=0;d<f.length;d+=1)f[d].m(r,null);i||(s=fe(r,"change",e[15]),i=!0)},p(c,o){if(o[0]&128){l=c[7];let d;for(d=0;d<l.length;d+=1){const p=hn(c,l,d);f[d]?f[d].p(p,o):(f[d]=_n(p),f[d].c(),f[d].m(r,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=l.length}},d(c){c&&ue(t),c&&ue(n),c&&ue(r),xn(f,c),i=!1,s()}}}function _n(e){let t,n=e[41]+"",r,i;return{c(){t=P("option"),r=Me(n),t.__value=i=e[41],t.value=t.__value},m(s,l){ce(s,t,l),R(t,r)},p(s,l){l[0]&128&&n!==(n=s[41]+"")&&Ie(r,n),l[0]&128&&i!==(i=s[41])&&(t.__value=i,t.value=t.__value)},d(s){s&&ue(t)}}}function ui(e){let t;return{c(){t=Me("\u25B6")},m(n,r){ce(n,t,r)},d(n){n&&ue(t)}}}function fi(e){let t;return{c(){t=Me("\u275A\u275A")},m(n,r){ce(n,t,r)},d(n){n&&ue(t)}}}function ci(e){let t;return{c(){t=P("p"),t.textContent="Loading data..."},m(n,r){ce(n,t,r)},p:Ee,i:Ee,o:Ee,d(n){n&&ue(t)}}}function hi(e){let t,n;return t=new si({props:{data:e[10],domainColumn:e[6],selectedValues:e[8],opacity:e[9],searchQuery:e[12],showAnnotations:e[13]}}),{c(){Tt(t.$$.fragment)},m(r,i){pt(t,r,i),n=!0},p(r,i){const s={};i[0]&1024&&(s.data=r[10]),i[0]&64&&(s.domainColumn=r[6]),i[0]&256&&(s.selectedValues=r[8]),i[0]&512&&(s.opacity=r[9]),i[0]&4096&&(s.searchQuery=r[12]),i[0]&8192&&(s.showAnnotations=r[13]),t.$set(s)},i(r){n||(ze(t.$$.fragment,r),n=!0)},o(r){Ue(t.$$.fragment,r),n=!1},d(r){mt(t,r)}}}function di(e){let t,n,r,i,s,l,f,c,o,d,p,b,N,v,m,w,j,ae,te,Z,G,U,V,u,a,h,g,_,S,H,B,k,E,T,x,z,A=De(e[0])+"",L,C,re,$=De(e[1])+"",M,I,y,O,ne,F,ie,oe,se,K,q,he,Q,J,Y,me,de,Re,ge,le=e[5].length&&gn(e),X=e[7].length&&mn(e);function _e(W){e[27](W)}function xe(W){e[28](W)}let Te={min:0,max:e[2].length-1};e[3]!==void 0&&(Te.startValue=e[3]),e[4]!==void 0&&(Te.endValue=e[4]),B=new li({props:Te}),Oe.push(()=>Wt(B,"startValue",_e)),Oe.push(()=>Wt(B,"endValue",xe)),B.$on("startChange",e[29]),B.$on("endChange",e[30]);function Ve(W,ye){return W[11]?fi:ui}let we=Ve(e),pe=we(e);const Ne=[hi,ci],ve=[];function zt(W,ye){return W[10].length?0:1}return Y=zt(e),me=ve[Y]=Ne[Y](e),{c(){t=P("div"),n=P("div"),n.innerHTML=`<h1 class="title svelte-1tfrac">North Carolina Semantic Map [DEMO]</h1> 
    <p class="subtitle svelte-1tfrac">This semantic map contains data from three organizations in North Carolina. <a href="https://peacemakeronline.com/">Carolina Peacemaker</a> and <a href="https://borderbelt.org">Border Belt</a> are local news organizations and <a href="https://www.nccoast.org/about-us/">NC Coastal Federation</a> is a nonprofit focused on coastal restoration.</p>`,r=ee(),i=P("div"),s=P("div"),l=P("div"),l.innerHTML=`<details open=""><summary class="svelte-1tfrac">\u2795 What is a Semantic Map?</summary> 
          <div class="nerd-box-content svelte-1tfrac"><p class="svelte-1tfrac">Semantic maps are tools that allow users to visually explore how different topics and ideas are connected. 
              By analyzing the relationships between articles, these maps can reveal patterns and clusters in the data.</p> 
            <p class="svelte-1tfrac">Each dot in this semantic map represents an article. When the dots are closer together, the articles are similar in meaning.</p> 
            <p class="svelte-1tfrac">Newsrooms can use semantic maps to:</p> 
            <ul class="svelte-1tfrac"><li class="svelte-1tfrac">Audit their coverage by identifying themes that may be underrepresented or overlooked.</li> 
              <li class="svelte-1tfrac">Track how their editorial focus evolves over time.</li> 
              <li class="svelte-1tfrac">Discover which topics are being covered by other outlets, offering opportunities to adjust their editorial focus or collaborate.</li></ul></div></details>`,f=ee(),c=P("label"),c.textContent="\u{1F4C1} Upload CSV:",o=ee(),d=P("input"),p=ee(),b=P("label"),b.textContent="\u{1F50D} Search Title:",N=ee(),v=P("input"),m=ee(),le&&le.c(),w=ee(),X&&X.c(),j=ee(),ae=P("label"),ae.textContent="\u{1F4A1} Adjust Opacity:",te=ee(),Z=P("input"),G=ee(),U=P("div"),V=P("label"),V.textContent="\u{1F4C5} Date Range:",u=ee(),a=P("input"),g=ee(),_=P("input"),H=ee(),Tt(B.$$.fragment),T=ee(),x=P("div"),z=P("span"),L=Me(A),C=ee(),re=P("span"),M=Me($),I=ee(),y=P("div"),O=P("button"),O.textContent="-1W",ne=ee(),F=P("button"),F.textContent="-1D",ie=ee(),oe=P("button"),pe.c(),se=ee(),K=P("button"),K.textContent="+1D",q=ee(),he=P("button"),he.textContent="+1W",Q=ee(),J=P("div"),me.c(),D(n,"class","title-section svelte-1tfrac"),D(l,"class","nerd-box svelte-1tfrac"),D(c,"class","svelte-1tfrac"),D(d,"type","file"),D(d,"accept",".csv"),D(d,"class","svelte-1tfrac"),D(b,"class","svelte-1tfrac"),D(v,"type","text"),D(v,"placeholder","Search..."),D(v,"class","svelte-1tfrac"),D(ae,"class","svelte-1tfrac"),D(Z,"type","range"),D(Z,"min","0.01"),D(Z,"max","1"),D(Z,"step","0.1"),D(Z,"class","svelte-1tfrac"),D(V,"class","svelte-1tfrac"),D(a,"type","date"),a.value=h=De(e[0]),D(a,"class","svelte-1tfrac"),D(_,"type","date"),_.value=S=De(e[1]),D(_,"class","svelte-1tfrac"),D(x,"class","date-range-labels svelte-1tfrac"),D(O,"class","svelte-1tfrac"),D(F,"class","svelte-1tfrac"),D(oe,"class","play-button svelte-1tfrac"),D(K,"class","svelte-1tfrac"),D(he,"class","svelte-1tfrac"),D(y,"class","date-navigation svelte-1tfrac"),D(U,"class","date-controls svelte-1tfrac"),D(s,"class","filter-panel svelte-1tfrac"),D(J,"class","scatterplot-container svelte-1tfrac"),D(i,"class","content svelte-1tfrac"),D(t,"class","container svelte-1tfrac")},m(W,ye){ce(W,t,ye),R(t,n),R(t,r),R(t,i),R(i,s),R(s,l),R(s,f),R(s,c),R(s,o),R(s,d),R(s,p),R(s,b),R(s,N),R(s,v),R(s,m),le&&le.m(s,null),R(s,w),X&&X.m(s,null),R(s,j),R(s,ae),R(s,te),R(s,Z),qt(Z,e[9]),R(s,G),R(s,U),R(U,V),R(U,u),R(U,a),R(U,g),R(U,_),R(U,H),pt(B,U,null),R(U,T),R(U,x),R(x,z),R(z,L),R(x,C),R(x,re),R(re,M),R(U,I),R(U,y),R(y,O),R(y,ne),R(y,F),R(y,ie),R(y,oe),pe.m(oe,null),R(y,se),R(y,K),R(y,q),R(y,he),R(i,Q),R(i,J),ve[Y].m(J,null),de=!0,Re||(ge=[fe(d,"change",e[17]),fe(v,"input",e[20]),fe(Z,"change",e[24]),fe(Z,"input",e[24]),fe(Z,"input",e[21]),fe(a,"change",e[25]),fe(_,"change",e[26]),fe(O,"click",e[31]),fe(F,"click",e[32]),fe(oe,"click",e[19]),fe(K,"click",e[33]),fe(he,"click",e[34])],Re=!0)},p(W,ye){W[5].length?le?le.p(W,ye):(le=gn(W),le.c(),le.m(s,w)):le&&(le.d(1),le=null),W[7].length?X?X.p(W,ye):(X=mn(W),X.c(),X.m(s,j)):X&&(X.d(1),X=null),ye[0]&512&&qt(Z,W[9]),(!de||ye[0]&1&&h!==(h=De(W[0])))&&(a.value=h),(!de||ye[0]&2&&S!==(S=De(W[1])))&&(_.value=S);const Je={};ye[0]&4&&(Je.max=W[2].length-1),!k&&ye[0]&8&&(k=!0,Je.startValue=W[3],Bt(()=>k=!1)),!E&&ye[0]&16&&(E=!0,Je.endValue=W[4],Bt(()=>E=!1)),B.$set(Je),(!de||ye[0]&1)&&A!==(A=De(W[0])+"")&&Ie(L,A),(!de||ye[0]&2)&&$!==($=De(W[1])+"")&&Ie(M,$),we!==(we=Ve(W))&&(pe.d(1),pe=we(W),pe&&(pe.c(),pe.m(oe,null)));let bt=Y;Y=zt(W),Y===bt?ve[Y].p(W,ye):(Bn(),Ue(ve[bt],1,1,()=>{ve[bt]=null}),Wn(),me=ve[Y],me?me.p(W,ye):(me=ve[Y]=Ne[Y](W),me.c()),ze(me,1),me.m(J,null))},i(W){de||(ze(B.$$.fragment,W),ze(me),de=!0)},o(W){Ue(B.$$.fragment,W),Ue(me),de=!1},d(W){W&&ue(t),le&&le.d(),X&&X.d(),mt(B),pe.d(),ve[Y].d(),Re=!1,Ae(ge)}}}function De(e){return e?e.toISOString().split("T")[0]:""}function gi(e,t,n){let r=[],i=[],s="org",l=[],f=new Set,c=.5,o=null,d=null,p=[],b=[],N=0,v=0,m=!1,w=null,j="",ae=!0;Ot(async()=>{const I=await(await fetch("/semantic-maps/data.csv")).text();return te(I),()=>{w&&clearInterval(w)}});function te(M){const I=Qn.parse(M,{header:!0});n(22,r=I.data.filter(y=>y.x&&y.y&&y.date).map(y=>({...y,x:+y.x,y:+y.y,date:new Date(y.date)}))),n(5,i=I.meta.fields||[]),n(2,b=[...new Set(r.map(y=>y.date.getTime()))].sort((y,O)=>y-O).map(y=>new Date(y))),n(0,o=b[0]),n(1,d=b[b.length-1]),n(3,N=0),n(4,v=b.length-1),s&&n(7,l=[...new Set(r.map(y=>y[s]).filter(Boolean))])}function Z(M){n(6,s=M.target.value),n(7,l=s?[...new Set(r.map(I=>I[s]).filter(Boolean))]:[]),n(8,f=new Set),n(13,ae=!1)}function G(M){n(8,f=new Set([...M.target.selectedOptions].map(I=>I.value))),n(13,ae=!1)}function U(M,I,y=!1){y?(n(0,o=b[M]||b[0]),n(1,d=b[I]||b[b.length-1])):(n(0,o=M),n(1,d=I)),n(13,ae=!1)}function V(){if(o){const M=o.getTime();n(3,N=Math.max(0,b.findIndex(I=>I.getTime()>=M)))}else n(3,N=0);if(d){const M=d.getTime(),I=b.findIndex(y=>y.getTime()>=M);n(4,v=I>=0?I:b.length>0?b.length-1:0)}else n(4,v=b.length-1);N>v&&n(3,N=v),v<N&&n(4,v=N)}function u(M,I){if(M.detail!==void 0)I==="start"?(n(3,N=M.detail),N>v&&n(3,N=v)):(n(4,v=M.detail),v<N&&n(4,v=N)),U(N,v,!0);else{const y=M.target.value?new Date(M.target.value):null;I==="start"?U(y,d):U(o,y),V()}}function a(M){const I=M.target.files[0];if(I){const y=new FileReader;n(13,ae=!1),y.onload=O=>te(O.target.result),y.readAsText(I)}}function h(M){const I=v-N;let y=N+M,O=v+M;y<0&&(y=0,O=I),O>=b.length&&(O=b.length-1,y=Math.max(0,O-I)),n(3,N=y),n(4,v=O),U(N,v,!0)}function g(){m?(clearInterval(w),n(11,m=!1)):(n(11,m=!0),n(13,ae=!1),w=setInterval(()=>{if(v>=b.length-1){clearInterval(w),n(11,m=!1);return}h(1)},500))}function _(M){n(12,j=M.target.value),n(13,ae=!1)}function S(){n(13,ae=!1)}function H(){s=jn(this),n(6,s),n(5,i)}function B(){c=Ln(this.value),n(9,c)}const k=M=>u(M,"start"),E=M=>u(M,"end");function T(M){N=M,n(3,N)}function x(M){v=M,n(4,v)}const z=M=>u(M,"start"),A=M=>u(M,"end"),L=()=>h(-7),C=()=>h(-1),re=()=>h(1),$=()=>h(7);return e.$$.update=()=>{e.$$.dirty[0]&4194307&&n(10,p=r.filter(M=>(!o||M.date>=o)&&(!d||M.date<=d))),e.$$.dirty[0]&12&&b.length>1&&N/(b.length-1)*100,e.$$.dirty[0]&20&&b.length>1&&v/(b.length-1)*100},[o,d,b,N,v,i,s,l,f,c,p,m,j,ae,Z,G,u,a,h,g,_,S,r,H,B,k,E,T,x,z,A,L,C,re,$]}class pi extends yt{constructor(t){super(),_t(this,t,gi,di,gt,{},null,[-1,-1])}}new pi({target:document.getElementById("app")});
