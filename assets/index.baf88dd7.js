(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function be(){}function un(e){return e()}function Ot(){return Object.create(null)}function ve(e){e.forEach(un)}function fn(e){return typeof e=="function"}function xt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Mn(e){return Object.keys(e).length===0}function D(e,t){e.appendChild(t)}function te(e,t,n){e.insertBefore(t,n||null)}function ee(e){e.parentNode.removeChild(e)}function cn(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function F(e){return document.createElement(e)}function we(e){return document.createTextNode(e)}function ie(){return we(" ")}function de(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function N(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Dt(e){return e===""?null:+e}function En(e){return Array.from(e.childNodes)}function ke(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Be(e,t){e.value=t==null?"":t}function It(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function zt(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t){r.selected=!0;return}}e.selectedIndex=-1}function Cn(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let je;function Le(e){je=e}function Rn(){if(!je)throw new Error("Function called outside component initialization");return je}function bt(e){Rn().$$.on_mount.push(e)}const Te=[],ft=[],Xe=[],Tt=[],Nn=Promise.resolve();let ct=!1;function An(){ct||(ct=!0,Nn.then(hn))}function Ze(e){Xe.push(e)}const st=new Set;let We=0;function hn(){const e=je;do{for(;We<Te.length;){const t=Te[We];We++,Le(t),On(t.$$)}for(Le(null),Te.length=0,We=0;ft.length;)ft.pop()();for(let t=0;t<Xe.length;t+=1){const n=Xe[t];st.has(n)||(st.add(n),n())}Xe.length=0}while(Te.length);for(;Tt.length;)Tt.pop()();ct=!1,st.clear(),Le(e)}function On(e){if(e.fragment!==null){e.update(),ve(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ze)}}const Ye=new Set;let Se;function Dn(){Se={r:0,c:[],p:Se}}function In(){Se.r||ve(Se.c),Se=Se.p}function Pe(e,t){e&&e.i&&(Ye.delete(e),e.i(t))}function $e(e,t,n,r){if(e&&e.o){if(Ye.has(e))return;Ye.add(e),Se.c.push(()=>{Ye.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function dn(e){e&&e.c()}function wt(e,t,n,r){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),r||Ze(()=>{const u=e.$$.on_mount.map(un).filter(fn);e.$$.on_destroy?e.$$.on_destroy.push(...u):ve(u),e.$$.on_mount=[]}),s.forEach(Ze)}function vt(e,t){const n=e.$$;n.fragment!==null&&(ve(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function zn(e,t){e.$$.dirty[0]===-1&&(Te.push(e),An(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function kt(e,t,n,r,i,s,u,f=[-1]){const c=je;Le(e);const l=e.$$={fragment:null,ctx:[],props:s,update:be,not_equal:i,bound:Ot(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Ot(),dirty:f,skip_bound:!1,root:t.target||c.$$.root};u&&u(l.root);let g=!1;if(l.ctx=n?n(e,t.props||{},(p,_,...k)=>{const R=k.length?k[0]:_;return l.ctx&&i(l.ctx[p],l.ctx[p]=R)&&(!l.skip_bound&&l.bound[p]&&l.bound[p](R),g&&zn(e,p)),_}):[],l.update(),g=!0,ve(l.before_update),l.fragment=r?r(l.ctx):!1,t.target){if(t.hydrate){const p=En(t.target);l.fragment&&l.fragment.l(p),p.forEach(ee)}else l.fragment&&l.fragment.c();t.intro&&Pe(e.$$.fragment),wt(e,t.target,t.anchor,t.customElement),hn()}Le(c)}class St{$destroy(){vt(this,1),this.$destroy=be}$on(t,n){if(!fn(n))return be;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Mn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var Tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pn={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(Tn,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,u=r.IS_PAPA_WORKER||!1,f={},c=0,l={};function g(o){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(a){var h=P(a);h.chunkSize=parseInt(h.chunkSize),a.step||a.chunk||(h.chunkSize=null),this._handle=new H(h),(this._handle.streamer=this)._config=h}.call(this,o),this.parseChunk=function(a,h){var d=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<d){let v=this._config.newline;v||(m=this._config.quoteChar||'"',v=this._handle.guessLineEndings(a,m)),a=[...a.split(v).slice(d)].join(v)}this.isFirstChunk&&z(this._config.beforeFirstChunk)&&(m=this._config.beforeFirstChunk(a))!==void 0&&(a=m),this.isFirstChunk=!1,this._halted=!1;var d=this._partialLine+a,m=(this._partialLine="",this._handle.parse(d,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(a=m.meta.cursor,d=(this._finished||(this._partialLine=d.substring(a-this._baseIndex),this._baseIndex=a),m&&m.data&&(this._rowCount+=m.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),u)r.postMessage({results:m,workerId:l.WORKER_ID,finished:d});else if(z(this._config.chunk)&&!h){if(this._config.chunk(m,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=m=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(m.data),this._completeResults.errors=this._completeResults.errors.concat(m.errors),this._completeResults.meta=m.meta),this._completed||!d||!z(this._config.complete)||m&&m.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),d||m&&m.meta.paused||this._nextChunk(),m}this._halted=!0},this._sendError=function(a){z(this._config.error)?this._config.error(a):u&&this._config.error&&r.postMessage({workerId:l.WORKER_ID,error:a,finished:!1})}}function p(o){var a;(o=o||{}).chunkSize||(o.chunkSize=l.RemoteChunkSize),g.call(this,o),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(h){this._input=h,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(a=new XMLHttpRequest,this._config.withCredentials&&(a.withCredentials=this._config.withCredentials),s||(a.onload=ne(this._chunkLoaded,this),a.onerror=ne(this._chunkError,this)),a.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var h,d=this._config.downloadRequestHeaders;for(h in d)a.setRequestHeader(h,d[h])}var m;this._config.chunkSize&&(m=this._start+this._config.chunkSize-1,a.setRequestHeader("Range","bytes="+this._start+"-"+m));try{a.send(this._config.downloadRequestBody)}catch(v){this._chunkError(v.message)}s&&a.status===0&&this._chunkError()}},this._chunkLoaded=function(){a.readyState===4&&(a.status<200||400<=a.status?this._chunkError():(this._start+=this._config.chunkSize||a.responseText.length,this._finished=!this._config.chunkSize||this._start>=(h=>(h=h.getResponseHeader("Content-Range"))!==null?parseInt(h.substring(h.lastIndexOf("/")+1)):-1)(a),this.parseChunk(a.responseText)))},this._chunkError=function(h){h=a.statusText||h,this._sendError(new Error(h))}}function _(o){(o=o||{}).chunkSize||(o.chunkSize=l.LocalChunkSize),g.call(this,o);var a,h,d=typeof FileReader<"u";this.stream=function(m){this._input=m,h=m.slice||m.webkitSlice||m.mozSlice,d?((a=new FileReader).onload=ne(this._chunkLoaded,this),a.onerror=ne(this._chunkError,this)):a=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var m=this._input,v=(this._config.chunkSize&&(v=Math.min(this._start+this._config.chunkSize,this._input.size),m=h.call(m,this._start,v)),a.readAsText(m,this._config.encoding));d||this._chunkLoaded({target:{result:v}})},this._chunkLoaded=function(m){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(m.target.result)},this._chunkError=function(){this._sendError(a.error)}}function k(o){var a;g.call(this,o=o||{}),this.stream=function(h){return a=h,this._nextChunk()},this._nextChunk=function(){var h,d;if(!this._finished)return h=this._config.chunkSize,a=h?(d=a.substring(0,h),a.substring(h)):(d=a,""),this._finished=!a,this.parseChunk(d)}}function R(o){g.call(this,o=o||{});var a=[],h=!0,d=!1;this.pause=function(){g.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){g.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(m){this._input=m,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){d&&a.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),a.length?this.parseChunk(a.shift()):h=!0},this._streamData=ne(function(m){try{a.push(typeof m=="string"?m:m.toString(this._config.encoding)),h&&(h=!1,this._checkIsFinished(),this.parseChunk(a.shift()))}catch(v){this._streamError(v)}},this),this._streamError=ne(function(m){this._streamCleanUp(),this._sendError(m)},this),this._streamEnd=ne(function(){this._streamCleanUp(),d=!0,this._streamData("")},this),this._streamCleanUp=ne(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function H(o){var a,h,d,m,v=Math.pow(2,53),j=-v,X=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Y=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,S=this,C=0,x=0,K=!1,E=!1,A=[],y={data:[],errors:[],meta:{}};function L(b){return o.skipEmptyLines==="greedy"?b.join("").trim()==="":b.length===1&&b[0].length===0}function J(){if(y&&d&&(ue("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),d=!1),o.skipEmptyLines&&(y.data=y.data.filter(function(V){return!L(V)})),B()){let V=function(ae,Q){z(o.transformHeader)&&(ae=o.transformHeader(ae,Q)),A.push(ae)};var I=V;if(y)if(Array.isArray(y.data[0])){for(var b=0;B()&&b<y.data.length;b++)y.data[b].forEach(V);y.data.splice(0,1)}else y.data.forEach(V)}function M(V,ae){for(var Q=o.header?{}:[],U=0;U<V.length;U++){var O=U,oe=V[U],oe=((q,G)=>(re=>(o.dynamicTypingFunction&&o.dynamicTyping[re]===void 0&&(o.dynamicTyping[re]=o.dynamicTypingFunction(re)),(o.dynamicTyping[re]||o.dynamicTyping)===!0))(q)?G==="true"||G==="TRUE"||G!=="false"&&G!=="FALSE"&&((re=>{if(X.test(re)&&(re=parseFloat(re),j<re&&re<v))return 1})(G)?parseFloat(G):Y.test(G)?new Date(G):G===""?null:G):G)(O=o.header?U>=A.length?"__parsed_extra":A[U]:O,oe=o.transform?o.transform(oe,O):oe);O==="__parsed_extra"?(Q[O]=Q[O]||[],Q[O].push(oe)):Q[O]=oe}return o.header&&(U>A.length?ue("FieldMismatch","TooManyFields","Too many fields: expected "+A.length+" fields but parsed "+U,x+ae):U<A.length&&ue("FieldMismatch","TooFewFields","Too few fields: expected "+A.length+" fields but parsed "+U,x+ae)),Q}var W;y&&(o.header||o.dynamicTyping||o.transform)&&(W=1,!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(M),W=y.data.length):y.data=M(y.data,0),o.header&&y.meta&&(y.meta.fields=A),x+=W)}function B(){return o.header&&A.length===0}function ue(b,M,W,I){b={type:b,code:M,message:W},I!==void 0&&(b.row=I),y.errors.push(b)}z(o.step)&&(m=o.step,o.step=function(b){y=b,B()?J():(J(),y.data.length!==0&&(C+=b.data.length,o.preview&&C>o.preview?h.abort():(y.data=y.data[0],m(y,S))))}),this.parse=function(b,M,W){var I=o.quoteChar||'"',I=(o.newline||(o.newline=this.guessLineEndings(b,I)),d=!1,o.delimiter?z(o.delimiter)&&(o.delimiter=o.delimiter(b),y.meta.delimiter=o.delimiter):((I=((V,ae,Q,U,O)=>{var oe,q,G,re;O=O||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var Ce=0;Ce<O.length;Ce++){for(var ge,Ie=O[Ce],le=0,me=0,se=0,fe=(G=void 0,new T({comments:U,delimiter:Ie,newline:ae,preview:10}).parse(V)),xe=0;xe<fe.data.length;xe++)Q&&L(fe.data[xe])?se++:(ge=fe.data[xe].length,me+=ge,G===void 0?G=ge:0<ge&&(le+=Math.abs(ge-G),G=ge));0<fe.data.length&&(me/=fe.data.length-se),(q===void 0||le<=q)&&(re===void 0||re<me)&&1.99<me&&(q=le,oe=Ie,re=me)}return{successful:!!(o.delimiter=oe),bestDelimiter:oe}})(b,o.newline,o.skipEmptyLines,o.comments,o.delimitersToGuess)).successful?o.delimiter=I.bestDelimiter:(d=!0,o.delimiter=l.DefaultDelimiter),y.meta.delimiter=o.delimiter),P(o));return o.preview&&o.header&&I.preview++,a=b,h=new T(I),y=h.parse(a,M,W),J(),K?{meta:{paused:!0}}:y||{meta:{paused:!1}}},this.paused=function(){return K},this.pause=function(){K=!0,h.abort(),a=z(o.chunk)?"":a.substring(h.getCharIndex())},this.resume=function(){S.streamer._halted?(K=!1,S.streamer.parseChunk(a,!0)):setTimeout(S.resume,3)},this.aborted=function(){return E},this.abort=function(){E=!0,h.abort(),y.meta.aborted=!0,z(o.complete)&&o.complete(y),a=""},this.guessLineEndings=function(V,I){V=V.substring(0,1048576);var I=new RegExp(w(I)+"([^]*?)"+w(I),"gm"),W=(V=V.replace(I,"")).split("\r"),I=V.split(`
`),V=1<I.length&&I[0].length<W[0].length;if(W.length===1||V)return`
`;for(var ae=0,Q=0;Q<W.length;Q++)W[Q][0]===`
`&&ae++;return ae>=W.length/2?`\r
`:"\r"}}function w(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(o){var a=(o=o||{}).delimiter,h=o.newline,d=o.comments,m=o.step,v=o.preview,j=o.fastMode,X=null,Y=!1,S=o.quoteChar==null?'"':o.quoteChar,C=S;if(o.escapeChar!==void 0&&(C=o.escapeChar),(typeof a!="string"||-1<l.BAD_DELIMITERS.indexOf(a))&&(a=","),d===a)throw new Error("Comment character same as delimiter");d===!0?d="#":(typeof d!="string"||-1<l.BAD_DELIMITERS.indexOf(d))&&(d=!1),h!==`
`&&h!=="\r"&&h!==`\r
`&&(h=`
`);var x=0,K=!1;this.parse=function(E,A,y){if(typeof E!="string")throw new Error("Input must be a string");var L=E.length,J=a.length,B=h.length,ue=d.length,b=z(m),M=[],W=[],I=[],V=x=0;if(!E)return le();if(j||j!==!1&&E.indexOf(S)===-1){for(var ae=E.split(h),Q=0;Q<ae.length;Q++){if(I=ae[Q],x+=I.length,Q!==ae.length-1)x+=h.length;else if(y)return le();if(!d||I.substring(0,ue)!==d){if(b){if(M=[],re(I.split(a)),me(),K)return le()}else re(I.split(a));if(v&&v<=Q)return M=M.slice(0,v),le(!0)}}return le()}for(var U=E.indexOf(a,x),O=E.indexOf(h,x),oe=new RegExp(w(C)+w(S),"g"),q=E.indexOf(S,x);;)if(E[x]===S)for(q=x,x++;;){if((q=E.indexOf(S,q+1))===-1)return y||W.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:M.length,index:x}),ge();if(q===L-1)return ge(E.substring(x,q).replace(oe,S));if(S===C&&E[q+1]===C)q++;else if(S===C||q===0||E[q-1]!==C){U!==-1&&U<q+1&&(U=E.indexOf(a,q+1));var G=Ce((O=O!==-1&&O<q+1?E.indexOf(h,q+1):O)===-1?U:Math.min(U,O));if(E.substr(q+1+G,J)===a){I.push(E.substring(x,q).replace(oe,S)),E[x=q+1+G+J]!==S&&(q=E.indexOf(S,x)),U=E.indexOf(a,x),O=E.indexOf(h,x);break}if(G=Ce(O),E.substring(q+1+G,q+1+G+B)===h){if(I.push(E.substring(x,q).replace(oe,S)),Ie(q+1+G+B),U=E.indexOf(a,x),q=E.indexOf(S,x),b&&(me(),K))return le();if(v&&M.length>=v)return le(!0);break}W.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:M.length,index:x}),q++}}else if(d&&I.length===0&&E.substring(x,x+ue)===d){if(O===-1)return le();x=O+B,O=E.indexOf(h,x),U=E.indexOf(a,x)}else if(U!==-1&&(U<O||O===-1))I.push(E.substring(x,U)),x=U+J,U=E.indexOf(a,x);else{if(O===-1)break;if(I.push(E.substring(x,O)),Ie(O+B),b&&(me(),K))return le();if(v&&M.length>=v)return le(!0)}return ge();function re(se){M.push(se),V=x}function Ce(se){var fe=0;return fe=se!==-1&&(se=E.substring(q+1,se))&&se.trim()===""?se.length:fe}function ge(se){return y||(se===void 0&&(se=E.substring(x)),I.push(se),x=L,re(I),b&&me()),le()}function Ie(se){x=se,re(I),I=[],O=E.indexOf(h,x)}function le(se){if(o.header&&!A&&M.length&&!Y){var fe=M[0],xe={},at=new Set(fe);let Nt=!1;for(let Re=0;Re<fe.length;Re++){let _e=fe[Re];if(xe[_e=z(o.transformHeader)?o.transformHeader(_e,Re):_e]){let ze,At=xe[_e];for(;ze=_e+"_"+At,At++,at.has(ze););at.add(ze),fe[Re]=ze,xe[_e]++,Nt=!0,(X=X===null?{}:X)[ze]=_e}else xe[_e]=1,fe[Re]=_e;at.add(_e)}Nt&&console.warn("Duplicate headers found and renamed."),Y=!0}return{data:M,errors:W,meta:{delimiter:a,linebreak:h,aborted:K,truncated:!!se,cursor:V+(A||0),renamedHeaders:X}}}function me(){m(le()),M=[],W=[]}},this.abort=function(){K=!0},this.getCharIndex=function(){return x}}function Z(o){var a=o.data,h=f[a.workerId],d=!1;if(a.error)h.userError(a.error,a.file);else if(a.results&&a.results.data){var m={abort:function(){d=!0,$(a.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:he,resume:he};if(z(h.userStep)){for(var v=0;v<a.results.data.length&&(h.userStep({data:a.results.data[v],errors:a.results.errors,meta:a.results.meta},m),!d);v++);delete a.results}else z(h.userChunk)&&(h.userChunk(a.results,m,a.file),delete a.results)}a.finished&&!d&&$(a.workerId,a.results)}function $(o,a){var h=f[o];z(h.userComplete)&&h.userComplete(a),h.terminate(),delete f[o]}function he(){throw new Error("Not implemented.")}function P(o){if(typeof o!="object"||o===null)return o;var a,h=Array.isArray(o)?[]:{};for(a in o)h[a]=P(o[a]);return h}function ne(o,a){return function(){o.apply(a,arguments)}}function z(o){return typeof o=="function"}return l.parse=function(o,a){var h=(a=a||{}).dynamicTyping||!1;if(z(h)&&(a.dynamicTypingFunction=h,h={}),a.dynamicTyping=h,a.transform=!!z(a.transform)&&a.transform,!a.worker||!l.WORKERS_SUPPORTED)return h=null,l.NODE_STREAM_INPUT,typeof o=="string"?(o=(d=>d.charCodeAt(0)!==65279?d:d.slice(1))(o),h=new(a.download?p:k)(a)):o.readable===!0&&z(o.read)&&z(o.on)?h=new R(a):(r.File&&o instanceof File||o instanceof Object)&&(h=new _(a)),h.stream(o);(h=(()=>{var d;return!!l.WORKERS_SUPPORTED&&(d=(()=>{var m=r.URL||r.webkitURL||null,v=n.toString();return l.BLOB_URL||(l.BLOB_URL=m.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",v,")();"],{type:"text/javascript"})))})(),(d=new r.Worker(d)).onmessage=Z,d.id=c++,f[d.id]=d)})()).userStep=a.step,h.userChunk=a.chunk,h.userComplete=a.complete,h.userError=a.error,a.step=z(a.step),a.chunk=z(a.chunk),a.complete=z(a.complete),a.error=z(a.error),delete a.worker,h.postMessage({input:o,config:a,workerId:h.id})},l.unparse=function(o,a){var h=!1,d=!0,m=",",v=`\r
`,j='"',X=j+j,Y=!1,S=null,C=!1,x=((()=>{if(typeof a=="object"){if(typeof a.delimiter!="string"||l.BAD_DELIMITERS.filter(function(A){return a.delimiter.indexOf(A)!==-1}).length||(m=a.delimiter),typeof a.quotes!="boolean"&&typeof a.quotes!="function"&&!Array.isArray(a.quotes)||(h=a.quotes),typeof a.skipEmptyLines!="boolean"&&typeof a.skipEmptyLines!="string"||(Y=a.skipEmptyLines),typeof a.newline=="string"&&(v=a.newline),typeof a.quoteChar=="string"&&(j=a.quoteChar),typeof a.header=="boolean"&&(d=a.header),Array.isArray(a.columns)){if(a.columns.length===0)throw new Error("Option columns is empty");S=a.columns}a.escapeChar!==void 0&&(X=a.escapeChar+j),a.escapeFormulae instanceof RegExp?C=a.escapeFormulae:typeof a.escapeFormulae=="boolean"&&a.escapeFormulae&&(C=/^[=+\-@\t\r].*$/)}})(),new RegExp(w(j),"g"));if(typeof o=="string"&&(o=JSON.parse(o)),Array.isArray(o)){if(!o.length||Array.isArray(o[0]))return K(null,o,Y);if(typeof o[0]=="object")return K(S||Object.keys(o[0]),o,Y)}else if(typeof o=="object")return typeof o.data=="string"&&(o.data=JSON.parse(o.data)),Array.isArray(o.data)&&(o.fields||(o.fields=o.meta&&o.meta.fields||S),o.fields||(o.fields=Array.isArray(o.data[0])?o.fields:typeof o.data[0]=="object"?Object.keys(o.data[0]):[]),Array.isArray(o.data[0])||typeof o.data[0]=="object"||(o.data=[o.data])),K(o.fields||[],o.data||[],Y);throw new Error("Unable to serialize unrecognized input");function K(A,y,L){var J="",B=(typeof A=="string"&&(A=JSON.parse(A)),typeof y=="string"&&(y=JSON.parse(y)),Array.isArray(A)&&0<A.length),ue=!Array.isArray(y[0]);if(B&&d){for(var b=0;b<A.length;b++)0<b&&(J+=m),J+=E(A[b],b);0<y.length&&(J+=v)}for(var M=0;M<y.length;M++){var W=(B?A:y[M]).length,I=!1,V=B?Object.keys(y[M]).length===0:y[M].length===0;if(L&&!B&&(I=L==="greedy"?y[M].join("").trim()==="":y[M].length===1&&y[M][0].length===0),L==="greedy"&&B){for(var ae=[],Q=0;Q<W;Q++){var U=ue?A[Q]:Q;ae.push(y[M][U])}I=ae.join("").trim()===""}if(!I){for(var O=0;O<W;O++){0<O&&!V&&(J+=m);var oe=B&&ue?A[O]:O;J+=E(y[M][oe],O)}M<y.length-1&&(!L||0<W&&!V)&&(J+=v)}}return J}function E(A,y){var L,J;return A==null?"":A.constructor===Date?JSON.stringify(A).slice(1,25):(J=!1,C&&typeof A=="string"&&C.test(A)&&(A="'"+A,J=!0),L=A.toString().replace(x,X),(J=J||h===!0||typeof h=="function"&&h(A,y)||Array.isArray(h)&&h[y]||((B,ue)=>{for(var b=0;b<ue.length;b++)if(-1<B.indexOf(ue[b]))return!0;return!1})(L,l.BAD_DELIMITERS)||-1<L.indexOf(m)||L.charAt(0)===" "||L.charAt(L.length-1)===" ")?j+L+j:L)}},l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!s&&!!r.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=T,l.ParserHandle=H,l.NetworkStreamer=p,l.FileStreamer=_,l.StringStreamer=k,l.ReadableStreamStreamer=R,r.jQuery&&((i=r.jQuery).fn.parse=function(o){var a=o.config||{},h=[];return this.each(function(v){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var j=0;j<this.files.length;j++)h.push({file:this.files[j],inputElem:this,instanceConfig:i.extend({},a)})}),d(),this;function d(){if(h.length===0)z(o.complete)&&o.complete();else{var v,j,X,Y,S=h[0];if(z(o.before)){var C=o.before(S.file,S.inputElem);if(typeof C=="object"){if(C.action==="abort")return v="AbortError",j=S.file,X=S.inputElem,Y=C.reason,void(z(o.error)&&o.error({name:v},j,X,Y));if(C.action==="skip")return void m();typeof C.config=="object"&&(S.instanceConfig=i.extend(S.instanceConfig,C.config))}else if(C==="skip")return void m()}var x=S.instanceConfig.complete;S.instanceConfig.complete=function(K){z(x)&&x(K,S.file,S.inputElem),m()},l.parse(S.file,S.instanceConfig)}}function m(){h.splice(0,1),d()}}),u&&(r.onmessage=function(o){o=o.data,l.WORKER_ID===void 0&&o&&(l.WORKER_ID=o.workerId),typeof o.input=="string"?r.postMessage({workerId:l.WORKER_ID,results:l.parse(o.input,o.config),finished:!0}):(r.File&&o.input instanceof File||o.input instanceof Object)&&(o=l.parse(o.input,o.config))&&r.postMessage({workerId:l.WORKER_ID,results:o,finished:!0})}),(p.prototype=Object.create(g.prototype)).constructor=p,(_.prototype=Object.create(g.prototype)).constructor=_,(k.prototype=Object.create(k.prototype)).constructor=k,(R.prototype=Object.create(g.prototype)).constructor=R,l})})(pn);const Ln=pn.exports;function Je(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jn(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gn(e){let t,n,r;e.length!==2?(t=Je,n=(f,c)=>Je(e(f),c),r=(f,c)=>e(f)-c):(t=e===Je||e===jn?e:Pn,n=e,r=e);function i(f,c,l=0,g=f.length){if(l<g){if(t(c,c)!==0)return g;do{const p=l+g>>>1;n(f[p],c)<0?l=p+1:g=p}while(l<g)}return l}function s(f,c,l=0,g=f.length){if(l<g){if(t(c,c)!==0)return g;do{const p=l+g>>>1;n(f[p],c)<=0?l=p+1:g=p}while(l<g)}return l}function u(f,c,l=0,g=f.length){const p=i(f,c,l,g-1);return p>l&&r(f[p-1],c)>-r(f[p],c)?p-1:p}return{left:i,center:u,right:s}}function Pn(){return 0}function Fn(e){return e===null?NaN:+e}const qn=gn(Je),Hn=qn.right;gn(Fn).center;const Un=Hn;class Lt extends Map{constructor(t,n=Kn){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(jt(this,t))}has(t){return super.has(jt(this,t))}set(t,n){return super.set(Bn(this,t),n)}delete(t){return super.delete(Wn(this,t))}}function jt({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Bn({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Wn({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Kn(e){return e!==null&&typeof e=="object"?e.valueOf():e}var ht=Math.sqrt(50),dt=Math.sqrt(10),pt=Math.sqrt(2);function Vn(e,t,n){var r,i=-1,s,u,f;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(s=e,e=t,t=s),(f=mn(e,t,n))===0||!isFinite(f))return[];if(f>0){let c=Math.round(e/f),l=Math.round(t/f);for(c*f<e&&++c,l*f>t&&--l,u=new Array(s=l-c+1);++i<s;)u[i]=(c+i)*f}else{f=-f;let c=Math.round(e*f),l=Math.round(t*f);for(c/f<e&&++c,l/f>t&&--l,u=new Array(s=l-c+1);++i<s;)u[i]=(c+i)/f}return r&&u.reverse(),u}function mn(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=ht?10:s>=dt?5:s>=pt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=ht?10:s>=dt?5:s>=pt?2:1)}function Qn(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=ht?i*=10:s>=dt?i*=5:s>=pt&&(i*=2),t<e?-i:i}function Pt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Ft(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function _n(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const qt=Symbol("implicit");function yn(){var e=new Lt,t=[],n=[],r=qt;function i(s){let u=e.get(s);if(u===void 0){if(r!==qt)return r;e.set(s,u=t.push(s)-1)}return n[u%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Lt;for(const u of s)e.has(u)||e.set(u,t.push(u)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return yn(t,n).unknown(r)},_n.apply(i,arguments),i}function Mt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function xn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ue(){}var Fe=.7,et=1/Fe,Oe="\\s*([+-]?\\d+)\\s*",qe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ye="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gn=/^#([0-9a-f]{3,8})$/,Xn=new RegExp(`^rgb\\(${Oe},${Oe},${Oe}\\)$`),Yn=new RegExp(`^rgb\\(${ye},${ye},${ye}\\)$`),Jn=new RegExp(`^rgba\\(${Oe},${Oe},${Oe},${qe}\\)$`),Zn=new RegExp(`^rgba\\(${ye},${ye},${ye},${qe}\\)$`),$n=new RegExp(`^hsl\\(${qe},${ye},${ye}\\)$`),er=new RegExp(`^hsla\\(${qe},${ye},${ye},${qe}\\)$`),Ht={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mt(Ue,He,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ut,formatHex:Ut,formatHex8:tr,formatHsl:nr,formatRgb:Bt,toString:Bt});function Ut(){return this.rgb().formatHex()}function tr(){return this.rgb().formatHex8()}function nr(){return bn(this).formatHsl()}function Bt(){return this.rgb().formatRgb()}function He(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Gn.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Wt(t):n===3?new ce(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ke(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ke(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Xn.exec(e))?new ce(t[1],t[2],t[3],1):(t=Yn.exec(e))?new ce(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Jn.exec(e))?Ke(t[1],t[2],t[3],t[4]):(t=Zn.exec(e))?Ke(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$n.exec(e))?Qt(t[1],t[2]/100,t[3]/100,1):(t=er.exec(e))?Qt(t[1],t[2]/100,t[3]/100,t[4]):Ht.hasOwnProperty(e)?Wt(Ht[e]):e==="transparent"?new ce(NaN,NaN,NaN,0):null}function Wt(e){return new ce(e>>16&255,e>>8&255,e&255,1)}function Ke(e,t,n,r){return r<=0&&(e=t=n=NaN),new ce(e,t,n,r)}function rr(e){return e instanceof Ue||(e=He(e)),e?(e=e.rgb(),new ce(e.r,e.g,e.b,e.opacity)):new ce}function gt(e,t,n,r){return arguments.length===1?rr(e):new ce(e,t,n,r==null?1:r)}function ce(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Mt(ce,gt,xn(Ue,{brighter(e){return e=e==null?et:Math.pow(et,e),new ce(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fe:Math.pow(Fe,e),new ce(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ce(Ee(this.r),Ee(this.g),Ee(this.b),tt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kt,formatHex:Kt,formatHex8:ir,formatRgb:Vt,toString:Vt}));function Kt(){return`#${Me(this.r)}${Me(this.g)}${Me(this.b)}`}function ir(){return`#${Me(this.r)}${Me(this.g)}${Me(this.b)}${Me((isNaN(this.opacity)?1:this.opacity)*255)}`}function Vt(){const e=tt(this.opacity);return`${e===1?"rgb(":"rgba("}${Ee(this.r)}, ${Ee(this.g)}, ${Ee(this.b)}${e===1?")":`, ${e})`}`}function tt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ee(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Me(e){return e=Ee(e),(e<16?"0":"")+e.toString(16)}function Qt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pe(e,t,n,r)}function bn(e){if(e instanceof pe)return new pe(e.h,e.s,e.l,e.opacity);if(e instanceof Ue||(e=He(e)),!e)return new pe;if(e instanceof pe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),u=NaN,f=s-i,c=(s+i)/2;return f?(t===s?u=(n-r)/f+(n<r)*6:n===s?u=(r-t)/f+2:u=(t-n)/f+4,f/=c<.5?s+i:2-s-i,u*=60):f=c>0&&c<1?0:u,new pe(u,f,c,e.opacity)}function ar(e,t,n,r){return arguments.length===1?bn(e):new pe(e,t,n,r==null?1:r)}function pe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Mt(pe,ar,xn(Ue,{brighter(e){return e=e==null?et:Math.pow(et,e),new pe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fe:Math.pow(Fe,e),new pe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ce(ot(e>=240?e-240:e+120,i,r),ot(e,i,r),ot(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new pe(Gt(this.h),Ve(this.s),Ve(this.l),tt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=tt(this.opacity);return`${e===1?"hsl(":"hsla("}${Gt(this.h)}, ${Ve(this.s)*100}%, ${Ve(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Gt(e){return e=(e||0)%360,e<0?e+360:e}function Ve(e){return Math.max(0,Math.min(1,e||0))}function ot(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Et=e=>()=>e;function sr(e,t){return function(n){return e+n*t}}function or(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function lr(e){return(e=+e)==1?wn:function(t,n){return n-t?or(t,n,e):Et(isNaN(t)?n:t)}}function wn(e,t){var n=t-e;return n?sr(e,n):Et(isNaN(e)?t:e)}const Xt=function e(t){var n=lr(t);function r(i,s){var u=n((i=gt(i)).r,(s=gt(s)).r),f=n(i.g,s.g),c=n(i.b,s.b),l=wn(i.opacity,s.opacity);return function(g){return i.r=u(g),i.g=f(g),i.b=c(g),i.opacity=l(g),i+""}}return r.gamma=e,r}(1);function ur(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function fr(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cr(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),u;for(u=0;u<r;++u)i[u]=Ct(e[u],t[u]);for(;u<n;++u)s[u]=t[u];return function(f){for(u=0;u<r;++u)s[u]=i[u](f);return s}}function hr(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function nt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function dr(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ct(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var mt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lt=new RegExp(mt.source,"g");function pr(e){return function(){return e}}function gr(e){return function(t){return e(t)+""}}function mr(e,t){var n=mt.lastIndex=lt.lastIndex=0,r,i,s,u=-1,f=[],c=[];for(e=e+"",t=t+"";(r=mt.exec(e))&&(i=lt.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),f[u]?f[u]+=s:f[++u]=s),(r=r[0])===(i=i[0])?f[u]?f[u]+=i:f[++u]=i:(f[++u]=null,c.push({i:u,x:nt(r,i)})),n=lt.lastIndex;return n<t.length&&(s=t.slice(n),f[u]?f[u]+=s:f[++u]=s),f.length<2?c[0]?gr(c[0].x):pr(t):(t=c.length,function(l){for(var g=0,p;g<t;++g)f[(p=c[g]).i]=p.x(l);return f.join("")})}function Ct(e,t){var n=typeof t,r;return t==null||n==="boolean"?Et(t):(n==="number"?nt:n==="string"?(r=He(t))?(t=r,Xt):mr:t instanceof He?Xt:t instanceof Date?hr:fr(t)?ur:Array.isArray(t)?cr:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?dr:nt)(e,t)}function _r(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function yr(e){return function(){return e}}function xr(e){return+e}var Yt=[0,1];function Ae(e){return e}function _t(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:yr(isNaN(t)?NaN:.5)}function br(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function wr(e,t,n){var r=e[0],i=e[1],s=t[0],u=t[1];return i<r?(r=_t(i,r),s=n(u,s)):(r=_t(r,i),s=n(s,u)),function(f){return s(r(f))}}function vr(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)i[u]=_t(e[u],e[u+1]),s[u]=n(t[u],t[u+1]);return function(f){var c=Un(e,f,1,r)-1;return s[c](i[c](f))}}function kr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sr(){var e=Yt,t=Yt,n=Ct,r,i,s,u=Ae,f,c,l;function g(){var _=Math.min(e.length,t.length);return u!==Ae&&(u=br(e[0],e[_-1])),f=_>2?vr:wr,c=l=null,p}function p(_){return _==null||isNaN(_=+_)?s:(c||(c=f(e.map(r),t,n)))(r(u(_)))}return p.invert=function(_){return u(i((l||(l=f(t,e.map(r),nt)))(_)))},p.domain=function(_){return arguments.length?(e=Array.from(_,xr),g()):e.slice()},p.range=function(_){return arguments.length?(t=Array.from(_),g()):t.slice()},p.rangeRound=function(_){return t=Array.from(_),n=_r,g()},p.clamp=function(_){return arguments.length?(u=_?!0:Ae,g()):u!==Ae},p.interpolate=function(_){return arguments.length?(n=_,g()):n},p.unknown=function(_){return arguments.length?(s=_,p):s},function(_,k){return r=_,i=k,g()}}function Mr(){return Sr()(Ae,Ae)}function Er(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function De(e){return e=rt(Math.abs(e)),e?e[1]:NaN}function Cr(e,t){return function(n,r){for(var i=n.length,s=[],u=0,f=e[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),s.push(n.substring(i-=f,i+f)),!((c+=f+1)>r));)f=e[u=(u+1)%e.length];return s.reverse().join(t)}}function Rr(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Nr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function it(e){if(!(t=Nr.exec(e)))throw new Error("invalid format: "+e);var t;return new Rt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}it.prototype=Rt.prototype;function Rt(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Rt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ar(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var vn;function Or(e,t){var n=rt(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(vn=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return s===u?r:s>u?r+new Array(s-u+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+rt(e,Math.max(0,t+s-1))[0]}function Jt(e,t){var n=rt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Zt={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Er,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Jt(e*100,t),r:Jt,s:Or,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $t(e){return e}var en=Array.prototype.map,tn=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Dr(e){var t=e.grouping===void 0||e.thousands===void 0?$t:Cr(en.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?$t:Rr(en.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(p){p=it(p);var _=p.fill,k=p.align,R=p.sign,H=p.symbol,w=p.zero,T=p.width,Z=p.comma,$=p.precision,he=p.trim,P=p.type;P==="n"?(Z=!0,P="g"):Zt[P]||($===void 0&&($=12),he=!0,P="g"),(w||_==="0"&&k==="=")&&(w=!0,_="0",k="=");var ne=H==="$"?n:H==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",z=H==="$"?r:/[%p]/.test(P)?u:"",o=Zt[P],a=/[defgprs%]/.test(P);$=$===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$));function h(d){var m=ne,v=z,j,X,Y;if(P==="c")v=o(d)+v,d="";else{d=+d;var S=d<0||1/d<0;if(d=isNaN(d)?c:o(Math.abs(d),$),he&&(d=Ar(d)),S&&+d==0&&R!=="+"&&(S=!1),m=(S?R==="("?R:f:R==="-"||R==="("?"":R)+m,v=(P==="s"?tn[8+vn/3]:"")+v+(S&&R==="("?")":""),a){for(j=-1,X=d.length;++j<X;)if(Y=d.charCodeAt(j),48>Y||Y>57){v=(Y===46?i+d.slice(j+1):d.slice(j))+v,d=d.slice(0,j);break}}}Z&&!w&&(d=t(d,1/0));var C=m.length+d.length+v.length,x=C<T?new Array(T-C+1).join(_):"";switch(Z&&w&&(d=t(x+d,x.length?T-v.length:1/0),x=""),k){case"<":d=m+d+v+x;break;case"=":d=m+x+d+v;break;case"^":d=x.slice(0,C=x.length>>1)+m+d+v+x.slice(C);break;default:d=x+m+d+v;break}return s(d)}return h.toString=function(){return p+""},h}function g(p,_){var k=l((p=it(p),p.type="f",p)),R=Math.max(-8,Math.min(8,Math.floor(De(_)/3)))*3,H=Math.pow(10,-R),w=tn[8+R/3];return function(T){return k(H*T)+w}}return{format:l,formatPrefix:g}}var Qe,kn,Sn;Ir({thousands:",",grouping:[3],currency:["$",""]});function Ir(e){return Qe=Dr(e),kn=Qe.format,Sn=Qe.formatPrefix,Qe}function zr(e){return Math.max(0,-De(Math.abs(e)))}function Tr(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(De(t)/3)))*3-De(Math.abs(e)))}function Lr(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,De(t)-De(e))+1}function jr(e,t,n,r){var i=Qn(e,t,n),s;switch(r=it(r==null?",f":r),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=Tr(i,u))&&(r.precision=s),Sn(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Lr(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=zr(i))&&(r.precision=s-(r.type==="%")*2);break}}return kn(r)}function Pr(e){var t=e.domain;return e.ticks=function(n){var r=t();return Vn(r[0],r[r.length-1],n==null?10:n)},e.tickFormat=function(n,r){var i=t();return jr(i[0],i[i.length-1],n==null?10:n,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,u=r[i],f=r[s],c,l,g=10;for(f<u&&(l=u,u=f,f=l,l=i,i=s,s=l);g-- >0;){if(l=mn(u,f,n),l===c)return r[i]=u,r[s]=f,t(r);if(l>0)u=Math.floor(u/l)*l,f=Math.ceil(f/l)*l;else if(l<0)u=Math.ceil(u*l)/l,f=Math.floor(f*l)/l;else break;c=l}return e},e}function yt(){var e=Mr();return e.copy=function(){return kr(e,yt())},_n.apply(e,arguments),Pr(e)}function Fr(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const qr=Fr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Hr(e){let t;return{c(){t=F("p"),t.textContent="Hover over a circle to see details here.",N(t,"class","svelte-1c1ehhx")},m(n,r){te(n,t,r)},p:be,d(n){n&&ee(t)}}}function Ur(e){let t,n=e[0].title+"",r,i,s,u=e[0][e[1]]+"",f,c,l,g=e[0].date.toISOString().split("T")[0]+"",p,_,k,R=e[0].text+"",H;return{c(){t=F("h1"),r=we(n),i=ie(),s=F("span"),f=we(u),c=ie(),l=F("h2"),p=we(g),_=ie(),k=F("p"),H=we(R),N(t,"class","svelte-1c1ehhx"),It(s,"background",e[2](e[0][e[1]])),N(s,"class","svelte-1c1ehhx"),N(l,"class","svelte-1c1ehhx"),N(k,"class","svelte-1c1ehhx")},m(w,T){te(w,t,T),D(t,r),te(w,i,T),te(w,s,T),D(s,f),te(w,c,T),te(w,l,T),D(l,p),te(w,_,T),te(w,k,T),D(k,H)},p(w,T){T&1&&n!==(n=w[0].title+"")&&ke(r,n),T&3&&u!==(u=w[0][w[1]]+"")&&ke(f,u),T&7&&It(s,"background",w[2](w[0][w[1]])),T&1&&g!==(g=w[0].date.toISOString().split("T")[0]+"")&&ke(p,g),T&1&&R!==(R=w[0].text+"")&&ke(H,R)},d(w){w&&ee(t),w&&ee(i),w&&ee(s),w&&ee(c),w&&ee(l),w&&ee(_),w&&ee(k)}}}function Br(e){let t;function n(s,u){return s[0]?Ur:Hr}let r=n(e),i=r(e);return{c(){t=F("div"),i.c(),N(t,"class","detail-card svelte-1c1ehhx")},m(s,u){te(s,t,u),i.m(t,null)},p(s,[u]){r===(r=n(s))&&i?i.p(s,u):(i.d(1),i=r(s),i&&(i.c(),i.m(t,null)))},i:be,o:be,d(s){s&&ee(t),i.d()}}}function Wr(e,t,n){let{hoveredData:r}=t,{domainColumn:i}=t,{data:s}=t,{colorScale:u}=t;return bt(()=>{u.domain(s.map(f=>f[i]))}),e.$$set=f=>{"hoveredData"in f&&n(0,r=f.hoveredData),"domainColumn"in f&&n(1,i=f.domainColumn),"data"in f&&n(3,s=f.data),"colorScale"in f&&n(2,u=f.colorScale)},[r,i,u,s]}class Kr extends St{constructor(t){super(),kt(this,t,Wr,Br,xt,{hoveredData:0,domainColumn:1,data:3,colorScale:2})}}function Vr(e){let t,n,r,i,s,u,f;return i=new Kr({props:{hoveredData:e[5],data:e[0],domainColumn:e[1],colorScale:e[6]}}),{c(){t=F("div"),n=F("canvas"),r=ie(),dn(i.$$.fragment),N(n,"width",e[2]),N(n,"height",e[3]),N(n,"class","svelte-14rtzz4"),N(t,"class","chart-container svelte-14rtzz4")},m(c,l){te(c,t,l),D(t,n),e[14](n),D(t,r),wt(i,t,null),s=!0,u||(f=[de(n,"mousemove",e[7]),de(n,"mouseleave",e[8])],u=!0)},p(c,[l]){(!s||l&4)&&N(n,"width",c[2]),(!s||l&8)&&N(n,"height",c[3]);const g={};l&32&&(g.hoveredData=c[5]),l&1&&(g.data=c[0]),l&2&&(g.domainColumn=c[1]),i.$set(g)},i(c){s||(Pe(i.$$.fragment,c),s=!0)},o(c){$e(i.$$.fragment,c),s=!1},d(c){c&&ee(t),e[14](null),vt(i),u=!1,ve(f)}}}const ut=6;let Ge=1;function Qr(e,t,n){let r,i,s,u,{data:f=[]}=t,{domainColumn:c}=t,{opacity:l}=t,{selectedValues:g=new Set}=t,p,_,k=800,R=600;const H={top:20,right:20,bottom:20,left:20};let w=null,T=null,Z={x:0,y:0};const $=yn().domain([...new Set(f.map(a=>a[c]))]).range(qr);function he(){n(2,k=window.innerWidth*.8),n(3,R=window.innerHeight*.6),P()}function P(){_.clearRect(0,0,k,R),_.save(),_.translate(Z.x,Z.y),_.scale(Ge,Ge),_.translate(-Z.x,-Z.y),f.forEach(a=>{w&&w===a||(_.beginPath(),_.arc(H.left+s(a.x),H.top+u(a.y),ut,0,Math.PI*2),n(11,_.fillStyle=$(a[c]),_),n(11,_.globalAlpha=g.has(a[c])?1:l*.3,_),_.fill())}),w&&(_.beginPath(),_.arc(H.left+s(w.x),H.top+u(w.y),ut,0,Math.PI*2),n(11,_.fillStyle=$(w[c]),_),n(11,_.globalAlpha=1,_),_.fill(),n(11,_.strokeStyle="black",_),n(11,_.lineWidth=2,_),_.stroke()),_.restore()}function ne(a){const h=p.getBoundingClientRect(),d=a.clientX-h.left-H.left,m=a.clientY-h.top-H.top,v=(d-Z.x)/Ge+Z.x,j=(m-Z.y)/Ge+Z.y,X=f.find(Y=>{const S=s(Y.x)-v,C=u(Y.y)-j;return Math.sqrt(S*S+C*C)<ut+3});X?(n(5,w=X),T=X):n(5,w=T),P()}function z(){n(5,w=T),P()}bt(()=>{n(11,_=p.getContext("2d")),P(),window.addEventListener("resize",he)});function o(a){ft[a?"unshift":"push"](()=>{p=a,n(4,p)})}return e.$$set=a=>{"data"in a&&n(0,f=a.data),"domainColumn"in a&&n(1,c=a.domainColumn),"opacity"in a&&n(9,l=a.opacity),"selectedValues"in a&&n(10,g=a.selectedValues)},e.$$.update=()=>{e.$$.dirty&4&&n(13,r=k-H.left-H.right),e.$$.dirty&8&&n(12,i=R-H.top-H.bottom),e.$$.dirty&8193&&(s=yt().domain([Ft(f,a=>a.x),Pt(f,a=>a.x)]).range([0,r])),e.$$.dirty&4097&&(u=yt().domain([Ft(f,a=>a.y),Pt(f,a=>a.y)]).range([i,0])),e.$$.dirty&2049&&_&&f.length&&P()},[f,c,k,R,p,w,$,ne,z,l,g,_,i,r,o]}class Gr extends St{constructor(t){super(),kt(this,t,Qr,Vr,xt,{data:0,domainColumn:1,opacity:9,selectedValues:10})}}function nn(e,t,n){const r=e.slice();return r[22]=t[n],r}function rn(e,t,n){const r=e.slice();return r[25]=t[n],r}function an(e){let t,n,r,i,s,u,f=e[5],c=[];for(let l=0;l<f.length;l+=1)c[l]=sn(rn(e,f,l));return{c(){t=F("label"),t.textContent="Select a column for coloring:",n=ie(),r=F("select"),i=F("option"),i.textContent="Select column";for(let l=0;l<c.length;l+=1)c[l].c();N(t,"class","svelte-rczxio"),i.__value="",i.value=i.__value,i.disabled=!0,i.selected=!0,e[6]===void 0&&Ze(()=>e[16].call(r))},m(l,g){te(l,t,g),te(l,n,g),te(l,r,g),D(r,i);for(let p=0;p<c.length;p+=1)c[p].m(r,null);zt(r,e[6]),s||(u=[de(r,"change",e[11]),de(r,"change",e[16])],s=!0)},p(l,g){if(g&32){f=l[5];let p;for(p=0;p<f.length;p+=1){const _=rn(l,f,p);c[p]?c[p].p(_,g):(c[p]=sn(_),c[p].c(),c[p].m(r,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}g&96&&zt(r,l[6])},d(l){l&&ee(t),l&&ee(n),l&&ee(r),cn(c,l),s=!1,ve(u)}}}function sn(e){let t,n=e[25]+"",r,i;return{c(){t=F("option"),r=we(n),t.__value=i=e[25],t.value=t.__value},m(s,u){te(s,t,u),D(t,r)},p(s,u){u&32&&n!==(n=s[25]+"")&&ke(r,n),u&32&&i!==(i=s[25])&&(t.__value=i,t.value=t.__value)},d(s){s&&ee(t)}}}function on(e){let t,n,r,i,s,u=e[7],f=[];for(let c=0;c<u.length;c+=1)f[c]=ln(nn(e,u,c));return{c(){t=F("label"),t.textContent="Select values to highlight:",n=ie(),r=F("select");for(let c=0;c<f.length;c+=1)f[c].c();N(t,"class","svelte-rczxio"),r.multiple=!0,N(r,"size","5"),N(r,"class","multi-select svelte-rczxio")},m(c,l){te(c,t,l),te(c,n,l),te(c,r,l);for(let g=0;g<f.length;g+=1)f[g].m(r,null);i||(s=de(r,"change",e[12]),i=!0)},p(c,l){if(l&128){u=c[7];let g;for(g=0;g<u.length;g+=1){const p=nn(c,u,g);f[g]?f[g].p(p,l):(f[g]=ln(p),f[g].c(),f[g].m(r,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=u.length}},d(c){c&&ee(t),c&&ee(n),c&&ee(r),cn(f,c),i=!1,s()}}}function ln(e){let t,n=e[22]+"",r,i;return{c(){t=F("option"),r=we(n),t.__value=i=e[22],t.value=t.__value,N(t,"class","svelte-rczxio")},m(s,u){te(s,t,u),D(t,r)},p(s,u){u&128&&n!==(n=s[22]+"")&&ke(r,n),u&128&&i!==(i=s[22])&&(t.__value=i,t.value=t.__value)},d(s){s&&ee(t)}}}function Xr(e){let t;return{c(){t=F("p"),t.textContent="Loading data..."},m(n,r){te(n,t,r)},p:be,i:be,o:be,d(n){n&&ee(t)}}}function Yr(e){let t,n;return t=new Gr({props:{data:e[10],domainColumn:e[6],selectedValues:e[8],opacity:e[9]}}),{c(){dn(t.$$.fragment)},m(r,i){wt(t,r,i),n=!0},p(r,i){const s={};i&1024&&(s.data=r[10]),i&64&&(s.domainColumn=r[6]),i&256&&(s.selectedValues=r[8]),i&512&&(s.opacity=r[9]),t.$set(s)},i(r){n||(Pe(t.$$.fragment,r),n=!0)},o(r){$e(t.$$.fragment,r),n=!1},d(r){vt(t,r)}}}function Jr(e){let t,n,r,i,s,u,f,c,l,g,p,_,k,R,H,w,T,Z,$,he,P,ne,z,o,a,h,d,m,v,j=Ne(e[4])+"",X,Y,S,C,x,K,E,A,y=e[5].length&&an(e),L=e[7].length&&on(e);const J=[Yr,Xr],B=[];function ue(b,M){return b[10].length?0:1}return C=ue(e),x=B[C]=J[C](e),{c(){t=F("div"),n=F("div"),r=F("label"),r.textContent="Upload CSV File:",i=ie(),s=F("input"),u=ie(),y&&y.c(),f=ie(),L&&L.c(),c=ie(),l=F("label"),l.textContent="Adjust Opacity:",g=ie(),p=F("input"),_=ie(),k=F("div"),R=F("label"),R.textContent="Start Date:",H=ie(),w=F("input"),Z=ie(),$=F("label"),$.textContent="End Date:",he=ie(),P=F("input"),z=ie(),o=F("label"),o.textContent="Date Scrubber:",a=ie(),h=F("input"),m=ie(),v=F("div"),X=we(j),Y=ie(),S=F("div"),x.c(),N(r,"class","svelte-rczxio"),N(s,"type","file"),N(s,"accept",".csv"),N(l,"class","svelte-rczxio"),N(p,"type","range"),N(p,"min","0.01"),N(p,"max","1"),N(p,"step","0.1"),N(R,"class","svelte-rczxio"),N(w,"type","date"),w.value=T=Ne(e[0]),N($,"class","svelte-rczxio"),N(P,"type","date"),P.value=ne=Ne(e[1]),N(o,"class","svelte-rczxio"),N(h,"type","range"),N(h,"min","0"),N(h,"max",d=e[2].length-1),N(v,"class","current-date svelte-rczxio"),N(k,"class","date-controls svelte-rczxio"),N(n,"class","filter-panel svelte-rczxio"),N(S,"class","scatterplot-container svelte-rczxio"),N(t,"class","container svelte-rczxio")},m(b,M){te(b,t,M),D(t,n),D(n,r),D(n,i),D(n,s),D(n,u),y&&y.m(n,null),D(n,f),L&&L.m(n,null),D(n,c),D(n,l),D(n,g),D(n,p),Be(p,e[9]),D(n,_),D(n,k),D(k,R),D(k,H),D(k,w),D(k,Z),D(k,$),D(k,he),D(k,P),D(k,z),D(k,o),D(k,a),D(k,h),Be(h,e[3]),D(k,m),D(k,v),D(v,X),D(t,Y),D(t,S),B[C].m(S,null),K=!0,E||(A=[de(s,"change",e[14]),de(p,"change",e[17]),de(p,"input",e[17]),de(w,"change",e[18]),de(P,"change",e[19]),de(h,"change",e[20]),de(h,"input",e[20])],E=!0)},p(b,[M]){b[5].length?y?y.p(b,M):(y=an(b),y.c(),y.m(n,f)):y&&(y.d(1),y=null),b[7].length?L?L.p(b,M):(L=on(b),L.c(),L.m(n,c)):L&&(L.d(1),L=null),M&512&&Be(p,b[9]),(!K||M&1&&T!==(T=Ne(b[0])))&&(w.value=T),(!K||M&2&&ne!==(ne=Ne(b[1])))&&(P.value=ne),(!K||M&4&&d!==(d=b[2].length-1))&&N(h,"max",d),M&8&&Be(h,b[3]),(!K||M&16)&&j!==(j=Ne(b[4])+"")&&ke(X,j);let W=C;C=ue(b),C===W?B[C].p(b,M):(Dn(),$e(B[W],1,1,()=>{B[W]=null}),In(),x=B[C],x?x.p(b,M):(x=B[C]=J[C](b),x.c()),Pe(x,1),x.m(S,null))},i(b){K||(Pe(x),K=!0)},o(b){$e(x),K=!1},d(b){b&&ee(t),y&&y.d(),L&&L.d(),B[C].d(),E=!1,ve(A)}}}function Ne(e){return e?e.toISOString().split("T")[0]:""}function Zr(e,t,n){let r,i=[],s=[],u="",f=[],c=new Set,l=1,g=null,p=null,_=[],k=[],R=0;bt(async()=>{const h=await(await fetch("/semantic-maps/data.csv")).text();H(h)});function H(a){const h=Ln.parse(a,{header:!0});n(15,i=h.data.filter(d=>d.x&&d.y&&d.date).map(d=>({...d,x:+d.x,y:+d.y,date:new Date(d.date)}))),n(5,s=h.meta.fields||[]),n(2,k=[...new Set(i.map(d=>d.date.getTime()))].sort((d,m)=>d-m).map(d=>new Date(d))),n(0,g=k[0]),n(1,p=k[k.length-1]),n(3,R=k.length-1)}function w(a){n(6,u=a.target.value),n(7,f=u?[...new Set(i.map(h=>h[u]).filter(Boolean))]:[]),n(8,c=new Set)}function T(a){n(8,c=new Set([...a.target.selectedOptions].map(h=>h.value)))}function Z(a,h){const d=a.target.value?new Date(a.target.value):null;h==="start"?(n(0,g=d),g>r&&n(3,R=k.findIndex(m=>m>=g))):(n(1,p=d),p<r&&n(3,R=k.findIndex(m=>m<=p)))}function $(a){const h=a.target.files[0];if(h){const d=new FileReader;d.onload=m=>H(m.target.result),d.readAsText(h)}}function he(){u=Cn(this),n(6,u),n(5,s)}function P(){l=Dt(this.value),n(9,l)}const ne=a=>Z(a,"start"),z=a=>Z(a,"end");function o(){R=Dt(this.value),n(3,R)}return e.$$.update=()=>{e.$$.dirty&12&&n(4,r=k[R]||null),e.$$.dirty&32787&&n(10,_=i.filter(a=>(!g||a.date>=g)&&(!p||a.date<=r)))},[g,p,k,R,r,s,u,f,c,l,_,w,T,Z,$,i,he,P,ne,z,o]}class $r extends St{constructor(t){super(),kt(this,t,Zr,Jr,xt,{})}}new $r({target:document.getElementById("app")});
